/*! For license information please see main.7137a8f9.js.LICENSE.txt */
(()=>{"use strict";var e={7284:e=>{var t,a="object"===typeof Reflect?Reflect:null,n=a&&"function"===typeof a.apply?a.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};t=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(a,n){function r(a){e.removeListener(t,s),n(a)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",r),a([].slice.call(arguments))}p(e,t,s,{once:!0}),"error"!==t&&function(e,t,a){"function"===typeof e.on&&p(e,"error",t,a)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,a,n){var r,s,i,c;if(l(a),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),s=e._events),i=s[t]),void 0===i)i=s[t]=a,++e._eventsCount;else if("function"===typeof i?i=s[t]=n?[a,i]:[i,a]:n?i.unshift(a):i.push(a),(r=o(e))>0&&i.length>r&&!i.warned){i.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=i.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},r=u.bind(n);return r.listener=a,n.wrapFn=r,r}function h(e,t,a){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"===typeof r?a?[r.listener||r]:[r]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"===typeof a)return 1;if(void 0!==a)return a.length}return 0}function g(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function p(e,t,a,n){if("function"===typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){n.once&&e.removeEventListener(t,r),a(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return o(this)},s.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var o=s[e];if(void 0===o)return!1;if("function"===typeof o)n(o,this,t);else{var c=o.length,u=g(o,c);for(a=0;a<c;++a)n(u[a],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var a,n,r,s,i;if(l(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!==typeof a){for(r=-1,s=a.length-1;s>=0;s--)if(a[s]===t||a[s].listener===t){i=a[s].listener,r=s;break}if(r<0)return this;0===r?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,r),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var r,s=Object.keys(a);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2730:(e,t,a)=>{var n=a(5043),r=a(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function p(e,t,a,n,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,a,n){var r=f.hasOwnProperty(t)?f[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,n){if(null===t||"undefined"===typeof t||function(e,t,a,n){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,r,n)&&(a=null),n||null===r?function(e){return!!d.call(g,e)||!d.call(m,e)&&(h.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):r.mustUseProperty?e[r.propertyName]=null===a?3!==r.type&&"":a:(t=r.attributeName,n=r.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(r=r.type)||4===r&&!0===a?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);f[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var _,F=Object.assign;function D(e){if(void 0===_)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=n.stack.split("\n"),i=r.length-1,l=s.length-1;1<=i&&0<=l&&r[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==s[l]){var o="\n"+r[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{B=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?D(e):""}function G(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case N:return"Portal";case T:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case w:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(a){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function V(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var a=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function Z(e,t){var a=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;a=W(null!=t.value?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){q(e,t);var a=W(t.value),n=t.type;if(null!=a)"number"===n?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&V(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+W(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(s(92));if(te(a)){if(1<a.length)throw Error(s(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:W(a)}}function se(e,t){var a=W(t.value),n=W(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function pe(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var n=0===a.indexOf("--"),r=pe(a,t[a],n);"float"===a&&(a="cssFloat"),n?e.setProperty(a,r):e[a]=r}}Object.keys(me).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Se=null,Ce=null;function Te(e){if(e=br(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=xr(t),Ne(e.stateNode,e.type,t))}}function Ae(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Me(e,t){return e(t)}function je(){}var we=!1;function Re(e,t,a){if(we)return e(t,a);we=!0;try{return Me(e,t,a)}finally{we=!1,(null!==Se||null!==Ce)&&(je(),ke())}}function Ie(e,t){var a=e.stateNode;if(null===a)return null;var n=xr(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(s(231,t,typeof a));return a}var Oe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Oe=!1}function Pe(e,t,a,n,r,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(u){this.onError(u)}}var _e=!1,Fe=null,De=!1,Be=null,Ue={onError:function(e){_e=!0,Fe=e}};function Ge(e,t,a,n,r,s,i,l,o){_e=!1,Fe=null,Pe.apply(Ue,arguments)}function He(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(n=r.return)){a=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return We(r),e;if(i===n)return We(r),t;i=i.sibling}throw Error(s(188))}if(a.return!==n.return)a=r,n=i;else{for(var l=!1,o=r.child;o;){if(o===a){l=!0,a=r,n=i;break}if(o===n){l=!0,n=r,a=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===a){l=!0,a=i,n=r;break}if(o===n){l=!0,n=i,a=r;break}o=o.sibling}if(!l)throw Error(s(189))}}if(a.alternate!==n)throw Error(s(190))}if(3!==a.tag)throw Error(s(188));return a.stateNode.current===a?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Ve=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,Ze=r.unstable_requestPaint,qe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,at=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&a;if(0!==i){var l=i&~r;0!==l?n=dt(l):0!==(s&=i)&&(n=dt(s))}else 0!==(i=a&~r)?n=dt(i):0!==s&&(n=dt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(a=31-it(t)),n|=e[a],t&=~r;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function vt(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=a}function yt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-it(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Nt,St,Ct,Tt,At=!1,kt=[],Mt=null,jt=null,wt=null,Rt=new Map,It=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function _t(e,t,a,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var a=He(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=ze(a)))return e.blockedOn=t,void Tt(e.priority,(function(){St(a)}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=br(a))&&Nt(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);Ee=n,a.target.dispatchEvent(n),Ee=null,t.shift()}return!0}function Bt(e,t,a){Dt(e)&&a.delete(t)}function Ut(){At=!1,null!==Mt&&Dt(Mt)&&(Mt=null),null!==jt&&Dt(jt)&&(jt=null),null!==wt&&Dt(wt)&&(wt=null),Rt.forEach(Bt),It.forEach(Bt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Gt(t,e)}if(0<kt.length){Gt(kt[0],e);for(var a=1;a<kt.length;a++){var n=kt[a];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Mt&&Gt(Mt,e),null!==jt&&Gt(jt,e),null!==wt&&Gt(wt,e),Rt.forEach(t),It.forEach(t),a=0;a<Ot.length;a++)(n=Ot[a]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(a=Ot[0]).blockedOn;)Ft(a),null===a.blockedOn&&Ot.shift()}var zt=E.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,a,n){var r=bt,s=zt.transition;zt.transition=null;try{bt=1,Yt(e,t,a,n)}finally{bt=r,zt.transition=s}}function Qt(e,t,a,n){var r=bt,s=zt.transition;zt.transition=null;try{bt=4,Yt(e,t,a,n)}finally{bt=r,zt.transition=s}}function Yt(e,t,a,n){if(Wt){var r=Xt(e,t,a,n);if(null===r)Wn(e,t,n,Vt,a),Pt(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return Mt=_t(Mt,e,t,a,n,r),!0;case"dragenter":return jt=_t(jt,e,t,a,n,r),!0;case"mouseover":return wt=_t(wt,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return Rt.set(s,_t(Rt.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,It.set(s,_t(It.get(s)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(Pt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&xt(s),null===(s=Xt(e,t,a,n))&&Wn(e,t,n,Vt,a),s===r)break;r=s}null!==r&&n.stopPropagation()}else Wn(e,t,n,null,a)}}var Vt=null;function Xt(e,t,a,n){if(Vt=null,null!==(e=yr(e=xe(n))))if(null===(t=He(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case at:return 16;case nt:return 536870912;default:return 16}default:return 16}}var qt=null,Jt=null,$t=null;function ea(){if($t)return $t;var e,t,a=Jt,n=a.length,r="value"in qt?qt.value:qt.textContent,s=r.length;for(e=0;e<n&&a[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&a[n-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function na(){return!1}function ra(e){function t(t,a,n,r,s){for(var i in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?aa:na,this.isPropagationStopped=na,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var sa,ia,la,oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ra(oa),ua=F({},oa,{view:0,detail:0}),da=ra(ua),ha=F({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&"mousemove"===e.type?(sa=e.screenX-la.screenX,ia=e.screenY-la.screenY):ia=sa=0,la=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),ma=ra(ha),ga=ra(F({},ha,{dataTransfer:0})),pa=ra(F({},ua,{relatedTarget:0})),fa=ra(F({},oa,{animationName:0,elapsedTime:0,pseudoElement:0})),va=F({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ya=ra(va),ba=ra(F({},oa,{data:0})),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Na[e])&&!!t[e]}function Ca(){return Sa}var Ta=F({},ua,{key:function(e){if(e.key){var t=Ea[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Aa=ra(Ta),ka=ra(F({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ma=ra(F({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca})),ja=ra(F({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0})),wa=F({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=ra(wa),Ia=[9,13,27,32],Oa=u&&"CompositionEvent"in window,La=null;u&&"documentMode"in document&&(La=document.documentMode);var Pa=u&&"TextEvent"in window&&!La,_a=u&&(!Oa||La&&8<La&&11>=La),Fa=String.fromCharCode(32),Da=!1;function Ba(e,t){switch(e){case"keyup":return-1!==Ia.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ga=!1;var Ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ha[e.type]:"textarea"===t}function Wa(e,t,a,n){Ae(n),0<(t=Qn(t,"onChange")).length&&(a=new ca("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ka=null,Qa=null;function Ya(e){Dn(e,0)}function Va(e){if(Y(Er(e)))return e}function Xa(e,t){if("change"===e)return t}var Za=!1;if(u){var qa;if(u){var Ja="oninput"in document;if(!Ja){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Ja="function"===typeof $a.oninput}qa=Ja}else qa=!1;Za=qa&&(!document.documentMode||9<document.documentMode)}function en(){Ka&&(Ka.detachEvent("onpropertychange",tn),Qa=Ka=null)}function tn(e){if("value"===e.propertyName&&Va(Qa)){var t=[];Wa(t,Qa,e,xe(e)),Re(Ya,t)}}function an(e,t,a){"focusin"===e?(en(),Qa=a,(Ka=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Va(Qa)}function rn(e,t){if("click"===e)return Va(t)}function sn(e,t){if("input"===e||"change"===e)return Va(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!d.call(t,r)||!ln(e[r],t[r]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var a,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=V((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=hn(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&dn(a.ownerDocument.documentElement,a)){if(null!==n&&mn(a))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=a.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=un(a,s);var i=un(a,n);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=u&&"documentMode"in document&&11>=document.documentMode,fn=null,vn=null,yn=null,bn=!1;function En(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;bn||null==fn||fn!==V(n)||("selectionStart"in(n=fn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&on(yn,n)||(yn=n,0<(n=Qn(vn,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=fn)))}function xn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},Sn={},Cn={};function Tn(e){if(Sn[e])return Sn[e];if(!Nn[e])return e;var t,a=Nn[e];for(t in a)if(a.hasOwnProperty(t)&&t in Cn)return Sn[e]=a[t];return e}u&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var An=Tn("animationend"),kn=Tn("animationiteration"),Mn=Tn("animationstart"),jn=Tn("transitionend"),wn=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){wn.set(e,t),o(t,[e])}for(var On=0;On<Rn.length;On++){var Ln=Rn[On];In(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}In(An,"onAnimationEnd"),In(kn,"onAnimationIteration"),In(Mn,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(jn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_n=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Fn(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,r,i,l,o,c){if(Ge.apply(this,arguments),_e){if(!_e)throw Error(s(198));var u=Fe;_e=!1,Fe=null,De||(De=!0,Be=u)}}(n,t,void 0,e),e.currentTarget=null}function Dn(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;Fn(r,l,c),s=o}else for(i=0;i<n.length;i++){if(o=(l=n[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;Fn(r,l,c),s=o}}}if(De)throw e=Be,De=!1,Be=null,e}function Bn(e,t){var a=t[pr];void 0===a&&(a=t[pr]=new Set);var n=e+"__bubble";a.has(n)||(zn(t,e,2,!1),a.add(n))}function Un(e,t,a){var n=0;t&&(n|=4),zn(a,e,n,t)}var Gn="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Gn]){e[Gn]=!0,i.forEach((function(t){"selectionchange"!==t&&(_n.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gn]||(t[Gn]=!0,Un("selectionchange",!1,t))}}function zn(e,t,a,n){switch(Zt(t)){case 1:var r=Kt;break;case 4:r=Qt;break;default:r=Yt}a=r.bind(null,t,a,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Wn(e,t,a,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var l=n.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=yr(l)))return;if(5===(o=i.tag)||6===o){n=s=i;continue e}l=l.parentNode}}n=n.return}Re((function(){var n=s,r=xe(a),i=[];e:{var l=wn.get(e);if(void 0!==l){var o=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":o=Aa;break;case"focusin":c="focus",o=pa;break;case"focusout":c="blur",o=pa;break;case"beforeblur":case"afterblur":o=pa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ga;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ma;break;case An:case kn:case Mn:o=fa;break;case jn:o=ja;break;case"scroll":o=da;break;case"wheel":o=Ra;break;case"copy":case"cut":case"paste":o=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=ka}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==l?l+"Capture":null:l;u=[];for(var m,g=n;null!==g;){var p=(m=g).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=Ie(g,h))&&u.push(Kn(g,p,m)))),d)break;g=g.return}0<u.length&&(l=new o(l,c,null,a,r),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||a===Ee||!(c=a.relatedTarget||a.fromElement)||!yr(c)&&!c[gr])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=n,null!==(c=(c=a.relatedTarget||a.toElement)?yr(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(u=ma,p="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=ka,p="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==o?l:Er(o),m=null==c?l:Er(c),(l=new u(p,g+"leave",o,a,r)).target=d,l.relatedTarget=m,p=null,yr(r)===n&&((u=new u(h,g+"enter",c,a,r)).target=m,u.relatedTarget=d,p=u),d=p,o&&c)e:{for(h=c,g=0,m=u=o;m;m=Yn(m))g++;for(m=0,p=h;p;p=Yn(p))m++;for(;0<g-m;)u=Yn(u),g--;for(;0<m-g;)h=Yn(h),m--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yn(u),h=Yn(h)}u=null}else u=null;null!==o&&Vn(i,l,o,u,!1),null!==c&&null!==d&&Vn(i,d,c,u,!0)}if("select"===(o=(l=n?Er(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var f=Xa;else if(za(l))if(Za)f=sn;else{f=nn;var v=an}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(f=rn);switch(f&&(f=f(e,n))?Wa(i,f,a,r):(v&&v(e,l,n),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=n?Er(n):window,e){case"focusin":(za(v)||"true"===v.contentEditable)&&(fn=v,vn=n,yn=null);break;case"focusout":yn=vn=fn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,En(i,a,r);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":En(i,a,r)}var y;if(Oa)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ga?Ba(e,a)&&(b="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(b="onCompositionStart");b&&(_a&&"ko"!==a.locale&&(Ga||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ga&&(y=ea()):(Jt="value"in(qt=r)?qt.value:qt.textContent,Ga=!0)),0<(v=Qn(n,b)).length&&(b=new ba(b,e,null,a,r),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Ua(a))&&(b.data=y))),(y=Pa?function(e,t){switch(e){case"compositionend":return Ua(t);case"keypress":return 32!==t.which?null:(Da=!0,Fa);case"textInput":return(e=t.data)===Fa&&Da?null:e;default:return null}}(e,a):function(e,t){if(Ga)return"compositionend"===e||!Oa&&Ba(e,t)?(e=ea(),$t=Jt=qt=null,Ga=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _a&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(n=Qn(n,"onBeforeInput")).length&&(r=new ba("onBeforeInput","beforeinput",null,a,r),i.push({event:r,listeners:n}),r.data=y))}Dn(i,t)}))}function Kn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Qn(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ie(e,a))&&n.unshift(Kn(e,s,r)),null!=(s=Ie(e,t))&&n.push(Kn(e,s,r))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vn(e,t,a,n,r){for(var s=t._reactName,i=[];null!==a&&a!==n;){var l=a,o=l.alternate,c=l.stateNode;if(null!==o&&o===n)break;5===l.tag&&null!==c&&(l=c,r?null!=(o=Ie(a,s))&&i.unshift(Kn(a,o,l)):r||null!=(o=Ie(a,s))&&i.push(Kn(a,o,l))),a=a.return}0!==i.length&&e.push({event:t,listeners:i})}var Xn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function qn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Zn,"")}function Jn(e,t,a){if(t=qn(t),qn(e)!==t&&a)throw Error(s(425))}function $n(){}var er=null,tr=null;function ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(lr)}:nr;function lr(e){setTimeout((function(){throw e}))}function or(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===n)return e.removeChild(r),void Ht(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=r}while(a);Ht(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,mr="__reactProps$"+dr,gr="__reactContainer$"+dr,pr="__reactEvents$"+dr,fr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[gr]||a[hr]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=ur(e);null!==e;){if(a=e[hr])return a;e=ur(e)}return t}a=(e=a).parentNode}return null}function br(e){return!(e=e[hr]||e[gr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xr(e){return e[mr]||null}var Nr=[],Sr=-1;function Cr(e){return{current:e}}function Tr(e){0>Sr||(e.current=Nr[Sr],Nr[Sr]=null,Sr--)}function Ar(e,t){Sr++,Nr[Sr]=e.current,e.current=t}var kr={},Mr=Cr(kr),jr=Cr(!1),wr=kr;function Rr(e,t){var a=e.type.contextTypes;if(!a)return kr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in a)s[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Tr(jr),Tr(Mr)}function Lr(e,t,a){if(Mr.current!==kr)throw Error(s(168));Ar(Mr,t),Ar(jr,a)}function Pr(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return a;for(var r in n=n.getChildContext())if(!(r in t))throw Error(s(108,z(e)||"Unknown",r));return F({},a,n)}function _r(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,wr=Mr.current,Ar(Mr,e),Ar(jr,jr.current),!0}function Fr(e,t,a){var n=e.stateNode;if(!n)throw Error(s(169));a?(e=Pr(e,t,wr),n.__reactInternalMemoizedMergedChildContext=e,Tr(jr),Tr(Mr),Ar(Mr,e)):Tr(jr),Ar(jr,a)}var Dr=null,Br=!1,Ur=!1;function Gr(e){null===Dr?Dr=[e]:Dr.push(e)}function Hr(){if(!Ur&&null!==Dr){Ur=!0;var e=0,t=bt;try{var a=Dr;for(bt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Dr=null,Br=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Ye($e,Hr),r}finally{bt=t,Ur=!1}}return null}var zr=[],Wr=0,Kr=null,Qr=0,Yr=[],Vr=0,Xr=null,Zr=1,qr="";function Jr(e,t){zr[Wr++]=Qr,zr[Wr++]=Kr,Kr=e,Qr=t}function $r(e,t,a){Yr[Vr++]=Zr,Yr[Vr++]=qr,Yr[Vr++]=Xr,Xr=e;var n=Zr;e=qr;var r=32-it(n)-1;n&=~(1<<r),a+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Zr=1<<32-it(t)+r|a<<r|n,qr=s+e}else Zr=1<<s|a<<r|n,qr=e}function es(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function ts(e){for(;e===Kr;)Kr=zr[--Wr],zr[Wr]=null,Qr=zr[--Wr],zr[Wr]=null;for(;e===Xr;)Xr=Yr[--Vr],Yr[Vr]=null,qr=Yr[--Vr],Yr[Vr]=null,Zr=Yr[--Vr],Yr[Vr]=null}var as=null,ns=null,rs=!1,ss=null;function is(e,t){var a=Rc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function ls(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ns=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Xr?{id:Zr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Rc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,as=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=ns;if(t){var a=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=cr(a.nextSibling);var n=as;t&&ls(e,t)?is(n,a):(e.flags=-4097&e.flags|2,rs=!1,as=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,as=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function ds(e){if(e!==as)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ar(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){ns=cr(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}ns=null}}else ns=as?cr(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=cr(e.nextSibling)}function ms(){ns=as=null,rs=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var ps=E.ReactCurrentBatchConfig;function fs(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(s(309));var n=a.stateNode}if(!n)throw Error(s(147,e));var r=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Fc(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,n){var s=a.type;return s===S?d(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&ys(s)===t.type)?((n=r(t,a.props)).ref=fs(e,t,a),n.return=e,n):((n=Lc(a.type,a.key,a.props,null,e.mode,n)).ref=fs(e,t,a),n.return=e,n)}function u(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Dc(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function d(e,t,a,n,s){return null===t||7!==t.tag?((t=Pc(a,e.mode,n,s)).return=e,t):((t=r(t,a)).return=e,t)}function h(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(a=Lc(t.type,t.key,t.props,null,e.mode,a)).ref=fs(e,null,t),a.return=e,a;case N:return(t=Dc(t,e.mode,a)).return=e,t;case I:return h(e,(0,t._init)(t._payload),a)}if(te(t)||P(t))return(t=Pc(t,e.mode,a,null)).return=e,t;vs(e,t)}return null}function m(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==r?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case x:return a.key===r?c(e,t,a,n):null;case N:return a.key===r?u(e,t,a,n):null;case I:return m(e,t,(r=a._init)(a._payload),n)}if(te(a)||P(a))return null!==r?null:d(e,t,a,n,null);vs(e,a)}return null}function g(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return c(t,e=e.get(null===n.key?a:n.key)||null,n,r);case N:return u(t,e=e.get(null===n.key?a:n.key)||null,n,r);case I:return g(e,t,a,(0,n._init)(n._payload),r)}if(te(n)||P(n))return d(t,e=e.get(a)||null,n,r,null);vs(t,n)}return null}function p(r,s,l,o){for(var c=null,u=null,d=s,p=s=0,f=null;null!==d&&p<l.length;p++){d.index>p?(f=d,d=null):f=d.sibling;var v=m(r,d,l[p],o);if(null===v){null===d&&(d=f);break}e&&d&&null===v.alternate&&t(r,d),s=i(v,s,p),null===u?c=v:u.sibling=v,u=v,d=f}if(p===l.length)return a(r,d),rs&&Jr(r,p),c;if(null===d){for(;p<l.length;p++)null!==(d=h(r,l[p],o))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return rs&&Jr(r,p),c}for(d=n(r,d);p<l.length;p++)null!==(f=g(d,r,p,l[p],o))&&(e&&null!==f.alternate&&d.delete(null===f.key?p:f.key),s=i(f,s,p),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(r,e)})),rs&&Jr(r,p),c}function f(r,l,o,c){var u=P(o);if("function"!==typeof u)throw Error(s(150));if(null==(o=u.call(o)))throw Error(s(151));for(var d=u=null,p=l,f=l=0,v=null,y=o.next();null!==p&&!y.done;f++,y=o.next()){p.index>f?(v=p,p=null):v=p.sibling;var b=m(r,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(r,p),l=i(b,l,f),null===d?u=b:d.sibling=b,d=b,p=v}if(y.done)return a(r,p),rs&&Jr(r,f),u;if(null===p){for(;!y.done;f++,y=o.next())null!==(y=h(r,y.value,c))&&(l=i(y,l,f),null===d?u=y:d.sibling=y,d=y);return rs&&Jr(r,f),u}for(p=n(r,p);!y.done;f++,y=o.next())null!==(y=g(p,r,f,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?f:y.key),l=i(y,l,f),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(r,e)})),rs&&Jr(r,f),u}return function e(n,s,i,o){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){a(n,u.sibling),(s=r(u,i.props.children)).return=n,n=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&ys(c)===u.type){a(n,u.sibling),(s=r(u,i.props)).ref=fs(n,u,i),s.return=n,n=s;break e}a(n,u);break}t(n,u),u=u.sibling}i.type===S?((s=Pc(i.props.children,n.mode,o,i.key)).return=n,n=s):((o=Lc(i.type,i.key,i.props,null,n.mode,o)).ref=fs(n,s,i),o.return=n,n=o)}return l(n);case N:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){a(n,s.sibling),(s=r(s,i.children||[])).return=n,n=s;break e}a(n,s);break}t(n,s),s=s.sibling}(s=Dc(i,n.mode,o)).return=n,n=s}return l(n);case I:return e(n,s,(u=i._init)(i._payload),o)}if(te(i))return p(n,s,i,o);if(P(i))return f(n,s,i,o);vs(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(a(n,s.sibling),(s=r(s,i)).return=n,n=s):(a(n,s),(s=Fc(i,n.mode,o)).return=n,n=s),l(n)):a(n,s)}}var Es=bs(!0),xs=bs(!1),Ns=Cr(null),Ss=null,Cs=null,Ts=null;function As(){Ts=Cs=Ss=null}function ks(e){var t=Ns.current;Tr(Ns),e._currentValue=t}function Ms(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function js(e,t){Ss=e,Ts=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function ws(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Ss)throw Error(s(308));Cs=e,Ss.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Rs=null;function Is(e){null===Rs?Rs=[e]:Rs.push(e)}function Os(e,t,a,n){var r=t.interleaved;return null===r?(a.next=a,Is(t)):(a.next=r.next,r.next=a),t.interleaved=a,Ls(e,n)}function Ls(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Ps=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Mo)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Ls(e,a)}return null===(r=n.interleaved)?(t.next=t,Is(n)):(t.next=r.next,r.next=t),n.interleaved=t,Ls(e,a)}function Us(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,yt(e,a)}}function Gs(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===s?r=s=i:s=s.next=i,a=a.next}while(null!==a);null===s?r=s=t:s=s.next=t}else r=s=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Hs(e,t,a,n){var r=e.updateQueue;Ps=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=r.baseState;for(i=0,u=c=o=null,l=s;;){var h=l.lane,m=l.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=a,p.tag){case 1:if("function"===typeof(g=p.payload)){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=p.payload)?g.call(m,d,h):g)||void 0===h)break e;d=F({},d,h);break e;case 2:Ps=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=m,o=d):u=u.next=m,i|=h;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(h=l).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(o=d),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);_o|=i,e.lanes=i,e.memoizedState=d}}function zs(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=a,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Ws={},Ks=Cr(Ws),Qs=Cr(Ws),Ys=Cr(Ws);function Vs(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Ar(Ys,t),Ar(Qs,e),Ar(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr(Ks),Ar(Ks,t)}function Zs(){Tr(Ks),Tr(Qs),Tr(Ys)}function qs(e){Vs(Ys.current);var t=Vs(Ks.current),a=oe(t,e.type);t!==a&&(Ar(Qs,e),Ar(Ks,a))}function Js(e){Qs.current===e&&(Tr(Ks),Tr(Qs))}var $s=Cr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ai(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=E.ReactCurrentDispatcher,ri=E.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,ui=!1,di=0,hi=0;function mi(){throw Error(s(321))}function gi(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ln(e[a],t[a]))return!1;return!0}function pi(e,t,a,n,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Ji:$i,e=a(n,r),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ni.current=el,e=a(n,r)}while(ui)}if(ni.current=qi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function fi(){var e=0!==di;return di=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function yi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function bi(e,t){return"function"===typeof t?t(e):t}function Ei(e){var t=yi(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=li,r=n.baseQueue,i=a.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}n.baseQueue=r=i,a.pending=null}if(null!==r){i=r.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(o=c=h,l=n):c=c.next=h,ii.lanes|=d,_o|=d}u=u.next}while(null!==u&&u!==i);null===c?l=n:c.next=o,ln(n,t.memoizedState)||(yl=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,_o|=i,r=r.next}while(r!==e)}else null===r&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function xi(e){var t=yi(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,i=t.memoizedState;if(null!==r){a.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);ln(i,t.memoizedState)||(yl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Ni(){}function Si(e,t){var a=ii,n=yi(),r=t(),i=!ln(n.memoizedState,r);if(i&&(n.memoizedState=r,yl=!0),n=n.queue,Pi(Ai.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(a.flags|=2048,wi(9,Ti.bind(null,a,n,r,t),void 0,null),null===jo)throw Error(s(349));0!==(30&si)||Ci(a,t,r)}return r}function Ci(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Ti(e,t,a,n){t.value=a,t.getSnapshot=n,ki(t)&&Mi(e)}function Ai(e,t,a){return a((function(){ki(t)&&Mi(e)}))}function ki(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ln(e,a)}catch(n){return!0}}function Mi(e){var t=Ls(e,1);null!==t&&ac(t,e,1,-1)}function ji(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function wi(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ri(){return yi().memoizedState}function Ii(e,t,a,n){var r=vi();ii.flags|=e,r.memoizedState=wi(1|t,a,void 0,void 0===n?null:n)}function Oi(e,t,a,n){var r=yi();n=void 0===n?null:n;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==n&&gi(n,i.deps))return void(r.memoizedState=wi(t,a,s,n))}ii.flags|=e,r.memoizedState=wi(1|t,a,s,n)}function Li(e,t){return Ii(8390656,8,e,t)}function Pi(e,t){return Oi(2048,8,e,t)}function _i(e,t){return Oi(4,2,e,t)}function Fi(e,t){return Oi(4,4,e,t)}function Di(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Oi(4,4,Di.bind(null,t,e),a)}function Ui(){}function Gi(e,t){var a=yi();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&gi(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Hi(e,t){var a=yi();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&gi(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function zi(e,t,a){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=a):(ln(a,t)||(a=pt(),ii.lanes|=a,_o|=a,e.baseState=!0),t)}function Wi(e,t){var a=bt;bt=0!==a&&4>a?a:4,e(!0);var n=ri.transition;ri.transition={};try{e(!1),t()}finally{bt=a,ri.transition=n}}function Ki(){return yi().memoizedState}function Qi(e,t,a){var n=tc(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},Vi(e))Xi(t,a);else if(null!==(a=Os(e,t,a,n))){ac(a,e,n,ec()),Zi(a,t,n)}}function Yi(e,t,a){var n=tc(e),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Xi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,a);if(r.hasEagerState=!0,r.eagerState=l,ln(l,i)){var o=t.interleaved;return null===o?(r.next=r,Is(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(a=Os(e,t,r,n))&&(ac(a,e,n,r=ec()),Zi(a,t,n))}}function Vi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Xi(e,t){ui=ci=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Zi(e,t,a){if(0!==(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,yt(e,a)}}var qi={readContext:ws,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Ji={readContext:ws,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:ws,useEffect:Li,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ii(4194308,4,Di.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var a=vi();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=vi();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:ji,useDebugValue:Ui,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=ji(!1),t=e[0];return e=Wi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=ii,r=vi();if(rs){if(void 0===a)throw Error(s(407));a=a()}else{if(a=t(),null===jo)throw Error(s(349));0!==(30&si)||Ci(n,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Li(Ai.bind(null,n,i,e),[e]),n.flags|=2048,wi(9,Ti.bind(null,n,i,a,t),void 0,null),a},useId:function(){var e=vi(),t=jo.identifierPrefix;if(rs){var a=qr;t=":"+t+"R"+(a=(Zr&~(1<<32-it(Zr)-1)).toString(32)+a),0<(a=di++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:ws,useCallback:Gi,useContext:ws,useEffect:Pi,useImperativeHandle:Bi,useInsertionEffect:_i,useLayoutEffect:Fi,useMemo:Hi,useReducer:Ei,useRef:Ri,useState:function(){return Ei(bi)},useDebugValue:Ui,useDeferredValue:function(e){return zi(yi(),li.memoizedState,e)},useTransition:function(){return[Ei(bi)[0],yi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Si,useId:Ki,unstable_isNewReconciler:!1},el={readContext:ws,useCallback:Gi,useContext:ws,useEffect:Pi,useImperativeHandle:Bi,useInsertionEffect:_i,useLayoutEffect:Fi,useMemo:Hi,useReducer:xi,useRef:Ri,useState:function(){return xi(bi)},useDebugValue:Ui,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:zi(t,li.memoizedState,e)},useTransition:function(){return[xi(bi)[0],yi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Si,useId:Ki,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var a in t=F({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function al(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:F({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var nl={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Ds(n,r);s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=Bs(e,s,r))&&(ac(t,e,r,n),Us(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Ds(n,r);s.tag=1,s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=Bs(e,s,r))&&(ac(t,e,r,n),Us(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),n=tc(e),r=Ds(a,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Bs(e,r,n))&&(ac(t,e,n,a),Us(t,e,n))}};function rl(e,t,a,n,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!on(a,n)||!on(r,s))}function sl(e,t,a){var n=!1,r=kr,s=t.contextType;return"object"===typeof s&&null!==s?s=ws(s):(r=Ir(t)?wr:Mr.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Rr(e,r):kr),t=new t(a,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function ll(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs={},_s(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=ws(s):(s=Ir(t)?wr:Mr.current,r.context=Rr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(al(e,t,s,a),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&nl.enqueueReplaceState(r,r.state,null),Hs(e,a,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var a="",n=t;do{a+=G(n),n=n.return}while(n);var r=a}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function cl(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function ul(e,t){try{console.error(t.value)}catch(a){setTimeout((function(){throw a}))}}var dl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,a){(a=Ds(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){Wo||(Wo=!0,Ko=n),ul(0,t)},a}function ml(e,t,a){(a=Ds(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){ul(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(a.callback=function(){ul(0,t),"function"!==typeof n&&(null===Qo?Qo=new Set([this]):Qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function gl(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new dl;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),e=Tc.bind(null,e,t,a),t.then(e,e))}function pl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fl(e,t,a,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Ds(-1,1)).tag=2,Bs(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vl=E.ReactCurrentOwner,yl=!1;function bl(e,t,a,n){t.child=null===e?xs(t,null,a,n):Es(t,e.child,a,n)}function El(e,t,a,n,r){a=a.render;var s=t.ref;return js(t,r),n=pi(e,t,a,n,s,r),a=fi(),null===e||yl?(rs&&a&&es(t),t.flags|=1,bl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zl(e,t,r))}function xl(e,t,a,n,r){if(null===e){var s=a.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Lc(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Nl(e,t,s,n,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((a=null!==(a=a.compare)?a:on)(i,n)&&e.ref===t.ref)return zl(e,t,r)}return t.flags|=1,(e=Oc(s,n)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,a,n,r){if(null!==e){var s=e.memoizedProps;if(on(s,n)&&e.ref===t.ref){if(yl=!1,t.pendingProps=n=s,0===(e.lanes&r))return t.lanes=e.lanes,zl(e,t,r);0!==(131072&e.flags)&&(yl=!0)}}return Tl(e,t,a,n,r)}function Sl(e,t,a){var n=t.pendingProps,r=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Oo,Io),Io|=a;else{if(0===(1073741824&a))return e=null!==s?s.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(Oo,Io),Io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:a,Ar(Oo,Io),Io|=n}else null!==s?(n=s.baseLanes|a,t.memoizedState=null):n=a,Ar(Oo,Io),Io|=n;return bl(e,t,r,a),t.child}function Cl(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,a,n,r){var s=Ir(a)?wr:Mr.current;return s=Rr(t,s),js(t,r),a=pi(e,t,a,n,s,r),n=fi(),null===e||yl?(rs&&n&&es(t),t.flags|=1,bl(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zl(e,t,r))}function Al(e,t,a,n,r){if(Ir(a)){var s=!0;_r(t)}else s=!1;if(js(t,r),null===t.stateNode)Hl(e,t),sl(t,a,n),ll(t,a,n,r),n=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=a.contextType;"object"===typeof c&&null!==c?c=ws(c):c=Rr(t,c=Ir(a)?wr:Mr.current);var u=a.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==n||o!==c)&&il(t,i,n,c),Ps=!1;var h=t.memoizedState;i.state=h,Hs(t,n,i,r),o=t.memoizedState,l!==n||h!==o||jr.current||Ps?("function"===typeof u&&(al(t,a,u,n),o=t.memoizedState),(l=Ps||rl(t,a,l,n,h,o,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),i.props=n,i.state=o,i.context=c,n=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Fs(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(o=a.contextType)&&null!==o?o=ws(o):o=Rr(t,o=Ir(a)?wr:Mr.current);var m=a.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||h!==o)&&il(t,i,n,o),Ps=!1,h=t.memoizedState,i.state=h,Hs(t,n,i,r);var g=t.memoizedState;l!==d||h!==g||jr.current||Ps?("function"===typeof m&&(al(t,a,m,n),g=t.memoizedState),(c=Ps||rl(t,a,c,n,h,g,o)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,g,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,g,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=o,n=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return kl(e,t,a,n,s,r)}function kl(e,t,a,n,r,s){Cl(e,t);var i=0!==(128&t.flags);if(!n&&!i)return r&&Fr(t,a,!1),zl(e,t,s);n=t.stateNode,vl.current=t;var l=i&&"function"!==typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,l,s)):bl(e,t,l,s),t.memoizedState=n.state,r&&Fr(t,a,!0),t.child}function Ml(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Xs(e,t.containerInfo)}function jl(e,t,a,n,r){return ms(),gs(r),t.flags|=256,bl(e,t,a,n),t.child}var wl,Rl,Il,Ol,Ll={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _l(e,t,a){var n,r=t.pendingProps,i=$s.current,l=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ar($s,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=_c(o,r,0,null),e=Pc(e,r,a,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pl(a),t.memoizedState=Ll,e):Fl(t,o));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,a,n,r,i,l){if(a)return 256&t.flags?(t.flags&=-257,Dl(e,t,l,n=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,r=t.mode,n=_c({mode:"visible",children:n.children},r,0,null),(i=Pc(i,r,l,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&Es(t,e.child,null,l),t.child.memoizedState=Pl(l),t.memoizedState=Ll,i);if(0===(1&t.mode))return Dl(e,t,l,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var o=n.dgst;return n=o,Dl(e,t,l,n=cl(i=Error(s(419)),n,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(n=jo)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ls(e,r),ac(n,e,r,-1))}return pc(),Dl(e,t,l,n=cl(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ns=cr(r.nextSibling),as=t,rs=!0,ss=null,null!==e&&(Yr[Vr++]=Zr,Yr[Vr++]=qr,Yr[Vr++]=Xr,Zr=e.id,qr=e.overflow,Xr=t),t=Fl(t,n.children),t.flags|=4096,t)}(e,t,o,r,n,i,a);if(l){l=r.fallback,o=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?l=Oc(n,l):(l=Pc(l,o,a,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=null===(o=e.child.memoizedState)?Pl(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~a,t.memoizedState=Ll,r}return e=(l=e.child).sibling,r=Oc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=a),r.return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r}function Fl(e,t){return(t=_c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Dl(e,t,a,n){return null!==n&&gs(n),Es(t,e.child,null,a),(e=Fl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ms(e.return,t,a)}function Ul(e,t,a,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=r)}function Gl(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(bl(e,t,n.children,a),0!==(2&(n=$s.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,a,t);else if(19===e.tag)Bl(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ar($s,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===ei(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Ul(t,!1,r,a,s);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Ul(t,!0,a,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zl(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),_o|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(a=Oc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Oc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Wl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ql(e,t,a){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return Ir(t.type)&&Or(),Kl(t),null;case 3:return n=t.stateNode,Zs(),Tr(jr),Tr(Mr),ai(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Rl(e,t),Kl(t),null;case 5:Js(t);var r=Vs(Ys.current);if(a=t.type,null!==e&&null!=t.stateNode)Il(e,t,a,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Kl(t),null}if(e=Vs(Ks.current),ds(t)){n=t.stateNode,a=t.type;var i=t.memoizedProps;switch(n[hr]=t,n[mr]=i,e=0!==(1&t.mode),a){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(r=0;r<Pn.length;r++)Bn(Pn[r],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Z(n,i),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Bn("invalid",n);break;case"textarea":re(n,i),Bn("invalid",n)}for(var o in ye(a,i),r=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),r=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Bn("scroll",n)}switch(a){case"input":Q(n),$(n,i,!0);break;case"textarea":Q(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=$n)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(a,{is:n.is}):(e=o.createElement(a),"select"===a&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,a),e[hr]=t,e[mr]=n,wl(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(a,n),a){case"dialog":Bn("cancel",e),Bn("close",e),r=n;break;case"iframe":case"object":case"embed":Bn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Pn.length;r++)Bn(Pn[r],e);r=n;break;case"source":Bn("error",e),r=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),r=n;break;case"details":Bn("toggle",e),r=n;break;case"input":Z(e,n),r=X(e,n),Bn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=F({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),Bn("invalid",e)}for(i in ye(a,r),c=r)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?fe(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==a||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Bn("scroll",e):null!=u&&b(e,i,u,o))}switch(a){case"input":Q(e),$(e,n,!1);break;case"textarea":Q(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?ae(e,!!n.multiple,i,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$n)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(a=Vs(Ys.current),Vs(Ks.current),ds(t)){if(n=t.stateNode,a=t.memoizedProps,n[hr]=t,(i=n.nodeValue!==a)&&null!==(e=as))switch(e.tag){case 3:Jn(n.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,a,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[hr]=t,t.stateNode=n}return Kl(t),null;case 13:if(Tr($s),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,i=!1;else if(i=ds(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[hr]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Lo&&(Lo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return Zs(),Rl(e,t),null===e&&Hn(t.stateNode.containerInfo),Kl(t),null;case 10:return ks(t.type._context),Kl(t),null;case 19:if(Tr($s),null===(i=t.memoizedState))return Kl(t),null;if(n=0!==(128&t.flags),null===(o=i.rendering))if(n)Wl(i,!1);else{if(0!==Lo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Wl(i,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;null!==a;)e=n,(i=a).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ar($s,1&$s.current|2),t.child}e=e.sibling}null!==i.tail&&qe()>Ho&&(t.flags|=128,n=!0,Wl(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(o))){if(t.flags|=128,n=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!rs)return Kl(t),null}else 2*qe()-i.renderingStartTime>Ho&&1073741824!==a&&(t.flags|=128,n=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=i.last)?a.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,a=$s.current,Ar($s,n?1&a|2:1&a),t):(Kl(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Io)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yl(e,t){switch(ts(t),t.tag){case 1:return Ir(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),Tr(jr),Tr(Mr),ai(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Tr($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr($s),null;case 4:return Zs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}wl=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Rl=function(){},Il=function(e,t,a,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,Vs(Ks.current);var s,i=null;switch(a){case"input":r=X(e,r),n=X(e,n),i=[];break;case"select":r=F({},r,{value:void 0}),n=F({},n,{value:void 0}),i=[];break;case"textarea":r=ne(e,r),n=ne(e,n),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(u in ye(a,n),a=null,r)if(!n.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var o=r[u];for(s in o)o.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=null!=r?r[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(null!=c||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(a||(a={}),a[s]=c[s])}else a||(i||(i=[]),i.push(u,a)),a=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bn("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}a&&(i=i||[]).push("style",a);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ol=function(e,t,a,n){a!==n&&(t.flags|=4)};var Vl=!1,Xl=!1,Zl="function"===typeof WeakSet?WeakSet:Set,ql=null;function Jl(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(n){Cc(e,t,n)}else a.current=null}function $l(e,t,a){try{a()}catch(n){Cc(e,t,n)}}var eo=!1;function to(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&$l(t,a,s)}r=r.next}while(r!==n)}}function ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function no(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[mr],delete t[pr],delete t[fr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(lo(e,t,a),e=e.sibling;null!==e;)lo(e,t,a),e=e.sibling}function oo(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,a),e=e.sibling;null!==e;)oo(e,t,a),e=e.sibling}var co=null,uo=!1;function ho(e,t,a){for(a=a.child;null!==a;)mo(e,t,a),a=a.sibling}function mo(e,t,a){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,a)}catch(l){}switch(a.tag){case 5:Xl||Jl(a,t);case 6:var n=co,r=uo;co=null,ho(e,t,a),uo=r,null!==(co=n)&&(uo?(e=co,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):co.removeChild(a.stateNode));break;case 18:null!==co&&(uo?(e=co,a=a.stateNode,8===e.nodeType?or(e.parentNode,a):1===e.nodeType&&or(e,a),Ht(e)):or(co,a.stateNode));break;case 4:n=co,r=uo,co=a.stateNode.containerInfo,uo=!0,ho(e,t,a),co=n,uo=r;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(n=a.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&$l(a,t,i),r=r.next}while(r!==n)}ho(e,t,a);break;case 1:if(!Xl&&(Jl(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(l){Cc(a,t,l)}ho(e,t,a);break;case 21:ho(e,t,a);break;case 22:1&a.mode?(Xl=(n=Xl)||null!==a.memoizedState,ho(e,t,a),Xl=n):ho(e,t,a);break;default:ho(e,t,a)}}function go(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Zl),t.forEach((function(t){var n=Mc.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}function po(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));mo(i,l,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Cc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),vo(e),4&n){try{to(3,e,e.return),ao(3,e)}catch(f){Cc(e,e.return,f)}try{to(5,e,e.return)}catch(f){Cc(e,e.return,f)}}break;case 1:po(t,e),vo(e),512&n&&null!==a&&Jl(a,a.return);break;case 5:if(po(t,e),vo(e),512&n&&null!==a&&Jl(a,a.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(f){Cc(e,e.return,f)}}if(4&n&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==a?a.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&q(r,i),be(o,l);var u=be(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];"style"===d?fe(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):b(r,d,h,u)}switch(o){case"input":J(r,i);break;case"textarea":se(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?ae(r,!!i.multiple,g,!1):m!==!!i.multiple&&(null!=i.defaultValue?ae(r,!!i.multiple,i.defaultValue,!0):ae(r,!!i.multiple,i.multiple?[]:"",!1))}r[mr]=i}catch(f){Cc(e,e.return,f)}}break;case 6:if(po(t,e),vo(e),4&n){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(f){Cc(e,e.return,f)}}break;case 3:if(po(t,e),vo(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){Cc(e,e.return,f)}break;case 4:default:po(t,e),vo(e);break;case 13:po(t,e),vo(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Go=qe())),4&n&&go(e);break;case 22:if(d=null!==a&&null!==a.memoizedState,1&e.mode?(Xl=(u=Xl)||d,po(t,e),Xl=u):po(t,e),vo(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ql=e,d=e.child;null!==d;){for(h=ql=d;null!==ql;){switch(g=(m=ql).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Jl(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){n=m,a=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(f){Cc(n,a,f)}}break;case 5:Jl(m,m.return);break;case 22:if(null!==m.memoizedState){xo(h);continue}}null!==g?(g.return=m,ql=g):xo(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",l))}catch(f){Cc(e,e.return,f)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(f){Cc(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:po(t,e),vo(e),4&n&&go(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(so(a)){var n=a;break e}a=a.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(he(r,""),n.flags&=-33),oo(e,io(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,a){ql=e,bo(e,t,a)}function bo(e,t,a){for(var n=0!==(1&e.mode);null!==ql;){var r=ql,s=r.child;if(22===r.tag&&n){var i=null!==r.memoizedState||Vl;if(!i){var l=r.alternate,o=null!==l&&null!==l.memoizedState||Xl;l=Vl;var c=Xl;if(Vl=i,(Xl=o)&&!c)for(ql=r;null!==ql;)o=(i=ql).child,22===i.tag&&null!==i.memoizedState?No(r):null!==o?(o.return=i,ql=o):No(r);for(;null!==s;)ql=s,bo(s,t,a),s=s.sibling;ql=r,Vl=l,Xl=c}Eo(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,ql=s):Eo(e)}}function Eo(e){for(;null!==ql;){var t=ql;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xl||ao(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xl)if(null===a)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:tl(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&zs(t,i,n);break;case 3:var l=t.updateQueue;if(null!==l){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}zs(t,l,a)}break;case 5:var o=t.stateNode;if(null===a&&4&t.flags){a=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(s(163))}Xl||512&t.flags&&no(t)}catch(m){Cc(t,t.return,m)}}if(t===e){ql=null;break}if(null!==(a=t.sibling)){a.return=t.return,ql=a;break}ql=t.return}}function xo(e){for(;null!==ql;){var t=ql;if(t===e){ql=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ql=a;break}ql=t.return}}function No(e){for(;null!==ql;){var t=ql;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ao(4,t)}catch(o){Cc(t,a,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(o){Cc(t,r,o)}}var s=t.return;try{no(t)}catch(o){Cc(t,s,o)}break;case 5:var i=t.return;try{no(t)}catch(o){Cc(t,i,o)}}}catch(o){Cc(t,t.return,o)}if(t===e){ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,ql=l;break}ql=t.return}}var So,Co=Math.ceil,To=E.ReactCurrentDispatcher,Ao=E.ReactCurrentOwner,ko=E.ReactCurrentBatchConfig,Mo=0,jo=null,wo=null,Ro=0,Io=0,Oo=Cr(0),Lo=0,Po=null,_o=0,Fo=0,Do=0,Bo=null,Uo=null,Go=0,Ho=1/0,zo=null,Wo=!1,Ko=null,Qo=null,Yo=!1,Vo=null,Xo=0,Zo=0,qo=null,Jo=-1,$o=0;function ec(){return 0!==(6&Mo)?qe():-1!==Jo?Jo:Jo=qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Mo)&&0!==Ro?Ro&-Ro:null!==ps.transition?(0===$o&&($o=pt()),$o):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ac(e,t,a,n){if(50<Zo)throw Zo=0,qo=null,Error(s(185));vt(e,a,n),0!==(2&Mo)&&e===jo||(e===jo&&(0===(2&Mo)&&(Fo|=a),4===Lo&&lc(e,Ro)),nc(e,n),1===a&&0===Mo&&0===(1&t.mode)&&(Ho=qe()+500,Br&&Hr()))}function nc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=r[i];-1===o?0!==(l&a)&&0===(l&n)||(r[i]=mt(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var n=ht(e,e===jo?Ro:0);if(0===n)null!==a&&Ve(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&Ve(a),1===t)0===e.tag?function(e){Br=!0,Gr(e)}(oc.bind(null,e)):Gr(oc.bind(null,e)),ir((function(){0===(6&Mo)&&Hr()})),a=null;else{switch(Et(n)){case 1:a=$e;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=nt}a=jc(a,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function rc(e,t){if(Jo=-1,$o=0,0!==(6&Mo))throw Error(s(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var n=ht(e,e===jo?Ro:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var r=Mo;Mo|=2;var i=gc();for(jo===e&&Ro===t||(zo=null,Ho=qe()+500,hc(e,t));;)try{yc();break}catch(o){mc(e,o)}As(),To.current=i,Mo=r,null!==wo?t=0:(jo=null,Ro=0,t=Lo)}if(0!==t){if(2===t&&(0!==(r=gt(e))&&(n=r,t=sc(e,r))),1===t)throw a=Po,hc(e,0),lc(e,n),nc(e,qe()),a;if(6===t)lc(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!ln(s(),r))return!1}catch(l){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=fc(e,n))&&(0!==(i=gt(e))&&(n=i,t=sc(e,i))),1===t))throw a=Po,hc(e,0),lc(e,n),nc(e,qe()),a;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Uo,zo);break;case 3:if(lc(e,n),(130023424&n)===n&&10<(t=Go+500-qe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(xc.bind(null,e,Uo,zo),t);break}xc(e,Uo,zo);break;case 4:if(lc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var l=31-it(n);i=1<<l,(l=t[l])>r&&(r=l),n&=~i}if(n=r,10<(n=(120>(n=qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Co(n/1960))-n)){e.timeoutHandle=nr(xc.bind(null,e,Uo,zo),n);break}xc(e,Uo,zo);break;default:throw Error(s(329))}}}return nc(e,qe()),e.callbackNode===a?rc.bind(null,e):null}function sc(e,t){var a=Bo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Uo,Uo=a,null!==t&&ic(t)),e}function ic(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function lc(e,t){for(t&=~Do,t&=~Fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-it(t),n=1<<a;e[a]=-1,t&=~n}}function oc(e){if(0!==(6&Mo))throw Error(s(327));Nc();var t=ht(e,0);if(0===(1&t))return nc(e,qe()),null;var a=fc(e,t);if(0!==e.tag&&2===a){var n=gt(e);0!==n&&(t=n,a=sc(e,n))}if(1===a)throw a=Po,hc(e,0),lc(e,t),nc(e,qe()),a;if(6===a)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Uo,zo),nc(e,qe()),null}function cc(e,t){var a=Mo;Mo|=1;try{return e(t)}finally{0===(Mo=a)&&(Ho=qe()+500,Br&&Hr())}}function uc(e){null!==Vo&&0===Vo.tag&&0===(6&Mo)&&Nc();var t=Mo;Mo|=1;var a=ko.transition,n=bt;try{if(ko.transition=null,bt=1,e)return e()}finally{bt=n,ko.transition=a,0===(6&(Mo=t))&&Hr()}}function dc(){Io=Oo.current,Tr(Oo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,rr(a)),null!==wo)for(a=wo.return;null!==a;){var n=a;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Or();break;case 3:Zs(),Tr(jr),Tr(Mr),ai();break;case 5:Js(n);break;case 4:Zs();break;case 13:case 19:Tr($s);break;case 10:ks(n.type._context);break;case 22:case 23:dc()}a=a.return}if(jo=e,wo=e=Oc(e.current,null),Ro=Io=t,Lo=0,Po=null,Do=Fo=_o=0,Uo=Bo=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(n=(a=Rs[t]).interleaved)){a.interleaved=null;var r=n.next,s=a.pending;if(null!==s){var i=s.next;s.next=r,n.next=i}a.pending=n}Rs=null}return e}function mc(e,t){for(;;){var a=wo;try{if(As(),ni.current=qi,ci){for(var n=ii.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}ci=!1}if(si=0,oi=li=ii=null,ui=!1,di=0,Ao.current=null,null===a||null===a.return){Lo=1,Po=t,wo=null;break}e:{var i=e,l=a.return,o=a,c=t;if(t=Ro,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=o,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=pl(l);if(null!==g){g.flags&=-257,fl(g,l,o,0,t),1&g.mode&&gl(i,u,t),c=u;var p=(t=g).updateQueue;if(null===p){var f=new Set;f.add(c),t.updateQueue=f}else p.add(c);break e}if(0===(1&t)){gl(i,u,t),pc();break e}c=Error(s(426))}else if(rs&&1&o.mode){var v=pl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fl(v,l,o,0,t),gs(ol(c,o));break e}}i=c=ol(c,o),4!==Lo&&(Lo=2),null===Bo?Bo=[i]:Bo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Gs(i,hl(0,c,t));break e;case 1:o=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qo||!Qo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Gs(i,ml(i,o,t));break e}}i=i.return}while(null!==i)}Ec(a)}catch(E){t=E,wo===a&&null!==a&&(wo=a=a.return);continue}break}}function gc(){var e=To.current;return To.current=qi,null===e?qi:e}function pc(){0!==Lo&&3!==Lo&&2!==Lo||(Lo=4),null===jo||0===(268435455&_o)&&0===(268435455&Fo)||lc(jo,Ro)}function fc(e,t){var a=Mo;Mo|=2;var n=gc();for(jo===e&&Ro===t||(zo=null,hc(e,t));;)try{vc();break}catch(r){mc(e,r)}if(As(),Mo=a,To.current=n,null!==wo)throw Error(s(261));return jo=null,Ro=0,Lo}function vc(){for(;null!==wo;)bc(wo)}function yc(){for(;null!==wo&&!Xe();)bc(wo)}function bc(e){var t=So(e.alternate,e,Io);e.memoizedProps=e.pendingProps,null===t?Ec(e):wo=t,Ao.current=null}function Ec(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=Ql(a,t,Io)))return void(wo=a)}else{if(null!==(a=Yl(a,t)))return a.flags&=32767,void(wo=a);if(null===e)return Lo=6,void(wo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wo=t);wo=t=e}while(null!==t);0===Lo&&(Lo=5)}function xc(e,t,a){var n=bt,r=ko.transition;try{ko.transition=null,bt=1,function(e,t,a,n){do{Nc()}while(null!==Vo);if(0!==(6&Mo))throw Error(s(327));a=e.finishedWork;var r=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var r=31-it(a),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,a&=~s}}(e,i),e===jo&&(wo=jo=null,Ro=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||Yo||(Yo=!0,jc(tt,(function(){return Nc(),null}))),i=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||i){i=ko.transition,ko.transition=null;var l=bt;bt=1;var o=Mo;Mo|=4,Ao.current=null,function(e,t){if(er=Wt,mn(e=hn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch(x){a=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var g;h!==a||0!==r&&3!==h.nodeType||(o=l+r),h!==i||0!==n&&3!==h.nodeType||(c=l+n),3===h.nodeType&&(l+=h.nodeValue.length),null!==(g=h.firstChild);)m=h,h=g;for(;;){if(h===e)break t;if(m===a&&++u===r&&(o=l),m===i&&++d===n&&(c=l),null!==(g=h.nextSibling))break;m=(h=m).parentNode}h=g}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(tr={focusedElem:e,selectionRange:a},Wt=!1,ql=t;null!==ql;)if(e=(t=ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ql=e;else for(;null!==ql;){t=ql;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var f=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:tl(t.type,f),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(s(163))}}catch(x){Cc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,ql=e;break}ql=t.return}p=eo,eo=!1}(e,a),fo(a,e),gn(tr),Wt=!!er,tr=er=null,e.current=a,yo(a,e,r),Ze(),Mo=o,bt=l,ko.transition=i}else e.current=a;if(Yo&&(Yo=!1,Vo=e,Xo=r),i=e.pendingLanes,0===i&&(Qo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),nc(e,qe()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)r=t[a],n(r.value,{componentStack:r.stack,digest:r.digest});if(Wo)throw Wo=!1,e=Ko,Ko=null,e;0!==(1&Xo)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===qo?Zo++:(Zo=0,qo=e):Zo=0,Hr()}(e,t,a,n)}finally{ko.transition=r,bt=n}return null}function Nc(){if(null!==Vo){var e=Et(Xo),t=ko.transition,a=bt;try{if(ko.transition=null,bt=16>e?16:e,null===Vo)var n=!1;else{if(e=Vo,Vo=null,Xo=0,0!==(6&Mo))throw Error(s(331));var r=Mo;for(Mo|=4,ql=e.current;null!==ql;){var i=ql,l=i.child;if(0!==(16&ql.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var u=o[c];for(ql=u;null!==ql;){var d=ql;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var h=d.child;if(null!==h)h.return=d,ql=h;else for(;null!==ql;){var m=(d=ql).sibling,g=d.return;if(ro(d),d===u){ql=null;break}if(null!==m){m.return=g,ql=m;break}ql=g}}}var p=i.alternate;if(null!==p){var f=p.child;if(null!==f){p.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(null!==f)}}ql=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,ql=l;else e:for(;null!==ql;){if(0!==(2048&(i=ql).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,ql=y;break e}ql=i.return}}var b=e.current;for(ql=b;null!==ql;){var E=(l=ql).child;if(0!==(2064&l.subtreeFlags)&&null!==E)E.return=l,ql=E;else e:for(l=b;null!==ql;){if(0!==(2048&(o=ql).flags))try{switch(o.tag){case 0:case 11:case 15:ao(9,o)}}catch(N){Cc(o,o.return,N)}if(o===l){ql=null;break e}var x=o.sibling;if(null!==x){x.return=o.return,ql=x;break e}ql=o.return}}if(Mo=r,Hr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(N){}n=!0}return n}finally{bt=a,ko.transition=t}}return!1}function Sc(e,t,a){e=Bs(e,t=hl(0,t=ol(a,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Cc(e,t,a){if(3===e.tag)Sc(e,e,a);else for(;null!==t;){if(3===t.tag){Sc(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Qo||!Qo.has(n))){t=Bs(t,e=ml(t,e=ol(a,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Tc(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,jo===e&&(Ro&a)===a&&(4===Lo||3===Lo&&(130023424&Ro)===Ro&&500>qe()-Go?hc(e,0):Do|=a),nc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var a=ec();null!==(e=Ls(e,t))&&(vt(e,t,a),nc(e,a))}function kc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Ac(e,a)}function Mc(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Ac(e,a)}function jc(e,t){return Ye(e,t)}function wc(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,a,n){return new wc(e,t,a,n)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var a=e.alternate;return null===a?((a=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Lc(e,t,a,n,r,i){var l=2;if(n=e,"function"===typeof e)Ic(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case S:return Pc(a.children,r,i,t);case C:l=8,r|=8;break;case T:return(e=Rc(12,a,t,2|r)).elementType=T,e.lanes=i,e;case j:return(e=Rc(13,a,t,r)).elementType=j,e.lanes=i,e;case w:return(e=Rc(19,a,t,r)).elementType=w,e.lanes=i,e;case O:return _c(a,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:l=10;break e;case k:l=9;break e;case M:l=11;break e;case R:l=14;break e;case I:l=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(l,a,t,r)).elementType=e,t.type=n,t.lanes=i,t}function Pc(e,t,a,n){return(e=Rc(7,e,n,t)).lanes=a,e}function _c(e,t,a,n){return(e=Rc(22,e,n,t)).elementType=O,e.lanes=a,e.stateNode={isHidden:!1},e}function Fc(e,t,a){return(e=Rc(6,e,null,t)).lanes=a,e}function Dc(e,t,a){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,a,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,a,n,r,s,i,l,o){return e=new Bc(e,t,a,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(s),e}function Gc(e){if(!e)return kr;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var a=e.type;if(Ir(a))return Pr(e,a,t)}return t}function Hc(e,t,a,n,r,s,i,l,o){return(e=Uc(a,n,!0,e,0,s,0,l,o)).context=Gc(null),a=e.current,(s=Ds(n=ec(),r=tc(a))).callback=void 0!==t&&null!==t?t:null,Bs(a,s,r),e.current.lanes=r,vt(e,r,n),nc(e,n),e}function zc(e,t,a,n){var r=t.current,s=ec(),i=tc(r);return a=Gc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Ds(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Bs(r,t,i))&&(ac(e,r,i,s),Us(e,r,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Qc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}So=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||jr.current)yl=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return yl=!1,function(e,t,a){switch(t.tag){case 3:Ml(t),ms();break;case 5:qs(t);break;case 1:Ir(t.type)&&_r(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Ar(Ns,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ar($s,1&$s.current),t.flags|=128,null):0!==(a&t.child.childLanes)?_l(e,t,a):(Ar($s,1&$s.current),null!==(e=zl(e,t,a))?e.sibling:null);Ar($s,1&$s.current);break;case 19:if(n=0!==(a&t.childLanes),0!==(128&e.flags)){if(n)return Gl(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ar($s,$s.current),n)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,a)}return zl(e,t,a)}(e,t,a);yl=0!==(131072&e.flags)}else yl=!1,rs&&0!==(1048576&t.flags)&&$r(t,Qr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hl(e,t),e=t.pendingProps;var r=Rr(t,Mr.current);js(t,a),r=pi(null,t,n,e,r,a);var i=fi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(n)?(i=!0,_r(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,_s(t),r.updater=nl,t.stateNode=r,r._reactInternals=t,ll(t,n,e,a),t=kl(null,t,n,!0,i,a)):(t.tag=0,rs&&i&&es(t),bl(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===R)return 14}return 2}(n),e=tl(n,e),r){case 0:t=Tl(null,t,n,e,a);break e;case 1:t=Al(null,t,n,e,a);break e;case 11:t=El(null,t,n,e,a);break e;case 14:t=xl(null,t,n,tl(n.type,e),a);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Tl(e,t,n,r=t.elementType===n?r:tl(n,r),a);case 1:return n=t.type,r=t.pendingProps,Al(e,t,n,r=t.elementType===n?r:tl(n,r),a);case 3:e:{if(Ml(t),null===e)throw Error(s(387));n=t.pendingProps,r=(i=t.memoizedState).element,Fs(e,t),Hs(t,n,null,a);var l=t.memoizedState;if(n=l.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=jl(e,t,n,a,r=ol(Error(s(423)),t));break e}if(n!==r){t=jl(e,t,n,a,r=ol(Error(s(424)),t));break e}for(ns=cr(t.stateNode.containerInfo.firstChild),as=t,rs=!0,ss=null,a=xs(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(ms(),n===r){t=zl(e,t,a);break e}bl(e,t,n,a)}t=t.child}return t;case 5:return qs(t),null===e&&cs(t),n=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,ar(n,r)?l=null:null!==i&&ar(n,i)&&(t.flags|=32),Cl(e,t),bl(e,t,l,a),t.child;case 6:return null===e&&cs(t),null;case 13:return _l(e,t,a);case 4:return Xs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Es(t,null,n,a):bl(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,El(e,t,n,r=t.elementType===n?r:tl(n,r),a);case 7:return bl(e,t,t.pendingProps,a),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Ar(Ns,n._currentValue),n._currentValue=l,null!==i)if(ln(i.value,l)){if(i.children===r.children&&!jr.current){t=zl(e,t,a);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Ds(-1,a&-a)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=a,null!==(c=i.alternate)&&(c.lanes|=a),Ms(i.return,a,t),o.lanes|=a;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=a,null!==(o=l.alternate)&&(o.lanes|=a),Ms(l,a,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,js(t,a),n=n(r=ws(r)),t.flags|=1,bl(e,t,n,a),t.child;case 14:return r=tl(n=t.type,t.pendingProps),xl(e,t,n,r=tl(n.type,r),a);case 15:return Nl(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:tl(n,r),Hl(e,t),t.tag=1,Ir(n)?(e=!0,_r(t)):e=!1,js(t,a),sl(t,n,r),ll(t,n,r,a),kl(null,t,n,!0,e,a);case 19:return Gl(e,t,a);case 22:return Sl(e,t,a)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,a,n,r){var s=a._reactRootContainer;if(s){var i=s;if("function"===typeof r){var l=r;r=function(){var e=Wc(i);l.call(e)}}zc(t,i,e,r)}else i=function(e,t,a,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var e=Wc(i);s.call(e)}}var i=Hc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[gr]=i.current,Hn(8===e.nodeType?e.parentNode:e),uc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var l=n;n=function(){var e=Wc(o);l.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[gr]=o.current,Hn(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,o,a,n)})),o}(a,t,e,r,n);return Wc(i)}Xc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zc(e,t,null,null)},Xc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[gr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ot.length&&0!==t&&t<Ot[a].priority;a++);Ot.splice(a,0,e),0===a&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=dt(t.pendingLanes);0!==a&&(yt(t,1|a),nc(t,qe()),0===(6&Mo)&&(Ho=qe()+500,Hr()))}break;case 13:uc((function(){var t=Ls(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}})),Qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)ac(t,e,134217728,ec());Qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),a=Ls(e,t);if(null!==a)ac(a,e,t,ec());Qc(e,t)}},Ct=function(){return bt},Tt=function(e,t){var a=bt;try{return bt=e,t()}finally{bt=a}},Ne=function(e,t,a){switch(t){case"input":if(J(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=xr(n);if(!r)throw Error(s(90));Y(n),J(n,r)}}}break;case"textarea":se(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Me=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[br,Er,xr,Ae,ke,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},au={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(au),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(s(200));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Zc(e))throw Error(s(299));var a=!1,n="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,a,0,n,r),e[gr]=t.current,Hn(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,a){if(!qc(t))throw Error(s(200));return $c(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Zc(e))throw Error(s(405));var n=null!=a&&a.hydratedSources||null,r=!1,i="",l=Yc;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(r=!0),void 0!==a.identifierPrefix&&(i=a.identifierPrefix),void 0!==a.onRecoverableError&&(l=a.onRecoverableError)),t=Hc(t,null,e,1,null!=a?a:null,r,0,i,l),e[gr]=t.current,Hn(e),n)for(e=0;e<n.length;e++)r=(r=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,r]:t.mutableSourceEagerHydrationData.push(a,r);return new Xc(t)},t.render=function(e,t,a){if(!qc(t))throw Error(s(200));return $c(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[gr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!qc(a))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,a,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,a)=>{var n=a(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(2730)},1153:(e,t,a)=>{var n=a(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,s={},c=null,u=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202:(e,t)=>{var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function v(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||g}function y(){}function b(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var E=b.prototype=new y;E.constructor=b,p(E,v.prototype),E.isPureReactComponent=!0;var x=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,s={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&!C.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:a,type:e,key:i,ref:l,props:s,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var k=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,r,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case n:o=!0}}if(o)return i=i(o=e),e=""===s?"."+M(o,0):s,x(i)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),j(i,t,r,"",(function(e){return e}))):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+M(l=e[c],c);o+=j(l,t,r,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)o+=j(l=l.value,t,r,u=s+M(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function w(e,t,a){if(null==e)return e;var n=[],r=0;return j(e,n,"","",(function(e){return t.call(a,e,r++)})),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:w,forEach:function(e,t,a){w(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:a,type:e.type,key:s,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,a){return I.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,a){return I.current.useReducer(e,t,a)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return I.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,a)=>{e.exports=a(4202)},579:(e,t,a)=>{e.exports=a(1153)},7234:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var l=2*(n+1)-1,o=e[l],c=l+1,u=e[c];if(0>s(o,a))c<r&&0>s(u,o)?(e[n]=u,e[c]=a,n=c):(e[n]=o,e[l]=a,n=l);else{if(!(c<r&&0>s(u,a)))break e;e[n]=u,e[c]=a,n=c}}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,g=!1,p=!1,f=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=n(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,a(c,t)}t=n(u)}}function x(e){if(f=!1,E(e),!p)if(null!==n(c))p=!0,O(N);else{var t=n(u);null!==t&&L(x,t.startTime-e)}}function N(e,a){p=!1,f&&(f=!1,y(A),A=-1),g=!0;var s=m;try{for(E(a),h=n(c);null!==h&&(!(h.expirationTime>a)||e&&!j());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var l=i(h.expirationTime<=a);a=t.unstable_now(),"function"===typeof l?h.callback=l:h===n(c)&&r(c),E(a)}else r(c);h=n(c)}if(null!==h)var o=!0;else{var d=n(u);null!==d&&L(x,d.startTime-a),o=!1}return o}finally{h=null,m=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,T=null,A=-1,k=5,M=-1;function j(){return!(t.unstable_now()-M<k)}function w(){if(null!==T){var e=t.unstable_now();M=e;var a=!0;try{a=T(!0,e)}finally{a?S():(C=!1,T=null)}}else C=!1}if("function"===typeof b)S=function(){b(w)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=w,S=function(){I.postMessage(null)}}else S=function(){v(w,0)};function O(e){T=e,C||(C=!0,S())}function L(e,a){A=v((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,O(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var a=m;m=t;try{return e()}finally{m=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=m;m=e;try{return t()}finally{m=a}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,a(u,e),null===n(c)&&e===n(u)&&(f?(y(A),A=-1):f=!0,L(x,s-i))):(e.sortIndex=l,a(c,e),p||g||(p=!0,O(N))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=m;return function(){var a=m;m=t;try{return e.apply(this,arguments)}finally{m=a}}}},8853:(e,t,a)=>{e.exports=a(7234)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="/";var n=a(5043),r=a(4391);class s{constructor(){this.nodes=void 0,this.edges=void 0,this.nodes=new Map,this.edges=new Map}addNode(e){this.nodes.set(e.name,e),this.edges.set(e.name,new Map)}addEdge(e,t,a){var n;null===(n=this.edges.get(e))||void 0===n||n.set(t,a)}getNode(e){return this.nodes.get(e)}}let i=function(e){return e[e.MAIN=0]="MAIN",e[e.START=1]="START",e}({}),l=function(e){return e[e.GEAR=0]="GEAR",e[e.PLOT=1]="PLOT",e[e.NONE=2]="NONE",e}({}),o=function(e){return e[e.HATE=-1]="HATE",e[e.CONFLICTED=0]="CONFLICTED",e[e.LIKE=1]="LIKE",e[e.NEUTRAL=100]="NEUTRAL",e}({}),c=function(e){return e.COMBAT="combat",e.MAGIC="magic",e.TOOLS="tools",e}({}),u=function(e){return e.RACE="race",e.GEAR="gear",e.CHARACTER_CLASS="character_class",e.ALL="all",e.NPC="npc",e}({});const d="encounter",h="location",m="character",g="player",p="message",f="tutorial",v="toc",y="group",b="campaign",E="player recruitment",x="character assignment";let N=function(e){return e.PLAYER="player",e.CHARACTER="character",e.HELPER="helper",e.SYSTEM="system",e.DM="dm",e}({}),S=function(e){return e.LOCATION_INTRO="location_intro",e.INTRO_EVENTS="intro_events",e.INTRO_MAIN="intro_main",e.MAIN_EVENTS="main_events",e.INTRO_EXIT="intro_exit",e.EXIT_EVENTS="exit_events",e.EXIT="exit",e}({}),C=function(e){return e.LOCATION="location",e.PLAYERS="players",e.QUESTS="quests",e.RUMOR="rumor",e.PLOT="plot",e.DM="dm",e.ALL="all",e.MAGIC_ITEM="magic-item",e.FORESHADOWING="foreshadowing",e.FORESHADOWING_RANDOM="foreshadowing-random",e.BACKSTORY="backstory",e.PLOT_HOOK="plot-hook",e}({}),T=function(e){return e.COMEDIC="comedic",e.HEROIC="heroic",e.SERIOUS="serious",e.DRAMATIC="dramatic",e.GRIM="grim",e.ROMANTIC="romantic",e.FANTASY="fantasy",e.HORROR="horror",e.NONE="none",e.length="length",e}({}),A=function(e){return e[e.CURRENT_LOCATION=0]="CURRENT_LOCATION",e[e.BRANCH_LOCATION=1]="BRANCH_LOCATION",e[e.MAGIC_ITEM=2]="MAGIC_ITEM",e[e.PLOT_HOOK=3]="PLOT_HOOK",e[e.CHARACTER_BACKSTORY=4]="CHARACTER_BACKSTORY",e[e.CHARACTER_BACKSTORY_PROGRESS=5]="CHARACTER_BACKSTORY_PROGRESS",e}({}),k=function(e){return e[e.INDEX=0]="INDEX",e[e.DANGER=1]="DANGER",e[e.STRESS=2]="STRESS",e[e.SCORE=3]="SCORE",e}({}),M=function(e){return e[e.TREASURE=0]="TREASURE",e[e.XP=1]="XP",e[e.ITEM=2]="ITEM",e[e.PLOT_HOOK=3]="PLOT_HOOK",e[e.HEALING=4]="HEALING",e[e.BACKSTORY=5]="BACKSTORY",e[e.TOOLS=6]="TOOLS",e[e.MAGIC=7]="MAGIC",e[e.BACKSTORY_PROGRESS=8]="BACKSTORY_PROGRESS",e}({});const j=a.p+"static/media/player_0.4a3651c609911ede6b72.png",w=a.p+"static/media/player_1.e45ee653acbed2e81514.png",R=a.p+"static/media/player_2.5356a740be72474dde56.png",I=a.p+"static/media/player_3.e970725dca65db94df39.png",O=a.p+"static/media/player_4.98676765df467966984d.png",L=a.p+"static/media/player_5.8e9f672d492a6cd896a0.png",P=a.p+"static/media/player_6.1afa8fa2ab715ade57d5.png",_=a.p+"static/media/player_7.23786cb18222b198a480.png",F=a.p+"static/media/player_8.2b3036cbda4d0af349b0.png",D=a.p+"static/media/player_9.fd514f539cd296b8caac.png",B=a.p+"static/media/player_10.fd514f539cd296b8caac.png",U=a.p+"static/media/human_1.9d3f8a08cea097d68269.png",G=a.p+"static/media/human_2.0e1a803f8d735c4da762.png",H=a.p+"static/media/dwarf_1.c503bf6080db0c9aca15.png",z=a.p+"static/media/dwarf_2.325f93f2c9d02a323c0d.png",W=a.p+"static/media/elf_1.3c415e4adb872f30841d.png",K=a.p+"static/media/elf_2.b487365606e6211f3988.png",Q=a.p+"static/media/halfOrc_1.cf7fa4b64f0730c1b02d.png",Y=a.p+"static/media/halfOrc_2.70c9be869bbf78847eed.png",V=a.p+"static/media/halfElf_1.903a6f9a31de5c5fa48f.png",X=a.p+"static/media/halfElf_2.24de139aa431732d5366.png",Z=a.p+"static/media/halfling_1.64e3bf1b974cc3baae68.png",q=a.p+"static/media/halfling_2.aa9af491102918fccd9d.png",J=a.p+"static/media/combat_humans.89c356e733541dcb180a.png",$=a.p+"static/media/combat_cultists.d0ab5cb2741624fd0092.png",ee=a.p+"static/media/combat_dragons.a2989854bcbd0162365d.png",te=a.p+"static/media/combat_dwarves.89c356e733541dcb180a.png",ae=a.p+"static/media/combat_elves.89c356e733541dcb180a.png",ne=a.p+"static/media/combat_goblins.9301d270487837bd4748.png",re=a.p+"static/media/combat_half_orcs.89c356e733541dcb180a.png",se=a.p+"static/media/combat_halflings.98aa638546add30dfbe1.png",ie=a.p+"static/media/combat_orcs.89c356e733541dcb180a.png",le=a.p+"static/media/combat_undead.4790a552af33cacad7df.png",oe=a.p+"static/media/combat_half_elves.89c356e733541dcb180a.png",ce=a.p+"static/media/combat_bandits.89c356e733541dcb180a.png",ue=a.p+"static/media/combat_beasts.89c356e733541dcb180a.png",de=a.p+"static/media/title.4674d0f8292f8293550e.png",he=a.p+"static/media/not-implemented.6e4dd23f00eef76570e5.png",me=a.p+"static/media/campaign.0ae804324ee4a18dce29.png",ge=a.p+"static/media/gameroom.4e3df83064899f2fae6a.png",pe=a.p+"static/media/cult_of_the_deep_1.b409ccc25b3fadce874d.png",fe=a.p+"static/media/trolls_1.90f3ef3168a7f77abc26.png",ve=a.p+"static/media/millstone_mystery.0d0e978724bf0aa95d99.png",ye=a.p+"static/media/theoldmill.b86706aaeacca8bbc241.png",be=a.p+"static/media/mm_l_quarry.eb852bbab8e4cc3a8ca9.png",Ee=a.p+"static/media/mm_l_road.d480c4606222b9aea225.png",xe=a.p+"static/media/mm_l_entrance.5679770273c0862c881c.png",Ne=a.p+"static/media/mm_l_tunnel.2c0b3dd6ed8957095962.png",Se=a.p+"static/media/mm_l_bridge.1c1ce30fcaf2e4507aae.png",Ce=a.p+"static/media/mm_l_beach.31082008cdfcff16b189.png",Te=a.p+"static/media/mm_l_townville.4e54b180a6ee89c987d3.png",Ae=a.p+"static/media/cd_l_underthewell.98e28442096e4aaac62e.png",ke=a.p+"static/media/cd_l_lakeside.d5b62d5defccbb95ed8c.png",Me=a.p+"static/media/cd_l_lakesidebrewery.0c7b83c1dde61fb344f1.png",je=a.p+"static/media/cd_l_lakesidecliffs.38f0ef7278d542cc991d.png",we=a.p+"static/media/cd_l_sagewoodtavern.4775f3613dcbcab24ca8.png",Re=a.p+"static/media/millstone.c7ca463bca0eb320cbb6.png",Ie=a.p+"static/media/mm_e_road.cf271ba5815a2537fb24.png",Oe=a.p+"static/media/mm_e_quarry.960c581913f776a57abc.png",Le=a.p+"static/media/mm_e_tunnels.15628af37650c0bc9ee1.png",Pe=a.p+"static/media/mm_e_bandits.0006aeb7ebe035ec77e8.png",_e=a.p+"static/media/mm_e_beach.061cc3fe7e572a537013.png",Fe=a.p+"static/media/mm_e_shipwreck.afc3a7d9ae6e260cd095.png",De=a.p+"static/media/mm_e_fire.698dc46d87465784cb37.png",Be=a.p+"static/media/mm_e_townville.1676d8a8fc3226700c83.png",Ue=a.p+"static/media/cd_e_breweryexploration.661326c17535663b1c7d.png",Ge=a.p+"static/media/cd_e_breweryfight.64e3abb3d3e74cd872b9.png",He=a.p+"static/media/cd_e_bythelake.acbab6311ed84da30246.png",ze=a.p+"static/media/cd_e_lakesidecliffs.814e190d9e33026b9850.png",We=a.p+"static/media/cd_e_underthewell.f9feee6b1e0f48ffc561.png",Ke=a.p+"static/media/cd_e_sagewoodtavern4.15b73aec91294164e7f6.png",Qe=a.p+"static/media/imp.7010d4c2da611a1b1ef2.png",Ye=a.p+"static/media/dm.6eddb4c9c933accb4321.png",Ve=a.p+"static/media/die.006fb464b16c2368884a.png",Xe=a.p+"static/media/imp.c1264900e624e8b84161.png",Ze=a.p+"static/media/event_roleplay.f96d28d31976009a6d50.png",qe=a.p+"static/media/event_town.da8414c457dc0f3f3e38.png",Je=a.p+"static/media/event_challenge.b4711d0b921afc3ad481.png",$e=a.p+"static/media/event_trap.708f8a4b30441fdb40a7.png";var et=a(579);const tt={player_0:j,player_1:w,player_2:R,player_3:I,player_4:O,player_5:L,player_6:P,player_7:_,player_8:F,player_9:D,player_10:B,human_1:U,human_2:G,dwarf_1:H,dwarf_2:z,elf_1:W,elf_2:K,halfOrc_1:Q,halfOrc_2:Y,halfElf_1:V,halfElf_2:X,halfling_1:Z,halfling_2:q,main_menu:de,default_bg:he,campaign_bg:me,gameroom_bg:ge,cult_of_the_deep_1:pe,trolls_1:fe,millstone_mystery_1:ve,mm_l_oldMill:ye,mm_l_quarry:be,mm_l_road:Ee,mm_l_entrance:xe,mm_l_tunnel:Ne,mm_l_bridge:Se,mm_l_beach:Ce,mm_l_townville:Te,mm_e_millstone:Re,mm_e_road:Ie,mm_e_quarry:Oe,mm_e_tunnels:Le,mm_e_bandits:Pe,mm_e_beach:_e,mm_e_shipwreck:Fe,mm_e_fire:De,mm_e_townville:Be,cd_l_underthewell:Ae,cd_l_lakeside:ke,cd_l_lakesidebrewery:Me,cd_l_lakesidecliffs:je,cd_l_sagewoodtavern:we,cd_e_breweryexploration:Ue,cd_e_breweryfight:Ge,cd_e_bythelake:He,cd_e_lakesidecliffs:ze,cd_e_underthewell:We,cd_e_sagewoodtavern:Ke,tutorial_mascot:Xe,chat_imp:Qe,chat_dm:Ye,chat_die:Ve,number_die_4:Ve,number_die_6:Ve,number_die_8:Ve,number_die_10:Ve,number_die_12:Ve,number_die_20:Ve,number_die_100:Ve,combat_human:J,combat_cultists:$,combat_dragons:ee,combat_dwarves:te,combat_elves:ae,combat_goblins:ne,combat_half_orcs:re,combat_halflings:se,combat_humans:J,combat_orcs:ie,combat_undead:le,combat_half_elves:oe,combat_bandits:ce,combat_beasts:ue,event_combat:"data:image/png;base64,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",event_roleplay:Ze,event_perception:"data:image/png;base64,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",event_town:qe,event_travel:"data:image/png;base64,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",event_challenge:Je,event_trap:$e,event_exploration:"data:image/png;base64,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"},at=e=>{let{imageId:t}=e;if("none"===t)return null;const a=tt[t||""];return a?(0,et.jsx)("img",{src:a,alt:"Icon",className:"cimage"}):(console.error(`No image found for imageId: ${t}`),null)};let nt=function(e){return e.HUMAN="human",e.ELF="elf",e.DWARF="dwarf",e.HALFLING="halfling",e.HALF_ORC="half-orc",e.HALF_ELF="HALF_ELF",e.NPC="npc",e}({}),rt=function(e){return e.CLERIC="cleric",e.DRUID="druid",e.FIGHTER="fighter",e.PALADIN="paladin",e.ROGUE="rogue",e.WIZARD="wizard",e.NPC="npc",e}({});const st=65,it=30;let lt=function(e){return e.COMBAT="combat",e.ROLEPLAY="roleplay",e.PUZZLE="puzzle",e.PERCEPTION="perception",e.TOWN="town",e.TRAVEL="travel",e.CHALLENGE="challenge",e.TRAP="trap",e.CHARACTER_BACKSTORY="character backstory",e.STORY="story",e.EXPLORATION="exploration",e}({});const ot=[{abbreviation:"M",fullName:"Monday"},{abbreviation:"T",fullName:"Tuesday"},{abbreviation:"W",fullName:"Wednesday"},{abbreviation:"R",fullName:"Thursday"},{abbreviation:"F",fullName:"Friday"},{abbreviation:"St",fullName:"Saturday"},{abbreviation:"Sn",fullName:"Sunday"}],ct=[{name:"Yes",percentage:st+1},{name:"Maybe",percentage:st-1},{name:"No",percentage:it-1}],ut=e=>`rgba(${Math.min(255,Math.floor(2.55*(100-e)))}, ${Math.min(255,Math.floor(2.55*e))}, 0, 0)`,dt=e=>e<=it?"X":e>st?"\u2714":"",ht=e=>{let{dayData:t,legend:a=!1}=e;return(0,et.jsxs)("div",{className:"week-display-days",children:[!a&&ot.map(((e,a)=>{const n=((e,t)=>e[t])(t,a),r=ut(n);return(0,et.jsxs)("div",{className:"day-square",style:{backgroundColor:r},children:[(0,et.jsx)("div",{className:"day-abbreviation",children:e.abbreviation}),(0,et.jsx)("div",{className:"day-symbol",children:dt(n)}),(0,et.jsxs)("div",{className:"day-percentage",children:[n,"%"]})]},a)})),a&&ct.map(((e,t)=>{const a=e.percentage,n=ut(a);return(0,et.jsxs)("div",{className:"day-square",style:{backgroundColor:n},children:[(0,et.jsx)("div",{className:"day-abbreviation",children:e.name}),(0,et.jsx)("div",{className:"day-symbol",children:dt(a)})]},t)}))]})},mt=e=>{let{callback:t,classname:a=""}=e;return(0,et.jsx)("div",{className:`more-info ${a}`,onClick:t,children:(0,et.jsx)("div",{className:"more-info-text",children:"?"})})},gt=(0,n.createContext)(void 0),pt=(0,n.createContext)(void 0),ft=(0,n.createContext)(void 0),vt=(0,n.createContext)(void 0),yt=(0,n.createContext)(void 0),bt=(0,n.createContext)(void 0),Et=(0,n.createContext)(void 0),xt=(0,n.createContext)(void 0),Nt=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(Et.Provider,{value:t,children:a})},St=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(xt.Provider,{value:t,children:a})},Ct=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(gt.Provider,{value:t,children:a})},Tt=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(pt.Provider,{value:t,children:a})},At=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(ft.Provider,{value:t,children:a})},kt=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(vt.Provider,{value:t,children:a})},Mt=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(yt.Provider,{value:t,children:a})},jt=e=>{let{manager:t,children:a}=e;return(0,et.jsx)(bt.Provider,{value:t,children:a})},wt=()=>{const e=(0,n.useContext)(Et);if(void 0===e)throw new Error("useCharacterManager must be used within a CharacterManagerProvider");return e},Rt=()=>{const e=(0,n.useContext)(xt);if(void 0===e)throw new Error("usePlayerManager must be used within a PlayerManagerProvider");return e},It=()=>{const e=(0,n.useContext)(gt);if(void 0===e)throw new Error("useAppManager must be used within a AppManagerProvider");return e},Ot=()=>{const e=(0,n.useContext)(ft);if(void 0===e)throw new Error("useCampaignManager must be used within a CampaignManagerProvider");return e},Lt=()=>{const e=(0,n.useContext)(yt);if(void 0===e)throw new Error("usePartyManager must be used within a PartyManagerProvider");return e},Pt=()=>{const e=(0,n.useContext)(bt);if(void 0===e)throw new Error("useUiManager must be used within a UiManagerProvider");return e};let _t=function(e){return e.MAIN_MENU="main-menu",e.CAMPAIGN_SETUP="campaign-setup",e.PLAYER_RECRUITMENT="player-recruitment",e.CHARACTER_CREATION="character-creation",e.SESSION_OVERVIEW="session-setup",e.SESSION="session",e.SCORE="score",e}({});const Ft={nextState:_t.MAIN_MENU,ui:{showCharacterBar:!1},background_image_id:"default_bg",bg_transition_mode:"none",secondary_bg_image_id:"none",secondary_image_pos:"none"},Dt={[_t.MAIN_MENU]:{nextState:_t.CAMPAIGN_SETUP,ui:{showCharacterBar:!1},background_image_id:"main_menu"},[_t.CAMPAIGN_SETUP]:{nextState:_t.PLAYER_RECRUITMENT,ui:{showCharacterBar:!1},background_image_id:"main_menu",bg_transition_mode:"slide-down",secondary_bg_image_id:"campaign_bg",secondary_image_pos:"bottom"},[_t.PLAYER_RECRUITMENT]:{nextState:_t.CHARACTER_CREATION,ui:{showCharacterBar:!1},background_image_id:"main_menu",bg_transition_mode:"slide-right"},[_t.CHARACTER_CREATION]:{nextState:_t.SESSION_OVERVIEW,ui:{showCharacterBar:!1},background_image_id:"main_menu",bg_transition_mode:"slide-left"},[_t.SESSION_OVERVIEW]:{nextState:_t.SESSION,ui:{showCharacterBar:!1},background_image_id:"none",bg_transition_mode:"none",secondary_bg_image_id:"none"},[_t.SESSION]:{nextState:_t.SCORE,ui:{showCharacterBar:!1},background_image_id:"none",secondary_bg_image_id:"none"},[_t.SCORE]:{nextState:_t.MAIN_MENU,ui:{showCharacterBar:!1}}},Bt={SWORD_1:{name:"Plus 1 Sword",attributes:{[c.COMBAT]:1}},MIRROR_SHIELD:{name:"Mirror Shield",attributes:{[c.COMBAT]:2,[c.TOOLS]:2}},WAND_5:{name:"Spellring",attributes:{[c.MAGIC]:2}},HELPFUL_IMP:{name:"Helpful Imp",attributes:{[c.COMBAT]:1,[c.TOOLS]:1,[c.MAGIC]:1}},STONECUTTER:{name:"Stonecutter",attributes:{[c.TOOLS]:5}},CLOAK_OF_LEVITATION:{name:"Cloak of Levitation",attributes:{[c.MAGIC]:1,[c.TOOLS]:1}},WAND_OF_MISSILES:{name:"Wand of Missiles",attributes:{[c.MAGIC]:2,[c.COMBAT]:1}},GLOVES_OF_THE_SPIDER:{name:"Gloves of the Spider",attributes:{[c.TOOLS]:3}}};function Ut(e){switch(e.race){case nt.DWARF:return{[c.COMBAT]:2,[c.MAGIC]:0,[c.TOOLS]:1};case nt.ELF:return{[c.COMBAT]:1,[c.MAGIC]:3,[c.TOOLS]:0};case nt.HUMAN:return{[c.COMBAT]:1,[c.MAGIC]:1,[c.TOOLS]:1};case nt.HALFLING:return{[c.COMBAT]:1,[c.MAGIC]:0,[c.TOOLS]:3};case nt.HALF_ORC:return{[c.COMBAT]:3,[c.MAGIC]:0,[c.TOOLS]:0};case nt.HALF_ELF:return{[c.COMBAT]:1,[c.MAGIC]:2,[c.TOOLS]:0};case nt.NPC:return{[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0}}}function Gt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return{[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0};const a=Ut(e),n=function(e){const t={[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0};return e.gear.forEach((e=>{var a,n,r;t[c.COMBAT]+=null!==(a=e.attributes[c.COMBAT])&&void 0!==a?a:0,t[c.MAGIC]+=null!==(n=e.attributes[c.MAGIC])&&void 0!==n?n:0,t[c.TOOLS]+=null!==(r=e.attributes[c.TOOLS])&&void 0!==r?r:0})),t}(e),r=function(e){const t={[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0};for(let a=0;a<e.level;a++){let n=a+1;t[c.COMBAT]+=Ht(e.character_class,n)[c.COMBAT],t[c.MAGIC]+=Ht(e.character_class,n)[c.MAGIC],t[c.TOOLS]+=Ht(e.character_class,n)[c.TOOLS]}return t}(e),s={[c.COMBAT]:0+a[c.COMBAT]+r[c.COMBAT]+n[c.COMBAT],[c.MAGIC]:0+a[c.MAGIC]+r[c.MAGIC]+n[c.MAGIC],[c.TOOLS]:0+a[c.TOOLS]+r[c.TOOLS]+n[c.TOOLS]};var i,l,o;t&&(e.attributeLoss&&(s[c.COMBAT]-=null!==(i=e.attributeLoss[c.COMBAT])&&void 0!==i?i:0,s[c.MAGIC]-=null!==(l=e.attributeLoss[c.MAGIC])&&void 0!==l?l:0,s[c.TOOLS]-=null!==(o=e.attributeLoss[c.TOOLS])&&void 0!==o?o:0));return s}function Ht(e,t){const a=t%2,n=(t+1)%2;switch(e){case rt.CLERIC:return{[c.COMBAT]:1+a,[c.MAGIC]:2,[c.TOOLS]:n};case rt.DRUID:return{[c.COMBAT]:1+n,[c.MAGIC]:1+a,[c.TOOLS]:1+a};case rt.FIGHTER:return{[c.COMBAT]:3,[c.MAGIC]:0,[c.TOOLS]:1};case rt.PALADIN:return{[c.COMBAT]:2+n,[c.MAGIC]:1,[c.TOOLS]:a};case rt.ROGUE:return{[c.COMBAT]:1,[c.MAGIC]:0,[c.TOOLS]:3+a};case rt.WIZARD:return{[c.COMBAT]:n,[c.MAGIC]:3,[c.TOOLS]:1}}return{[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0}}const zt=e=>"character"in e||"npcTag"in e,Wt=e=>{let{hero:t,category:a,collapsed:n,showAttributeLoss:r,overviewDisplay:s=!1}=e;const i=wt(),l=It().getCombatManager();let o,d={[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0};zt(t)&&t.npcTag&&(d=l.getNPCAttributes(t.npcTag),t.character=i.generateNPC(t.npcTag),a=u.NPC),o=zt(t)?t.character:t;const h=Ut(o),m=Gt(o,!0),g=o.attributeLoss||{[c.COMBAT]:0,[c.MAGIC]:0,[c.TOOLS]:0},p=Gt(o),f=(e,t)=>{const a=[],n=i.getUFAttributeSymbol(e);for(let r=0;r<t;r++)a.push((0,et.jsx)("span",{className:`attribute-icon ${e}`,children:n},`${e}-${r}`));return a},v=(e,t)=>{if(n){const t=Object.keys(e).flatMap((t=>f(t,e[t]||0)));return(0,et.jsx)("div",{className:"collapsed-attributes",children:t})}return Object.keys(e).map((a=>(0,et.jsxs)("div",{className:"attribute-display",children:[(0,et.jsxs)("div",{className:"attribute-title",children:[(0,et.jsx)("b",{children:i.getUFAttributeName(a)}),":"]}),t&&r?(0,et.jsxs)("div",{className:"attribute-container",children:[(0,et.jsx)("div",{className:"attributes-retained",children:f(a,e[a]||0)}),(0,et.jsx)("div",{className:"attributes-lost",children:f(a,t[a]||0)})]}):(0,et.jsx)("div",{className:"attribute-container",children:f(a,e[a]||0)})]},a)))},y=()=>0===o.gear.length?(0,et.jsx)("div",{}):o.gear.map((e=>(0,et.jsxs)("div",{className:"gear-attributes",children:[(0,et.jsx)("div",{className:"gear-title",children:(0,et.jsxs)("b",{children:[e.name,": "]})}),v(e.attributes)]},e.name)));return(0,et.jsxs)("div",{className:"attribute-display-container",children:[(()=>{switch(a){case u.CHARACTER_CLASS:return Array.from({length:o.level},((e,t)=>t+1)).map((e=>{const t=Ht(o.character_class,e);return(0,et.jsxs)("div",{className:"level-attributes",children:[(0,et.jsxs)("div",{className:"level-title",children:[(0,et.jsxs)("b",{children:["Level ",e,":"]})," "]}),v(t)]},e)}));case u.GEAR:return y();case u.RACE:return v(h);case u.ALL:return r?v(m,g):v(p);case u.NPC:return v(d);default:return null}})(),s&&y(),s&&(()=>{const e=o.backstory,t=o.backstory.filter((e=>e.completed)).length,a=4-e.length;return(0,et.jsxs)("div",{className:"backstory-element",children:[(0,et.jsxs)("div",{className:"backstory-title",children:[(0,et.jsx)("b",{children:"Backstory : "}),t," / 4"]}),(0,et.jsxs)("div",{className:"backstory-tags",children:[e.map(((e,t)=>(0,et.jsx)("div",{className:"text-pill backstory-item "+(e.completed?"type-backstory":"expected"),children:e.tag.name},`backstory-${t}`))),[...Array(a)].map(((e,t)=>(0,et.jsx)("div",{className:"text-pill backstory-item expected",children:"?"},`placeholder-${t}`)))]})]})})()]})},Kt=e=>{let{character:t,isSelected:a,onSelect:n,showAbilities:r,collapsed:s,isAssigned:i,isAssignedToOther:l}=e;const o=Pt(),c=wt(),d=()=>{o.showBasicNotebook(m,t)},h=It().state!==_t.CHARACTER_CREATION;return s?(0,et.jsxs)("div",{className:"character-card collapsed",onClick:n,children:[(0,et.jsxs)("div",{className:"character-icon",children:[(0,et.jsx)(at,{imageId:t.icon}),(0,et.jsx)("div",{className:"character-initials",children:c.getUFInitials(t)})]}),(0,et.jsx)("div",{className:"character-collapsed-overlay",children:h?(0,et.jsx)(mt,{callback:d}):(0,et.jsx)("div",{className:"character-collapsed-unassign",children:"X"})})]}):(0,et.jsxs)("div",{className:`character-card ${a?"selected":""} ${l?"assigned-to-other":""}`,onClick:n,children:[(0,et.jsxs)("div",{className:`character-card-container ${i?"assigned":""} `,children:[(0,et.jsxs)("div",{className:"character-card-header",children:[(0,et.jsxs)("div",{className:"character-info",children:[(0,et.jsx)("div",{className:"character-name",children:t.name}),(0,et.jsx)("div",{className:"character-details",children:(0,et.jsxs)("div",{className:"character-race",children:[c.getUFRace(t.race)," ",c.getUFClass(t.character_class)]})}),(0,et.jsx)(Wt,{hero:t,category:u.ALL,collapsed:!1})]}),(0,et.jsxs)("div",{className:"character-icon",children:[(0,et.jsx)(at,{imageId:t.icon}),(0,et.jsxs)("div",{className:"character-level",children:["Level ",t.level]})]})]}),r&&(0,et.jsx)("div",{className:"character-card-body",children:(0,et.jsx)("div",{className:"abilities-list",children:(0,et.jsx)("ul",{children:t.abilities.map(((e,t)=>(0,et.jsx)("li",{children:(0,et.jsx)("strong",{children:e})},t)))})})})]}),(0,et.jsx)(mt,{callback:d}),i&&(0,et.jsx)("div",{className:"character-assigned",children:"Assigned"})]})},Qt=e=>{let{totalSegments:t,filledSegments:a,theme:n="",label:r,buttonWhenFilled:s=!1,onClickFilled:i,filledLabel:l,labelStyle:o="normal"}=e;const c=Array.from({length:t},((e,t)=>(0,et.jsx)("div",{className:`fill-bar-segment bg-theme-${n} ${t<a?"filled":""}`},t))),u=a>=t,d="theme-"+n;return"over"!==o?(0,et.jsxs)("div",{className:"fill-bar",children:[r&&(0,et.jsx)("div",{className:`fill-bar-label text-theme-${n||""}`,children:r}),(0,et.jsx)("div",{className:`fill-bar-container ${u?d:""}`,children:u&&s?(0,et.jsx)("div",{className:`fill-bar-filled-button ${d}`,onClick:i,children:l}):c})]}):(0,et.jsx)("div",{className:"fill-bar",children:(0,et.jsxs)("div",{className:`fill-bar-container ${u?d:""}`,children:[r&&"over"===o&&(0,et.jsx)("div",{className:`fill-bar-label-over text-theme-${n||""}`,children:r}),u&&s?(0,et.jsx)("div",{className:`fill-bar-filled-button ${d}`,onClick:i,children:l}):c]})})},Yt=["#CC0000","#CC6600","#CCCC00","#66CC00","#00CC00"],Vt=["#990000","#994C00","#999900","#4C9900","#009900"],Xt=["#FFCCCC","#FFDDCC","#FFFFCC","#DDFFCC","#CCFFCC"],Zt=["#660000","#663300","#666600","#336600","#006600"],qt=e=>{let{player:t,parentUpdate:a,isSelected:r,onSelect:s,showCharacters:i,showSchedule:l,showPreferences:o,overlayStyle:c,showStats:u}=e;const d=Pt(),h=It(),[p,f]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[b,E]=(0,n.useState)(!1),[x,N]=(0,n.useState)(!1),[S,C]=(0,n.useState)(t.playerStats.enjoyment),[T,A]=(0,n.useState)(!1),k=t.preferences.reduce(((e,t)=>t[1]>e[1]?t:e),t.preferences[0]),M=t.preferences.reduce(((e,t)=>t[1]<e[1]?t:e),t.preferences[0]),j=t.preferences.filter((e=>e[1]>0)),w=t.preferences.filter((e=>e[1]<0)),R="assign"===c?"Assign":"Remove",I="none"===c?"":(0,et.jsx)("div",{className:`overlay ${c}`,children:(0,et.jsx)("div",{className:"overlay-text",children:R})}),O=wt(),L=Rt(),P=e=>{L.toggleSinglePlayerForCharacter(t,e),f(!p),a&&a()};(0,n.useEffect)((()=>{S!==t.playerStats.enjoyment&&(A(!0),setTimeout((()=>A(!1)),500),C(t.playerStats.enjoyment))}),[t.playerStats.enjoyment]),(0,n.useEffect)((()=>{const e=()=>{f(!p)};return d.on("playerUpdate",e),()=>{d.off("playerUpdate",e)}}),[d,p]);return(0,et.jsxs)("div",{className:"player-card "+(r?"selected":""),onClick:s,style:{backgroundColor:Xt[t.playerStats.enjoyment]||"",borderColor:Zt[t.playerStats.enjoyment]||""},children:[(0,et.jsx)(mt,{callback:()=>{d.showBasicNotebook(g,t)}}),(0,et.jsxs)("div",{className:"player-card-header",children:[(0,et.jsx)("div",{className:"player-icon",children:(0,et.jsx)(at,{imageId:t.icon})}),(0,et.jsxs)("div",{className:"player-upper-info",children:[(0,et.jsx)("div",{className:"player-name",children:t.name}),l&&(0,et.jsx)("div",{className:"player-schedule-container",children:(0,et.jsx)(ht,{dayData:t.schedule})})]})]}),o&&(0,et.jsxs)("div",{className:"player-preferences-section",children:[t.traits.length>0&&(0,et.jsxs)("div",{className:"preferences-column",children:[(0,et.jsx)("div",{className:"preferences-title",children:"Traits"}),(0,et.jsx)("div",{className:"preferences-traits ",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:t.traits.map(((e,t)=>(0,et.jsx)("div",{className:"trait-item text-pill trait",children:e.name},t)))}),x&&(0,et.jsx)("div",{className:"tooltip traits",children:(0,et.jsx)("div",{className:"tooltip-content-single",children:t.traits.map(((e,t)=>(0,et.jsxs)("div",{className:"tooltip-trait-item",children:[(0,et.jsx)("b",{children:e.name}),": ",e.description]},t)))})})]}),(0,et.jsxs)("div",{className:"preferences-column",children:[(0,et.jsx)("div",{className:"preferences-title",children:"Likes"}),(0,et.jsx)("div",{className:"preferences-main",children:k[0].name}),(0,et.jsx)("div",{className:"preferences-dots",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:j.map(((e,t)=>(0,et.jsx)("div",{className:"preference-dot like",title:e[0].name},t)))}),v&&(0,et.jsx)("div",{className:"tooltip like",children:(0,et.jsx)("div",{className:"tooltip-content",children:t.preferences.filter((e=>e[1]>0)).map(((e,t)=>(0,et.jsx)("div",{className:"tooltip-pill",children:e[0].name},t)))})})]}),(0,et.jsxs)("div",{className:"preferences-column",children:[(0,et.jsx)("div",{className:"preferences-title",children:"Hates"}),(0,et.jsx)("div",{className:"preferences-main",children:M[0].name}),(0,et.jsx)("div",{className:"preferences-dots",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:w.map(((e,t)=>(0,et.jsx)("div",{className:"preference-dot hate",title:e[0].name},t)))}),b&&(0,et.jsx)("div",{className:"tooltip hate",children:(0,et.jsx)("div",{className:"tooltip-content",children:t.preferences.filter((e=>e[1]<0)).map(((e,t)=>(0,et.jsx)("div",{className:"tooltip-pill",children:e[0].name},t)))})})]})]}),u?(0,et.jsxs)("div",{className:"player-stats",children:[(0,et.jsxs)("div",{className:"stat-item enjoyment",children:[(0,et.jsx)("div",{className:"stat-item-emoji",children:"\ud83d\ude1e"}),Array.from({length:5}).map(((e,a)=>{const n=a<=t.playerStats.enjoyment;return(0,et.jsx)("span",{className:`delight-circle ${n?"filled":""} ${T?"flash":""}`,style:n?{backgroundColor:Yt[t.playerStats.enjoyment]||"",borderColor:Vt[t.playerStats.enjoyment]||"",boxShadow:`0 0 10px ${Yt[t.playerStats.enjoyment]||""}`}:{}},a)})),(0,et.jsx)("div",{className:"stat-item-emoji",children:"\ud83d\ude0a"})]}),(0,et.jsx)("div",{className:"stat-item engagement",children:(0,et.jsx)(Qt,{totalSegments:5,filledSegments:t.playerStats.involvement,theme:"engagement",label:"ATTENTION"})}),(0,et.jsx)("div",{className:"stat-item stress",children:(0,et.jsx)(Qt,{totalSegments:3,filledSegments:t.playerStats.stress,theme:"engagement",label:"STRESS"})})]}):null,i&&(0,et.jsx)("div",{className:"character-row-container",children:(0,et.jsx)("div",{className:"character-row-display",children:t.characters.map((e=>{const t=O.getCharacterByIndex(e);return(0,et.jsx)(Kt,{character:t,isSelected:!1,onSelect:()=>{(e=>{if(h.state===_t.CHARACTER_CREATION)P(e);else{const t=O.getCharacterByIndex(e);d.showBasicNotebook(m,t)}})(e)},showAbilities:!1,collapsed:!0},t.id)}))})}),c&&I]})},Jt=e=>{let{encounterInfo:t}=e;const a=Ot(),n=t.encounter,r=a.getTagsForEncounter(n);t.encounter.branches;return(0,et.jsxs)("div",{className:"notebook-encounter-container",children:[(0,et.jsxs)("div",{className:"notebook-encounter-contents left",children:[(0,et.jsxs)("div",{className:"notebook-text encounter-location",children:[(0,et.jsx)("b",{children:"Location:"})," ",n.location.name]}),(0,et.jsxs)("div",{className:"notebook-text encounter-description",children:[(0,et.jsx)("b",{children:"Description:"})," ",n.description]})]}),(0,et.jsxs)("div",{className:"notebook-encounter-contents right",children:[(0,et.jsx)("div",{className:"elements-features-list-container",children:r.map(((e,t)=>(0,et.jsxs)("div",{className:"notebook-text elements-features-list text-pill tag",children:[" - ",e.name," "]},t)))}),(0,et.jsx)("div",{className:"notebook-icon-container",children:(0,et.jsx)(at,{imageId:n.icon})})]})]})},$t=e=>{let{characterInfo:t}=e;const a=wt(),n=Rt();return(0,et.jsxs)("div",{className:"notebook-character",children:[(0,et.jsxs)("div",{className:"notebook-character-left ",children:[(0,et.jsxs)("div",{className:"notebook-left-top-container",children:[(0,et.jsx)("div",{className:"notebook-character-icon-container",children:(0,et.jsx)(at,{imageId:t.character.icon})}),(0,et.jsxs)("div",{className:"notebook-character-stats-container  notebook-text",children:[(0,et.jsxs)("div",{className:"notebook-character-stat",children:[(0,et.jsx)("b",{children:"Race: "}),a.getUFRace(t.character.race)]}),(0,et.jsxs)("div",{className:"notebook-character-stat",children:[(0,et.jsx)("b",{children:"Class: "}),a.getUFClass(t.character.character_class)]}),(0,et.jsxs)("div",{className:"notebook-character-stat",children:[(0,et.jsx)("b",{children:"Level: "}),t.character.level]}),(0,et.jsx)("div",{className:"notebook-character-stat",children:(()=>{const e=n.getPlayerAssignedCharacter(t.character.id);return e?`Assigned to ${e.name}`:"Not assiged to any player"})()})]})]}),(()=>{if("injured"===t.character.injury||"dead"===t.character.injury)return(0,et.jsxs)("div",{className:"notebook-character-health  notebook-text",children:[(0,et.jsx)("div",{className:"notebook-character-health-title  header-text",children:"HEALTH"}),(0,et.jsxs)("div",{className:"notebook-character-health-status",children:["injured"===t.character.injury&&(0,et.jsx)("div",{className:"notebook-character-health-status-entry text-pill injured",children:"Injured"}),"dead"===t.character.injury&&(0,et.jsx)("div",{className:"notebook-character-health-status-entry text-pill dead",children:"Dead"})]})]})})(),(0,et.jsxs)("div",{className:"notebook-character-combined-abilities  notebook-text",children:[(0,et.jsx)("div",{className:"notebook-character-abilities-title  header-text",children:"ABILITIES"}),(0,et.jsx)("div",{className:"notebook-character-abilities",children:(0,et.jsx)(Wt,{hero:t.character,category:u.ALL})})]}),(0,et.jsxs)("div",{className:"notebook-character-backstory  notebook-text",children:[(0,et.jsx)("div",{className:"notebook-character-backstory-title  header-text",children:"BACKSTORY"}),(0,et.jsxs)("div",{className:"notebook-character-backstory-display-container",children:[(0,et.jsx)(Qt,{totalSegments:Math.max(t.character.backstory.length,3),filledSegments:t.character.backstory.filter((e=>e.completed)).length,theme:"backstory",label:""}),(0,et.jsxs)("div",{className:"notebook-character-backstory-tags",children:[(0,et.jsx)("div",{className:"backstory-label",children:"Looking For:"}),t.character.backstory.filter((e=>!e.completed)).map(((e,t)=>(0,et.jsx)("div",{className:"notebook-character-backstory-entry text-pill "+(e.completed?"completed":"expected"),children:e.tag.name},t)))]}),(0,et.jsxs)("div",{className:"notebook-character-backstory-tags",children:[(0,et.jsx)("div",{className:"backstory-label found",children:"Found:"}),t.character.backstory.filter((e=>e.completed)).map(((e,t)=>(0,et.jsx)("div",{className:"notebook-character-backstory-entry text-pill "+(e.completed?"completed":"expected"),children:e.tag.name},t)))]})]})]})]}),(0,et.jsx)("div",{className:"notebook-character-right notebook-text",children:(0,et.jsx)("div",{className:"notebook-right-container",children:(0,et.jsxs)("div",{className:"notebook-character-ability-breakdown-container",children:[(0,et.jsx)("div",{className:"notebook-character-ablilities-breakdown-title"}),(0,et.jsxs)("div",{className:"notebook-character-race-abilities",children:[(0,et.jsxs)("div",{className:"notebook-character-ability-breakdown header-text",children:[a.getUFRace(t.character.race)," Abilities:"]}),(0,et.jsx)(Wt,{hero:t.character,category:u.RACE,collapsed:!0})]}),(0,et.jsxs)("div",{className:"notebook-character-ability-breakdown  header-text",children:[a.getUFClass(t.character.character_class)," Abilities:"]}),(0,et.jsx)("div",{className:"notebook-character-ability-levels",children:(0,et.jsx)(Wt,{hero:t.character,category:u.CHARACTER_CLASS,collapsed:!0})}),t.character.gear.length>0&&(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{className:"notebook-character-ability-breakdown  header-text",children:"Items:"}),(0,et.jsx)(Wt,{hero:t.character,category:u.GEAR,collapsed:!0})]})]})})})]})},ea=e=>{let{locationInfo:t}=e;const a=t.location;return(0,et.jsxs)("div",{className:"notebook-location-container",children:[(0,et.jsx)("div",{className:"notebook-location-contents left",children:(0,et.jsxs)("div",{className:"notebook-text location-description",children:[(0,et.jsx)("b",{children:"Description:"})," ",a.description]})}),(0,et.jsxs)("div",{className:"notebook-location-contents right",children:[(0,et.jsx)("div",{className:"elements-features-list-container",children:a.tags.map(((e,t)=>(0,et.jsxs)("div",{className:"notebook-text elements-features-list text-pill tag",children:[" - ",e.name," "]},t)))}),(0,et.jsx)("div",{className:"notebook-icon-container",children:(0,et.jsx)(at,{imageId:a.icon})})]})]})},ta=e=>{let{playerInfo:t,singleColumn:a}=e;const n=wt(),r=t.player.preferences.filter((e=>e[1]>0)),s=t.player.preferences.filter((e=>e[1]<0)),i=()=>t.player.traits.map(((e,t)=>(0,et.jsxs)("div",{children:[(0,et.jsxs)("div",{className:"text-pill trait",children:["-",e.name]},t),(0,et.jsx)("div",{className:"trait-description",children:e.description})]},t)));return(0,et.jsxs)("div",{className:"notebook-player-container",children:[a&&(0,et.jsx)("div",{className:"title-text lower",children:t.player.name}),!a&&(0,et.jsxs)("div",{className:"player-notebook-left-content",children:[(0,et.jsx)("div",{className:"notebook-player-content",children:(0,et.jsx)("div",{className:"notebook-player-icon",children:(0,et.jsx)(at,{imageId:t.player.icon})})}),(0,et.jsx)("div",{className:"player-traits-container traits",children:i()}),t.player.characters.length>0&&(0,et.jsxs)("div",{className:"player-characters notebook-text",children:[(0,et.jsx)("b",{children:"Characters"}),t.player.characters.map(((e,t)=>{const a=n.getCharacterByIndex(e);return(0,et.jsxs)("div",{className:"notebook-text",children:["- ",(0,et.jsx)("b",{children:a.name}),": Level ",a.level," ",a.character_class," ",a.race]},t)}))]})]}),(0,et.jsxs)("div",{className:"player-notebook-right-content",children:[(0,et.jsxs)("div",{className:"player-preferences-container notebook-text",children:[a&&(0,et.jsxs)("div",{className:"player-preferences traits",children:[(0,et.jsx)("div",{className:"player-preference-title-small traits",children:"Player Traits"}),i()]}),(0,et.jsxs)("div",{className:"player-preferences likes",children:[(0,et.jsx)("div",{className:"player-preference-title-small likes",children:"Likes"}),r.map(((e,t)=>(0,et.jsx)("div",{className:"text-pill like",children:(0,et.jsxs)("div",{className:"notebook-text",children:["- ",e[0].name]})},t)))]}),(0,et.jsxs)("div",{className:"player-preferences hates",children:[(0,et.jsx)("div",{className:"player-preference-title-small hates",children:"Hates"}),s.map(((e,t)=>(0,et.jsx)("div",{className:"text-pill hate",children:(0,et.jsxs)("div",{className:"notebook-text",children:["- ",e[0].name]})},t)))]})]}),(0,et.jsx)("div",{className:"player-schedule-container"})]})]})},aa=e=>{let{groupInfo:t}=e;const[a,r]=(0,n.useState)(t.players),s=Rt(),[i,l]=(0,n.useState)(s.getGroupAttitudes()),[o,c]=(0,n.useState)(s.aggregateSchedule());return(0,n.useEffect)((()=>{l(s.getGroupAttitudes()),r(t.players),c(s.aggregateSchedule())}),[t,s]),(0,et.jsxs)("div",{className:"notebook-group-container",children:[(0,et.jsx)("div",{className:"notebook-group-top-content",children:(0,et.jsxs)("div",{className:"notebook-group-players notebook-text large",children:[(0,et.jsx)("u",{children:"Players"}),(0,et.jsx)("div",{className:"notebook-group-players-list",children:0!==a.length&&a.map(((e,t)=>(0,et.jsx)("div",{className:"notebook-text player-name",children:e.name},t)))})]})}),(0,et.jsxs)("div",{className:"player-attitude",children:[(0,et.jsxs)("div",{className:"attitude-column",children:[(0,et.jsx)("div",{className:"attitude-title notebook-text large",children:(0,et.jsx)("u",{children:"Group Likes"})}),i.likes.map(((e,t)=>(0,et.jsx)("div",{className:"attitude-item like",children:(0,et.jsx)("div",{className:"attitude-item-text",children:e})},t)))]}),i.conflicted.length>0&&(0,et.jsxs)("div",{className:"attitude-column",children:[(0,et.jsx)("div",{className:"attitude-title notebook-text large",children:(0,et.jsx)("u",{children:"Conflicted"})}),i.conflicted.map(((e,t)=>(0,et.jsx)("div",{className:"attitude-item conflicted",children:(0,et.jsx)("div",{className:"attitude-item-text",children:e})},t)))]}),(0,et.jsxs)("div",{className:"attitude-column",children:[(0,et.jsx)("div",{className:"attitude-title notebook-text large",children:(0,et.jsx)("u",{children:"Group Hates"})}),i.hates.map(((e,t)=>(0,et.jsx)("div",{className:"attitude-item hate",children:(0,et.jsx)("div",{className:"attitude-item-text",children:e})},t)))]})]})]})},na=()=>{const e=Rt().aggregateSchedule(),t=e=>0===e?"-":e<33?"X":e<65?" ":"\u2714";return(0,et.jsxs)("div",{className:"group-schedule-container",children:[(0,et.jsx)("div",{className:"group-schedule-tab",children:"Scheduling"}),(0,et.jsx)("div",{className:"week-display-days",children:e.map(((e,a)=>(0,et.jsxs)("div",{className:"day-box",children:[(0,et.jsx)("div",{className:"day-abbreviation",children:["M","T","W","R","F","St","Sn"][a]}),(0,et.jsx)("div",{className:"day-percentage",children:t(e)})]},a)))})]})},ra=e=>{let{tutorialInfo:t}=e;const a=t.message,n=t.icon,r=t.showNext,s=t.showPrev,i=Pt(),l=It().getTutorialManager(),o=r?"Next":"Close";return(0,et.jsxs)("div",{className:"notebook-tutorial-container",children:[(0,et.jsxs)("div",{className:"notebook-tutorial-contents left",children:[(0,et.jsx)("div",{className:"tutorial-title-container",children:(0,et.jsx)("div",{className:"tutorial-title",children:t.title})}),(0,et.jsx)("div",{className:"notebook-icon-container",children:(0,et.jsx)(at,{imageId:n})}),(0,et.jsx)("div",{className:"pill-button remove",children:(0,et.jsx)("div",{className:"pill-button-disable",onClick:()=>(i.closeTutorial(),void l.disableTutorial()),children:"DISABLE TUTORIAL"})})]}),(0,et.jsxs)("div",{className:"notebook-tutorial-contents right",children:[(0,et.jsx)("div",{className:"tutorial-message-container",children:(0,et.jsx)("div",{className:"tutorial-message",dangerouslySetInnerHTML:{__html:a}})}),(0,et.jsxs)("div",{className:"notebook-tutorial-buttons",children:[void 0!==s&&s>=0&&(0,et.jsx)("div",{className:"nav-button prev",onClick:()=>{void 0!==s&&s>=0&&i.showTutorialPage(s)},children:"Previous"}),(0,et.jsx)("div",{className:"nav-button next",onClick:()=>{void 0!==r&&r>=0?i.showTutorialPage(r):i.closeTutorial()},children:o})]})]})]})},sa=e=>{let{notebookPages:t,singleColumn:a,pageIndex:r}=e;const s=Pt(),[i,l]=n.useState(r||0),o=()=>{s.closeNotebook()};(0,n.useEffect)((()=>{l(r||0)}),[r]);const c=t[i],u=()=>{l(0),s.removePlayer(c.content.player)},b=t.map(((e,t)=>(0,et.jsx)("div",{className:`notebook-tab ${e.category} ${t===i?"current":""}`,onClick:()=>l(t),children:(0,et.jsx)("div",{className:"notebook-tab-title",children:e.title})},t)));return c?(0,et.jsxs)("div",{className:`notebook-modal ${a?"single-column":""} ${c.category===f?"tutorial":""}`,onClick:o,children:[(0,et.jsx)("div",{className:"notebook-content o1",children:(0,et.jsx)("div",{className:"notebook-header"})}),(0,et.jsxs)("div",{className:"notebook-content o2",onClick:e=>e.stopPropagation(),children:[(0,et.jsx)("div",{className:"notebook-tabs",children:b}),(0,et.jsx)("div",{className:"notebook-header"})]}),(0,et.jsx)("div",{className:"notebook-content o3",children:(0,et.jsx)("div",{className:"notebook-header"})}),c.category===f?(0,et.jsx)(ra,{tutorialInfo:c.content}):(0,et.jsxs)("div",{className:"notebook-content",onClick:e=>e.stopPropagation(),children:[c?c.category===d||c.category===h?(0,et.jsxs)("div",{className:`notebook-header ${c.category} `,children:[(0,et.jsx)("button",{className:"pill-button",onClick:o,children:"X"}),(0,et.jsx)("div",{className:"notebook-header-title",children:c.category.toUpperCase()}),(0,et.jsxs)("div",{className:"title-bar",children:[(0,et.jsx)("div",{className:"title-text",children:c.title}),(0,et.jsx)("div",{className:"features-text",children:"FEATURES"})]})]}):c.category===g?(0,et.jsxs)("div",{className:"notebook-header player ",children:[a?(0,et.jsx)("button",{className:"pill-button remove",onClick:u,children:"REMOVE"}):(0,et.jsx)("button",{className:"pill-button",onClick:o,children:"X"}),(0,et.jsx)("div",{className:"notebook-header-title",children:c.category.toUpperCase()}),(0,et.jsxs)("div",{className:"notebook-header-container",children:[(0,et.jsx)("div",{className:"title-text",children:c.title}),(0,et.jsxs)("div",{className:"player-preferences-container",children:[(0,et.jsx)("div",{className:"title-text player-preferences likes small",children:"Likes"}),(0,et.jsx)("div",{className:"title-text player-preferences hates small",children:"Hates"})]})]})]}):c.category===m?(0,et.jsxs)("div",{className:"notebook-header character ",children:[(0,et.jsx)("button",{className:"pill-button",onClick:o,children:"X"}),(0,et.jsx)("div",{className:"notebook-header-title",children:c.category.toUpperCase()}),(0,et.jsx)("div",{className:"notebook-header-container",children:(0,et.jsx)("div",{className:"title-text",children:c.title})})]}):c.category===y||c.category===m?(0,et.jsxs)("div",{className:`notebook-header player ${c.category}  `,children:[(0,et.jsx)("div",{className:"notebook-header-title",children:c.category.toUpperCase()}),(0,et.jsx)("div",{className:"notebook-header-container"})]}):(0,et.jsxs)("div",{className:`notebook-header  ${c.category} `,children:[(0,et.jsx)("button",{className:"pill-button",onClick:o,children:"X"}),(0,et.jsx)("div",{className:"title-bar",children:(0,et.jsx)("div",{className:"title-text",children:c.title})})]}):(0,et.jsx)("div",{className:"notebook-header "}),(0,et.jsx)("div",{className:"notebook-body",children:(()=>{if(!c)return(0,et.jsx)("div",{className:"notebook-body"});switch(c.category){case d:return(0,et.jsx)(Jt,{encounterInfo:c.content});case m:return(0,et.jsx)($t,{characterInfo:c.content});case h:return(0,et.jsx)(ea,{locationInfo:c.content});case g:return(0,et.jsx)(ta,{playerInfo:c.content,singleColumn:a});case p:return(0,et.jsx)("div",{className:"notebook-category-message",children:(0,et.jsx)("div",{className:"notebook-message-text",children:c.content.message})});case v:return(0,et.jsx)("div",{});case y:return(0,et.jsx)(aa,{groupInfo:c.content});case f:return(0,et.jsx)(ra,{tutorialInfo:c.content})}})()})]}),a&&(0,et.jsx)("div",{className:"group-schedule-holder",children:(0,et.jsx)(na,{})})]}):(0,et.jsx)("div",{className:"notebook-modal"})},ia=e=>{let{buttonList:t,highlight:a}=e;const n=It(),r=e=>{switch(e){case E:n.state=_t.PLAYER_RECRUITMENT;break;case x:n.state=_t.CHARACTER_CREATION;break;case b:n.state=_t.CAMPAIGN_SETUP;break;default:console.log("No entry")}};return(0,et.jsx)("div",{className:"nav-bar-container",children:t.map((e=>(e=>{let t=e===a?"highlight":"";switch(e){case E:return(0,et.jsx)("button",{className:`nav-button player ${t}`,onClick:()=>r(e),children:"Player Recruitment"},e);case x:return(0,et.jsx)("button",{className:`nav-button character ${t}`,onClick:()=>r(e),children:"Character Assignment"},e);case b:return(0,et.jsx)("button",{className:`nav-button campaign ${t}`,onClick:()=>r(e),children:"Campaign Select"},e);default:return null}})(e)))})},la=e=>{let{appManager:t,playerManager:a}=e;const[r,s]=(0,n.useState)(a.getSelectedPlayerIds()),[i,l]=(0,n.useState)([]),o=(null===a||void 0===a?void 0:a.getRecruitablePlayers())||[],c=Pt(),u=r.length;a.aggregateSchedule();return(0,n.useEffect)((()=>{a.setSelectedPlayers(r),l((e=>{let t,n="",r=[];t={players:e.map((e=>a.getRecruitablePlayers()[e]))},n="Group Info",t.players.forEach((e=>{r.push({category:g,content:{player:e},title:e.name.split(" ").map((e=>e[0])).join("")})}));return[{category:y,content:t,title:"Group Info"},...r]})(r))}),[a,r]),(0,n.useEffect)((()=>{const e=e=>{s((t=>{const n=Array.from(t),r=n.indexOf(e.id);return r>-1&&n.splice(r,1),a.setSelectedPlayers(n),n}))};return c.on("removePlayer",e),()=>{c.off("removePlayer",e)}}),[]),(0,et.jsxs)("div",{className:"player-recruitment-mode",children:[(0,et.jsxs)("div",{className:"player-status-container",children:[(0,et.jsx)("div",{className:"player-recruitment-left-container",children:(0,et.jsx)(sa,{notebookPages:i,singleColumn:!0})}),(0,et.jsx)(ia,{buttonList:[b,x],highlight:x})]}),(0,et.jsxs)("div",{className:"player-grid-container",children:[(0,et.jsx)("div",{className:"player-recruitment-status",children:0===u?"Select players to recruit":'Click "Accept Group" to continue'}),(0,et.jsx)("div",{className:"player-grid",children:o.map((e=>(0,et.jsx)(qt,{player:e,isSelected:r.includes(e.id),onSelect:()=>{return t=e.id,s((e=>{const n=Array.from(e),r=n.indexOf(t);return r>-1?n.splice(r,1):n.push(t),a.setSelectedPlayers(n),n})),void a.getRecruitablePlayers()[t];var t},showSchedule:!0,showPreferences:!0},e.id)))})]})]})},oa=e=>{let{}=e;const t=Rt(),a=wt(),[r,s]=(It(),(0,n.useState)(null)),[i,l]=(0,n.useState)(t.getPlayers()),[o,c]=(0,n.useState)(a.getCharacterReferences()),[u,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{!r&&i.length&&s(i[0])}),[i]);const h=()=>{d(!u)},m=e=>i.some((t=>t.id!==(null===r||void 0===r?void 0:r.id)&&t.characters.includes(e)));return(0,et.jsxs)("div",{className:"character-creation-container",children:[(0,et.jsxs)("div",{className:"character-creation-left-container",children:[(0,et.jsx)(ia,{buttonList:[E,b],highlight:b}),(0,et.jsx)("div",{className:"player-list-container",children:(0,et.jsx)("div",{className:"player-list",children:i.map((e=>(0,et.jsx)(qt,{player:e,isSelected:(null===r||void 0===r?void 0:r.id)===e.id,onSelect:()=>(e=>{s(e)})(e),showSchedule:!1,showCharacters:!0,parentUpdate:h},e.id)))})})]}),(0,et.jsx)("div",{className:"character-creation-right-container",children:(0,et.jsx)("div",{className:"character-grid",children:o.map((e=>{var a;return(0,et.jsx)(Kt,{character:e,isSelected:null!==(a=null===r||void 0===r?void 0:r.characters.includes(e.id))&&void 0!==a&&a,onSelect:()=>(e=>{m(e.id)||r&&(r.characters.includes(e.id)?t.removeCharacterFromPlayer(r,e.id):r.characters.length<4&&t.assignCharactersToPlayer(r,[e.id]),l([...t.getPlayers()]))})(e),showAbilities:!0,isAssigned:null===r||void 0===r?void 0:r.characters.includes(e.id),isAssignedToOther:m(e.id)},e.id)}))})})]})},ca=e=>{let{encounter:t}=e;const a=Pt();return(0,et.jsxs)("div",{className:`encounter-display ${t.location.themes[0]}`,onClick:()=>{a.showBasicNotebook(d,t)},children:[(0,et.jsx)("div",{className:"encounter-name",children:t.name}),(0,et.jsx)("div",{className:"encounter-event-icons",children:t.events.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-event-icon",children:(0,et.jsx)(at,{imageId:a.getEventIcon(e.type)})},t)))})]})},ua=e=>{let{processedEncounters:t}=e;return t?(0,et.jsx)("div",{className:"campaign-display-body",children:t.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-row",children:e.map(((e,t)=>(0,et.jsx)(ca,{encounter:e},t)))},t)))}):(0,et.jsx)("div",{children:"No encounters!"})},da=e=>{let{campaign:t}=e;return(0,et.jsxs)("div",{className:"campaign-display-header",children:[(0,et.jsx)("div",{className:"campaign-icon",children:(0,et.jsx)(at,{imageId:t.icon})}),(0,et.jsxs)("div",{className:"campaign-info",children:[(0,et.jsx)("div",{className:"campaign-name",children:(0,et.jsx)("strong",{children:t.name})}),(0,et.jsx)("div",{className:"campaign-description",children:t.description})]}),(0,et.jsxs)("div",{className:"campaign-extra",children:[(0,et.jsxs)("div",{children:[t.nbCharacters[0]," - ",t.nbCharacters[1]," characters"]}),(0,et.jsxs)("div",{children:[t.nbSessions[0]," - ",t.nbSessions[1]," sessions"]})]})]})},ha=e=>{let{campaign:t,onSelect:a,collapsed:n,iconOnly:r,onAccept:s,onCancel:i,acceptText:l="ACCEPT"}=e;return(0,et.jsx)(et.Fragment,{children:r?(0,et.jsxs)("div",{className:`campaign-display ${t.theme||""} icon-only`,onClick:a,children:[(0,et.jsx)("div",{className:"campaign-name",children:t.name}),(0,et.jsx)("div",{className:"campaign-icon solo",children:(0,et.jsx)(at,{imageId:t.icon})})]}):n?(0,et.jsx)("div",{className:`campaign-display ${t.theme||""} collapsed pill-shaped`,onClick:a,children:(0,et.jsx)(da,{campaign:t})}):(0,et.jsxs)("div",{className:`campaign-display ${t.theme||""} full`,children:[(0,et.jsx)(da,{campaign:t}),(0,et.jsx)(ua,{processedEncounters:t.processedEncounters}),(0,et.jsx)("div",{className:"campaign-display-footer",children:(0,et.jsxs)("div",{className:"ui-actions",children:[(0,et.jsx)("button",{className:"campaign-button cancel "+(i?"":" hidden"),onClick:i,children:"Cancel"}),(0,et.jsx)("button",{className:"campaign-button accept",onClick:s,children:l})]})})]})})},ma=e=>{let{openCampaign:t}=e;const a=Rt(),r=It(),s=Ot(),[i]=(0,n.useState)(s.getAvailableCampaigns()),[l,o]=(0,n.useState)(t),[c]=(0,n.useState)(a.getPlayers());return(0,n.useEffect)((()=>{}),[l]),(0,et.jsxs)("div",{className:"campaign-setup-container",children:[(0,et.jsxs)("div",{className:"player-list-container",children:[(0,et.jsx)(ia,{buttonList:[E,x]}),(0,et.jsx)("div",{className:"player-list",children:c.map((e=>(0,et.jsx)(qt,{player:e,isSelected:!1,onSelect:()=>{},showCharacters:!0,showSchedule:!1},e.id)))})]}),(0,et.jsx)("div",{className:"campaign-display-container",children:(0,et.jsx)("div",{className:"campaign-list-container",children:(0,et.jsx)("div",{className:"campaign-list",children:i.map(((e,t)=>(0,et.jsx)(ha,{collapsed:l!==t,campaign:e,onSelect:()=>(e=>{o(e)})(t),onAccept:()=>{return e=t,s.startCampaign(e),void(a.readyForGame()&&(r.state=_t.SESSION));var e},onCancel:()=>{o(void 0)}},t)))})})})]})},ga={RACE:{HUMANS:{name:"humans",preference:i.MAIN,friendly:!0},ELVES:{name:"elves",preference:i.MAIN,friendly:!0},DWARVES:{name:"dwarves",preference:i.MAIN,friendly:!0},ORCS:{name:"orcs",preference:i.MAIN,friendly:!0},HALFLINGS:{name:"halflings",preference:i.MAIN,friendly:!0},HALF_ORCS:{name:"half-orcs",preference:i.MAIN,friendly:!0},HALF_ELVES:{name:"half-elves",preference:i.MAIN,friendly:!0}},MONSTERS:{GOBLINS:{name:"goblins",enemy:!0},GNOMES:{name:"gnomes",enemy:!0},DRAGONS:{name:"dragons",enemy:!0},UNDEAD:{name:"undead",preference:i.MAIN,enemy:!0},BEASTS:{name:"beasts",enemy:!0},CULTISTS:{name:"cultists",enemy:!0},BANDITS:{name:"bandits",enemy:!0},MONSTERS:{name:"monsters",enemy:!0}},GAME:{EXPOSITION:{name:"exposition"},FIGHTING:{name:"fighting",preference:i.MAIN},PUZZLES:{name:"puzzles",preference:i.MAIN},SOCIALIZING:{name:"socializing"},STRATEGY:{name:"strategy"},TOWN:{name:"town",preference:i.START},EXPLORATION:{name:"exploration"},TREASURE_HUNTING:{name:"treasure hunting"},POLITICS:{name:"politics"},SCARY:{name:"scary"},MAGIC:{name:"magic",preference:i.START},TECHNOLOGY:{name:"technology"},RELIGION:{name:"religion"},ECONOMICS:{name:"economics"},CRAFTING:{name:"crafting"},TRADING:{name:"trading"},FARMING:{name:"farming"},TRAVEL:{name:"travel",preference:i.START},BORING_THINGS:{name:"boring things"},GOSSIP:{name:"gossip"}},TREASURE:{TREASURE:{name:"treasure"},WEAPONS:{name:"weapons"},ARMOR:{name:"armor"},KNOWLEDGE:{name:"knowledge"},SPELLS:{name:"spells"},GLORY:{name:"glory"},GOLD:{name:"gold"}},LOCATION:{DUNGEON:{name:"dungeons"},CITIES:{name:"cities"},WILDERNESS:{name:"the wilderness"},UNDERGROUND:{name:"underground",preference:i.START},MOUNTAINS:{name:"mountains"},FORESTS:{name:"forests",preference:i.START},DESERTS:{name:"deserts"},SWAMPS:{name:"swamps"},OCEANS:{name:"oceans"},ISLANDS:{name:"islands"},VILLAGES:{name:"villages"},RUINS:{name:"ruins",preference:i.START},CASTLES:{name:"castles",preference:i.START},CAVE:{name:"caves",preference:i.START},PLAINS:{name:"plains"},TAVERNS:{name:"taverns"},SHIPS:{name:"ships"},ROADS:{name:"roads"},BEACHES:{name:"beaches"},BRIDGES:{name:"bridges"}},PROPS:{FURNITURE:{name:"furniture",attributeDefault:"furniture"},BARRELS:{name:"barrels",attributeDefault:"furniture"},BOOKS:{name:"books",attributeDefault:"furniture"},CANDLES:{name:"candles",attributeDefault:"furniture"},FOOD:{name:"food",attributeDefault:"food"},DRINKS:{name:"drinks",attributeDefault:"food"},BEER:{name:"beer",attributeDefault:"food"}},EVENTS:{FESTIVALS:{name:"festivals"},BATTLES:{name:"battles"},TOURNAMENTS:{name:"tournaments"},QUESTS:{name:"quests",preference:i.START},MYSTERIES:{name:"mysteries"},DISASTERS:{name:"disasters"},CELEBRATIONS:{name:"celebrations"},RITUALS:{name:"rituals"},NOBILITY:{name:"nobility"}},ELEMENTS:{FIRE:{name:"fire"},DARKNESS:{name:"darkness"},WATER:{name:"water"},FOLIAGE:{name:"foliage"}}},pa="town",fa="tavern",va="building",ya="dungeon",ba="water",Ea="forest",xa="mountain",Na={COMBAT:{name:"Combat",type:lt.COMBAT},ROLEPLAY:{name:"Roleplay",type:lt.ROLEPLAY},EXPLORATION:{name:"Exploration",type:lt.EXPLORATION},PUZZLE:{name:"Puzzle",type:lt.PUZZLE},PERCEPTION:{name:"Perception Check",type:lt.PERCEPTION},TOWN:{name:"Town",type:lt.TOWN},TRAVEL:{name:"Travel",type:lt.TRAVEL},CHALLENGE:{name:"Challenge",type:lt.CHALLENGE},TRAP:{name:"Trap",type:lt.TRAP},CHARACTER_BACKSTORY:{name:"Character Backstory",type:lt.CHARACTER_BACKSTORY},STORY:{name:"Story",type:lt.STORY}},Sa={BREWER_KEVIN:{name:"Kevin the Brewer"},KIDNAPPING:{name:"Kidnapping"},OLD_LAKE:{name:"Old Lake"},CULT_LEADER:{name:"Cult Leader"}},Ca={SAGEWOOD_TAVERN:{name:"Sagewood Tavern",description:"A cozy tavern in the heart of Sagewood. Two halfling barmids serve drinks to a variety of customers. Locals gossip and are usually up for a friendly game of dice or a dance with outsiders. A fire crackles on the hearth.",icon:"cd_l_sagewoodtavern",tags:[ga.PROPS.BARRELS,ga.ELEMENTS.FIRE,ga.RACE.HUMANS,ga.RACE.HALFLINGS,ga.PROPS.DRINKS],themes:[pa,fa]},UNDER_THE_WELL:{name:"Under the Well",description:"A huge underground cavern with a deep pool in the center. The opening to the town well looms above.",icon:"cd_l_underthewell",tags:[ga.LOCATION.DUNGEON,ga.GAME.SCARY],themes:[ya,ba]},LAKESIDE_BREWERY:{name:"Lakeside Brewery",description:"A small brewery on the edge of the lake. Something sinister has happened here.",icon:"cd_l_lakesidebrewery",tags:[ga.LOCATION.TAVERNS],themes:[va,fa]},LAKESIDE:{name:"Lakeside",description:"A forested area along a quiet lake. The water is dark and still.",icon:"cd_l_lakeside",tags:[ga.LOCATION.WILDERNESS,ga.ELEMENTS.WATER,ga.ELEMENTS.FOLIAGE],themes:[Ea]},LAKESIDE_CLIFFS:{name:"Lakeside Cliffs",description:"A series of cliffs overlooking the lake. Signs of Goblins are about.",icon:"cd_l_lakesidecliffs",tags:[ga.LOCATION.CAVE,ga.MONSTERS.GOBLINS,ga.ELEMENTS.WATER,ga.ELEMENTS.FOLIAGE],themes:[xa,Ea]}},Ta={SAGEWOOD:{id:1,name:"Cultist Conspiracy",description:"The party arrives at a tavern on the ouskirts of Sagewood just as the sun sets. They each have their own reasons for being there, but for this evening they all have one thing in common... they are the only strangers in the tavern. Some locals seem friendly, while others gather in small clusters around the smoky common room and glare at the party. The barmaids offer the party drinks and food. The party may overhear gossip about Kevin the Brewer, or notice strange tattoos on some of the locals. They may uncover clues to a mysterious goblin treasure by the old lake, or discover that several townspeople have gone missing recently. The party may take part in a dance competition with the locals if they like. A group of the locals with odd tattoos will use any excuse to start a fight with the party. ",icon:"cd_e_sagewoodtavern",location:Ca.SAGEWOOD_TAVERN,tags:[ga.EVENTS.MYSTERIES,ga.MONSTERS.CULTISTS,Sa.BREWER_KEVIN,Sa.KIDNAPPING],branches:[],events:[{name:"Gossip and Rumors",type:lt.ROLEPLAY,flavorText:"The party chats with locals in the tavern. They may hear interesting rumors."},{name:"Dance Competition",type:lt.CHALLENGE,flavorText:"The party is challenged to a danceoff. Maybe they'll notice something strange about the locals...",tags:[ga.RACE.HALFLINGS,ga.RACE.HUMANS]},{name:"Tavern Brawl",type:lt.COMBAT,flavorText:"The party is ambushed in the tavern."},Na.PERCEPTION,{name:"Sagewood",type:lt.TOWN,flavorText:"Shop, rest, and gather information in the town of Sagewood."}],combat:[{name:"Bar Brawl",description:"Things get out of hand in the Sagewood Tavern.",enemy:ga.MONSTERS.CULTISTS,nbEnemies:2}],challenge:[{name:"Dance-off in the Tavern",description:"The party is challenged to a dance-off by some of the locals. The winner gets a free drink."}]},UNDER_THE_WELL:{id:2,name:"Fishy Finale!",description:"The heroes stumble into the Cultists Lair. They were set up under the old well in the center of town all along. Their fish-based magic will be put to the test during this long combat-based finale!.",icon:"cd_e_underthewell",location:Ca.UNDER_THE_WELL,tags:[ga.GAME.FIGHTING,ga.GAME.SCARY,ga.MONSTERS.CULTISTS,ga.MONSTERS.MONSTERS],branches:[],events:[]},BREWERY_FIGHT:{id:3,name:"Brewery Battle",description:"The party investigates a local brewery. The Brewer, Kevin, hasn't been seen in town recently and barrel deliveries to the local tavern have been ...off. The party may be aware of a cult hiding in the brewery, so be sure to adjust the difficulty if the party takes the time to examine thier surroundings to see how best to approach. In any case, the Cult Leaders will attack when they notice the party. While in the brewery, characters may notice a tunnel leading underground towards the old lake and they might even discover signs that indicate some of the kidnapped townspeople had been taken that direction. ",icon:"cd_e_breweryfight",location:Ca.LAKESIDE_BREWERY,tags:[ga.GAME.FIGHTING,Sa.CULT_LEADER,ga.PROPS.BEER],branches:[],events:[]},BREWERY_EXPLORATION:{id:4,name:"Brewery Exploration",description:"The party investigates the Lakeside Brewery and finds evidence of the cult\u2019s activities.",icon:"cd_e_breweryexploration",location:Ca.LAKESIDE_BREWERY,tags:[ga.GAME.EXPLORATION,ga.EVENTS.MYSTERIES],branches:[],events:[]},BY_THE_LAKE:{id:5,name:"By the Lake",description:"The party discovers signs of goblins by the lake.",icon:"cd_e_bythelake",location:Ca.LAKESIDE,tags:[ga.TREASURE.TREASURE,ga.MONSTERS.GOBLINS,ga.GAME.RELIGION],branches:[],events:[{name:"Explore the Forest",type:lt.PERCEPTION,flavorText:"The party checks in the forest near the lake..."},{name:"Explore the Lakeshore",type:lt.PERCEPTION,flavorText:"The party checks the lakeshore..."},{name:"What's in that tree?!",type:lt.CHALLENGE,flavorText:"A creepy totem hangs in a clearing. The players attempt to cut it down."},{name:"Now where is that treasure?!",type:lt.CHALLENGE,flavorText:"The party search for the hidden treasure."},{name:"Goblin Ambush",type:lt.COMBAT,flavorText:"Goblins rush from the forest and attack!"}],combat:[{name:"Goblin Ambush",description:"Goblins rush from the trees!",enemy:ga.MONSTERS.GOBLINS,nbEnemies:2}],challenge:[{name:"Cut down creepy totem",description:"An ominous, and magial feeling eminates from a totem hanging from a tree. It will take some thought and some care to cut it down."}]},LAKESIDE_CLIFFS:{id:6,name:"Cliff Catastrophe",description:"The party encounters a crazy goblin shaman in the Lakeside Cliffs.",icon:"cd_e_lakesidecliffs",location:Ca.LAKESIDE_CLIFFS,tags:[ga.GAME.FIGHTING,ga.MONSTERS.GOBLINS],branches:[],events:[]}};Ta.SAGEWOOD.branches.push(Ta.BREWERY_FIGHT),Ta.SAGEWOOD.branches.push(Ta.BY_THE_LAKE),Ta.BREWERY_FIGHT.branches.push(Ta.BREWERY_EXPLORATION),Ta.BREWERY_FIGHT.branches.push(Ta.BY_THE_LAKE),Ta.BY_THE_LAKE.branches.push(Ta.LAKESIDE_CLIFFS),Ta.LAKESIDE_CLIFFS.branches.push(Ta.UNDER_THE_WELL);const Aa=[[Ta.SAGEWOOD],[Ta.BREWERY_FIGHT,Ta.BY_THE_LAKE],[Ta.BREWERY_EXPLORATION,Ta.LAKESIDE_CLIFFS],[Ta.UNDER_THE_WELL]],ka={name:"Cult of the Deep",id:0,description:"Townsfolk are acting strange. Something is moving in the lake. The Cult of the Deep is rising.",icon:"cult_of_the_deep_1",startingEncounter:Ta.SAGEWOOD,finaleEncounter:Ta.UNDER_THE_WELL,theme:"dark",nbCharacters:[4,8],nbSessions:[2,3],encounters:Object.values(Ta),processedEncounters:Aa,plotHooks:["The party finds fish 1","The party figures out the cultists and goblins are connected","The party discovers the cultists are kidnapping people","The party learns of a crab-monster eating people"],tooltipTags:{[Ta.SAGEWOOD.name]:{[ga.MONSTERS.CULTISTS.name]:"mention the group of weirdos in the corner",[ga.EVENTS.MYSTERIES.name]:"hint at an overheard secret",[ga.MONSTERS.GOBLINS.name]:"mention goblins by the lake",[Sa.BREWER_KEVIN.name]:"there's a rumor about Kevin",[Sa.KIDNAPPING.name]:"someone mentions a recent kidnapping",[ga.PROPS.DRINKS.name]:"describe the beer",[Sa.OLD_LAKE.name]:"A rumor about a nearby lake",[ga.ELEMENTS.FIRE.name]:"The fireplace comes up",[ga.PROPS.BARRELS.name]:"a player notices an ale barrel",[ga.RACE.HALFLINGS.name]:"mention the halfling barmaids",[ga.RACE.HUMANS.name]:"describe the human patrons",[ga.PROPS.BEER.name]:"converse about beer",[ga.TREASURE.TREASURE.name]:"mention the treasure",[ga.GAME.RELIGION.name]:"mention the goblins religion",[ga.GAME.FIGHTING.name]:"make sure they realize there will be combat at the brewery"}},chatTriggers:{[Ta.SAGEWOOD.name]:{[ga.MONSTERS.CULTISTS.name]:{message:"You notice a group of patrons with a strange octopus tattoo. They seem to be eyeing you suspiciously.",speaker:{type:N.DM,id:0}},[ga.EVENTS.MYSTERIES.name]:{message:"You overhear someone speak about a goblin treasure. Someone else interrupts and claims that they saw a goblin camp near the old lake.",speaker:{type:N.DM,id:0}},[ga.MONSTERS.GOBLINS.name]:{message:"A table of townspeople loudly argue at a nearby table. They seem to be discussing goblins, but quiet down when they notice you listening.",speaker:{type:N.DM,id:0}},[Sa.BREWER_KEVIN.name]:{message:"The bartender mentions that Kevin the Brewer hasn't been seen in days and that strange people have been delivering the beer.",speaker:{type:N.DM,id:0}},[Sa.KIDNAPPING.name]:{message:"While stepping outside for some fresh air a man tells you to be careful. He goes on to explain that several people have gone missing recently.",speaker:{type:N.DM,id:0}},[ga.PROPS.DRINKS.name]:{message:"The beer is supposed to be the best in the region, but it tastes awful. When you ask the barmaid about it she says you should complain to Kevin at the Brewery",speaker:{type:N.DM,id:0}},[Sa.OLD_LAKE.name]:{message:"A young couple sits at the bar, they are trying to find a place to picnic but they indicate that the old lake is now teeming with goblins.",speaker:{type:N.DM,id:0}},[ga.PROPS.BARRELS.name]:{message:"Hey look at this ale-barrel! It's got an octopus symbol on it. Octobrew..?",speaker:{type:N.CHARACTER,id:1}},[ga.ELEMENTS.FIRE.name]:{message:"I walk to the fire and warm my frigid digits. Fridgits.",speaker:{type:N.CHARACTER,id:0}},[ga.RACE.HALFLINGS.name]:{message:"I want to chat with the halfling barmaids. See if they know what's good to eat here.",speaker:{type:N.CHARACTER,id:2}},[ga.RACE.HUMANS.name]:{message:"Most of the locals are humans. Some seem friendly but others are clearly hostile.",speaker:{type:N.DM,id:0}},[ga.PROPS.BEER.name]:{message:"Some of the locals say that if you want decent beer you should go to the brewery by the lake.",speaker:{type:N.DM,id:0}},[ga.TREASURE.TREASURE.name]:{message:"The bartender says some adventurers came through recently and said he overheard them talking about a treasure they had buried out by the old lake.",speaker:{type:N.DM,id:0}},[ga.GAME.RELIGION.name]:{message:"The party asks a priest at the bar about the local religious customs. He describes normal enough things, but says a goblin religion seems to have become popular in town...something about a strange fish god.",speaker:{type:N.DM,id:0}},[ga.GAME.FIGHTING.name]:{message:'Hey guys, I can see the DM notes that say "Brewery Battle". I think we can expect combat if we go there...I\'m just getting that vibe.',speaker:{type:N.PLAYER,id:0}}}}},Ma={OLD_MILL:{name:"The Old Mill",description:"An old family-owned mill on the edge of town.",icon:"mm_l_oldMill",tags:[ga.LOCATION.STARTING_LOCATION,ga.GAME.TOWN],themes:[pa]},QUARRY:{name:"The Quarry",description:"A large quarry where stone is mined.",icon:"mm_l_quarry",tags:[ga.LOCATION.WILDERNESS],themes:[xa]},ROAD:{name:"Road",description:"A long wide road",icon:"mm_l_road",tags:[ga.LOCATION.ROAD,ga.GAME.TRAVEL],themes:[pa]},UNDER_THE_MOUNTAIN:{name:"Under the Mountain",description:"A hidden entrance leads into the gnomish mines.",icon:"mm_l_entrance",tags:[ga.LOCATION.CAVE],themes:[xa]},TUNNELS:{name:"Gnome Tunnels",description:"Cramped tunnels deep underground.",icon:"mm_l_tunnel",tags:[ga.LOCATION.CAVE,ga.GAME.TRAVEL],themes:[xa]},BRIDGE:{name:"The Old Bridge",description:"A rickety old bridge over a deep chasm.",icon:"mm_l_bridge",tags:[ga.LOCATION.WILDERNESS],themes:[Ea]},BEACH:{name:"The Beach",description:"A long stretch of beach.",icon:"mm_l_beach",tags:[ga.LOCATION.BEACH,ga.GAME.TRAVEL],themes:[ba]},TOWNVILLE:{name:"TOWNVILLE",description:"A mid-sized village.",icon:"mm_l_townville",tags:[ga.GAME.TOWN,ga.LOCATION.STARTING_LOCATION,ga.LOCATION.FINALE_LOCATION,ga.RACE.HUMANS],themes:[pa]}},ja={INTRO_IN_TOWN:{id:0,name:"Intro in Townville",description:"It's a peaceful day in Townville. The Heroes can spend some time buying Gear or Roleplaying. Suddenly the alarm sounds! The Miller has run all the way from the old mill shouting about thieves!",icon:"mm_e_townville",location:Ma.TOWNVILLE,tags:[ga.RACE.HUMANS,ga.EVENTS.MYSTERIES,ga.GAME.SOCIAL],branches:[],events:[]},INTRO_AT_MILL:{id:1,name:"Missing Millstone",description:"The Millstone is missing. The Miller hires the Heroes to travel to the old quarry and transport a new one. There are also some clues around the Old Mill which may reveal more about what happened. This could be the sarting Encounter if you want to shorten the campaign, or to avoid Town.",icon:"mm_e_millstone",location:Ma.OLD_MILL,tags:[ga.RACE.HUMANS,ga.EVENTS.MYSTERIES,ga.GAME.SOCIAL],branches:[],events:[]},ROAD_TO_QUARRY:{id:2,name:"Road to Quarry",description:"A long boring trek to the Quarry.",icon:"mm_e_road",location:Ma.ROAD,tags:[ga.GAME.TRAVEL,ga.GAME.BORING],branches:[],events:[]},QUARRY_INVESTIGATION:{id:2,name:"Quarry",description:"A large quarry where stone is mined. The millstone might be here.",icon:"mm_e_quarry",location:Ma.QUARRY,tags:[ga.RACE.HUMANS,ga.GAME.SOCIAL,ga.MONSTERS.GNOMES],branches:[],events:[]},MOUNTAIN_ENTRANCE:{id:3,name:"Cave Entrance",description:"A hidden entrance in the wall of the quarry leads into the gnomish mines.",icon:"mm_e_cave",location:Ma.UNDER_THE_MOUNTAIN,tags:[ga.MONSTERS.GNOMES,ga.GAME.COMBAT,ga.GAME.EXPLORATION],branches:[],events:[]},EXPLORING_THE_TUNNELS:{id:4,name:"Gnomish Tunnel Exploration",description:"Tunnels leading to the South. Towards townville?",icon:"mm_e_tunnels",tags:[ga.MONSTERS.GNOMES,ga.GAME.TRAVEL],location:Ma.TUNNELS,branches:[],events:[]},BANDITS_ON_THE_BRIDGE:{id:5,name:"Bridge Bandits",description:"Bandits guard the far end. They demand payment!",icon:"mm_e_bandits",tags:[ga.RACE.HUMANS,ga.GAME.COMBAT,ga.GAME.ROLEPLAY],location:Ma.BRIDGE,branches:[],events:[]},BEACH_TRAVEL:{id:6,name:"Beach Travel",description:"Traveling along the beach",icon:"mm_e_beach",tags:[ga.GAME.TRAVEL],location:Ma.BEACH,branches:[],events:[]},EXPLORE_SHIPWRECK:{id:7,name:"SHIPWRECK",description:"A ship. Has wrecked! Someone is looting it!",icon:"mm_e_shipwreck",tags:[ga.RACE.HUMANS,ga.GAME.COMBAT,ga.GAME.EXPLORATION],location:Ma.BEACH,branches:[],events:[]},TOWNVILLE_FIRE:{id:8,name:"Townville Fire",description:"The town of townville is on fire!",icon:"mm_e_fire",tags:[ga.RACE.HUMANS,ga.EVENTS.DISASTERS,ga.ELEMENTS.FIRE],location:Ma.TOWNVILLE,branches:[],events:[]}};ja.INTRO_IN_TOWN.branches.push(ja.INTRO_AT_MILL),ja.INTRO_AT_MILL.branches.push(ja.ROAD_TO_QUARRY),ja.ROAD_TO_QUARRY.branches.push(ja.QUARRY_INVESTIGATION),ja.QUARRY_INVESTIGATION.branches.push(ja.MOUNTAIN_ENTRANCE),ja.QUARRY_INVESTIGATION.branches.push(ja.BEACH_TRAVEL),ja.QUARRY_INVESTIGATION.branches.push(ja.BANDITS_ON_THE_BRIDGE),ja.MOUNTAIN_ENTRANCE.branches.push(ja.EXPLORING_THE_TUNNELS),ja.EXPLORING_THE_TUNNELS.branches.push(ja.TOWNVILLE_FIRE),ja.BEACH_TRAVEL.branches.push(ja.EXPLORE_SHIPWRECK),ja.EXPLORE_SHIPWRECK.branches.push(ja.TOWNVILLE_FIRE),ja.BANDITS_ON_THE_BRIDGE.branches.push(ja.TOWNVILLE_FIRE);const wa=[[ja.INTRO_IN_TOWN],[ja.INTRO_AT_MILL],[ja.ROAD_TO_QUARRY],[ja.QUARRY_INVESTIGATION],[ja.MOUNTAIN_ENTRANCE,ja.BEACH_TRAVEL,ja.BANDITS_ON_THE_BRIDGE],[ja.EXPLORING_THE_TUNNELS,ja.EXPLORE_SHIPWRECK],[ja.TOWNVILLE_FIRE]],Ra=[ka,{name:"Millstone Mystery",id:0,description:"The Millstone has mysteriously gone missing! While investigating what happened, the heroes may be delving into gnomish caves, or fighting scavengers along the beach.",icon:"millstone_mystery_1",theme:"adventure",nbCharacters:[2,4],nbSessions:[4,6],startingEncounter:ja.INTRO_IN_TOWN,finaleEncounter:ja.TOWNVILLE_FIRE,encounters:Object.values(ja),processedEncounters:wa}],Ia=()=>{const e=Ot(),t=Pt(),[a,r]=(0,n.useState)(e.getCurrentEncounter()),[s,i]=(0,n.useState)(e.getExpectedEncounterTags()),[l,o]=(0,n.useState)(e.getResolvedTagsForBranch()),[c,u]=(0,n.useState)(e.getWeightedLocationTagsEstablished()),[h,m]=(0,n.useState)(e.getEncounterLocationTags()),[g,p]=(0,n.useState)(e.getCompletedEvents()),[f,v]=(0,n.useState)(!1),[y,b]=(0,n.useState)(e.canTakeBreak()),E=(0,n.useMemo)((()=>(null===a||void 0===a?void 0:a.location.tags.sort())||[]),[null===a||void 0===a?void 0:a.location.tags]);(0,n.useEffect)((()=>{const t=()=>{p(e.getCompletedEvents()),i(e.getExpectedEncounterTags()),o(e.getResolvedTagsForBranch()),m(e.getEncounterLocationTags()),u(e.getWeightedLocationTagsEstablished()),b(e.canTakeBreak()),r(e.getCurrentEncounter())};return e.on("encounterUpdated",t),()=>{e.off("updateEncounterState",t)}}),[a]);const x=(0,n.useMemo)((()=>[...E].sort(((e,t)=>e.name.localeCompare(t.name)))),[E]);if(!a)return(0,et.jsx)("div",{className:"encounter-overview-container",children:"No Encounter"});const N=Array.from(new Set(a.events.map((e=>e.type)))),S=a.location.themes[0],C=(e.getTagsForEncounter(a),e=>{switch(e){case lt.COMBAT:return"Combat";case lt.ROLEPLAY:return"Roleplaying";case lt.PUZZLE:return"Puzzle";case lt.PERCEPTION:return"Perception Check";case lt.TOWN:return"Town Stuff";case lt.TRAVEL:return"Travel";case lt.CHALLENGE:return"Skill Challenge";case lt.TRAP:return"Trap";case lt.CHARACTER_BACKSTORY:return"Backstory";case lt.STORY:return"Story";case lt.EXPLORATION:return"Exploration"}});return(0,et.jsxs)("div",{className:"encounter-overview-container",children:[(0,et.jsx)("div",{className:"encounter-icon-container",children:(0,et.jsx)(at,{imageId:a.icon})}),!f&&(0,et.jsxs)("div",{className:"encounter-overview-nonmodal ",children:[(0,et.jsxs)("div",{className:"encounter-overview-break "+(y?"":" hidden"),onClick:()=>{e.useBreak(),b(!1)},children:[(0,et.jsx)("div",{className:"encounter-overview-break-label",children:"BREAK"}),(0,et.jsx)("div",{className:"encounter-overview-break-effect",children:"Reduce exhaustion, tension, attention"})]}),(0,et.jsx)("div",{className:"session-control-campaign",children:(0,et.jsxs)("div",{className:`campaign-display header ${Ra[e.getCurrentCampaign()||0].theme} icon-only`,onClick:()=>v(!0),children:[(0,et.jsxs)("div",{className:"campaign-info left",children:[(0,et.jsx)("div",{className:"campaign-info",children:Ra[e.getCurrentCampaign()||0].name}),(0,et.jsx)("div",{className:"campaign-info hooks",children:"PLOT HOOKS"}),(0,et.jsx)("div",{className:"circle-display",children:Array.from({length:4},((t,a)=>(0,et.jsx)("div",{className:"circle "+(a<e.getCampaignProgress()?"filled":"")},a+"circle")))})]}),(0,et.jsx)("div",{className:"campaign-icon solo",children:(0,et.jsx)(at,{imageId:Ra[e.getCurrentCampaign()||0].icon})})]})}),(0,et.jsxs)("div",{className:"encounter-overview-contents",children:[(0,et.jsx)("div",{className:"encounter-overview-info-column",children:(0,et.jsxs)("div",{className:"encounter-overview-encounter-info",children:[(0,et.jsxs)("div",{className:"encounter-header",children:[(0,et.jsx)(mt,{callback:()=>t.showBasicNotebook(d,a),classname:"encounter"}),a.name]}),(0,et.jsx)(Qt,{totalSegments:l.length+s.length,filledSegments:l.length,theme:S,label:"encounter elements"}),(0,et.jsxs)("div",{className:"encounter-overview-encounter-info-tags-row",children:[(0,et.jsx)("div",{className:"encounter-overview-encounter-info-tags",children:l.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-location",children:e.name},`established-${t}`)))}),(0,et.jsx)("div",{className:"encounter-overview-encounter-info-tags",children:s.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill",children:e.name},`expected-${t}`)))})]})]})}),(0,et.jsx)("div",{className:"encounter-overview-info-column",children:(0,et.jsxs)("div",{className:"encounter-overview-encounter-info",children:[(0,et.jsxs)("div",{className:"encounter-header",children:[(0,et.jsx)(mt,{callback:()=>t.showBasicNotebook(d,a),classname:"location"}),a.location.name]}),(0,et.jsxs)("div",{className:"encounter-overview-encounter-info",children:[(0,et.jsx)(Qt,{totalSegments:h.length,filledSegments:c,theme:S,label:"LOCATION ELEMENTS"}),(0,et.jsx)("div",{className:"encounter-overview-encounter-info-tags-row",children:(0,et.jsx)("div",{className:"encounter-overview-encounter-info-tags",children:x.map(((t,a)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill  "+(e.getCollectedLocationTags().includes(t)?"type-location":""),children:t.name},a)))})})]})]})})]}),(0,et.jsxs)("div",{className:"encounter-overview-events-container",children:[(0,et.jsx)("div",{className:"encounter-overview-event-header",children:"ENCOUNTER EVENTS"}),(0,et.jsxs)("div",{className:"encounter-overview-events-row",children:[(0,et.jsx)("div",{className:"encounter-overview-legend",children:N.map(((e,a)=>(0,et.jsxs)("div",{className:"event-legend-entry",children:[(0,et.jsx)("div",{className:"event-icon",children:(0,et.jsx)(at,{imageId:t.getEventIcon(e)})}),(0,et.jsx)("div",{className:"event-name",children:C(e)})]},a)))}),0===a.events.length?null:(0,et.jsx)("div",{className:"encounter-eventlist",children:a.events.map(((a,n)=>(0,et.jsxs)("div",{className:`event-entry ${a.type} ${g.includes(n)?"completed":""}`,onClick:()=>(t=>{e.encounterEventSelected(t),g.push(t),p([...g])})(n),children:[(0,et.jsx)("div",{className:"event-icon",children:(0,et.jsx)(at,{imageId:t.getEventIcon(a.type)})}),(0,et.jsx)("div",{className:"event-name",children:a.name}),a.flavorText&&(0,et.jsx)("div",{className:"event-flavor-text",children:a.flavorText})]},n)))})]})]}),a.branches&&a.branches.length>0&&(0,et.jsxs)("div",{className:"encounter-overview-bottom-container",children:[(0,et.jsxs)("div",{className:"encounter-overview-upcoming-branches-container",children:[(0,et.jsx)("div",{className:"encounter-overview-upcoming-branches-header",children:"UPCOMING ENCOUNTERS"}),(0,et.jsx)("div",{className:"encounter-overview-upcoming-upcoming-branches",children:a.branches.map(((t,a)=>{return(0,et.jsxs)("div",{className:`encounter-overview-upcoming-branch text-theme-${t.location.themes[0]}`,children:[(0,et.jsxs)("div",{className:"encounter-overview-upcoming-branch-header",children:[(0,et.jsx)("div",{className:"encounter-overview-upcoming-travel-header-text encounter",onClick:()=>(t=>{e.advanceEncounter(t)})(t),children:t.name}),(0,et.jsx)("div",{className:"encounter-overview-upcoming-travel-header-text",children:t.location.name})]}),(0,et.jsx)(Qt,{totalSegments:4,filledSegments:Math.min(4,e.getExpectedTagsForBranch(t.name).length),theme:t.location.themes[0],label:t.name}),(0,et.jsx)("div",{className:"encounter-overview-upcoming-branch-tags",children:(()=>{const a=e.getExpectedTagsForBranch(t.name),n=e.getAuthoredEncounterTags(t.name).filter((e=>!a.includes(e))),r=4-(n.length+a.length),s=Array(r).fill({name:"?"});return[...n.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill expected",children:e.name},`authored-${t}`))),...a.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-foreshadowing",children:e.name},`expected-tag-${t}`))),...s.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-foreshadowing expected large-text",children:e.name},t)))]})()}),(0,et.jsx)("div",{className:"encounter-overview-upcoming-footer",children:(0,et.jsx)("div",{className:"encounter-overview-upcoming-travel-footer-text",children:(n=e.getExpectedTagsForBranch(t.name).length,4===n?"WELL PREPARED":3===n?"READY":2===n?"INFORMED":"NOT READY")})})]},a);var n}))})]}),(0,et.jsxs)("div",{className:"encounter-overview-advance-container",children:[(0,et.jsx)("div",{className:"encounter-overview-advance-text",children:"ADVANCE ENCOUNTER"}),(0,et.jsxs)("div",{className:"encounter-overview-advance-button",onClick:()=>{e.advanceEncounter()},children:[(0,et.jsx)("div",{className:"encounter-overview-advance-button-text",children:"PLAYERS CHOOSE"}),(0,et.jsx)("div",{className:"encounter-overview-advance-info",children:e.getEncounterAdvanceReadinessText()})]})]})]})]}),f&&(0,et.jsx)(ha,{campaign:Ra[e.getCurrentCampaign()||0],collapsed:!1,onAccept:()=>v(!1),acceptText:"Close"})]})},Oa=e=>{var t,a;let{encounter:r}=e;Pt();const s=Ot(),[i]=(0,n.useState)(s.getExpectedEncounterTags()),[l]=(0,n.useState)(s.getEncounterLocationTags()),[o]=(0,n.useState)(s.getDmTricks()),c=[s.getCampaignName(),...(null===(t=s.getCurrentEncounter())||void 0===t||null===(a=t.branches)||void 0===a?void 0:a.map((e=>e.name)))||[]];return(0,et.jsxs)("div",{className:"encounter-intro-container",children:[(0,et.jsx)("div",{className:"encounter-intro-title",children:r.name}),(0,et.jsx)("div",{className:"encounter-intro-instructions",children:"Most of this encounter takes place in Sagewood Tavern. Describe the scene to them by exposing the following elements:"}),(0,et.jsx)("div",{className:"encounter-intro-location",children:r.location.name}),(0,et.jsx)("div",{className:"encounter-intro-tags location",children:l.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-location",children:e.name},t)))}),(0,et.jsx)("div",{className:"encounter-intro-instructions expect",children:"Based on what you've told them about the current situation in Sagewood, they expect to encounter:"}),i.length>0&&(0,et.jsx)("div",{children:(0,et.jsx)("div",{className:"encounter-intro-tags expected",children:i.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill expected",children:e.name},t)))})}),(0,et.jsx)("div",{className:"encounter-intro-instructions plot",children:"Keep your players thinking about what's to come by giving clues about upcoming encounters, and the Campaign Plot"}),(0,et.jsx)("div",{className:"encounter-intro-tags plot",children:c.map(((e,t)=>(0,et.jsx)("div",{className:`text-encounter text-theme-${s.getColorForEncounterByName(e)} `,children:(0,et.jsxs)("u",{children:[" ",e]})},t)))})]})},La=e=>{let{event:t}=e;return(0,et.jsx)("div",{className:"encounter-event",children:(0,et.jsx)("div",{className:"event-content",children:t.name})})},Pa=e=>{let{encounter:t}=e;const[a,r]=(0,n.useState)(t.events),[s,i]=(0,n.useState)(!1),l=(Ot(),Pt());(0,n.useEffect)((()=>{const e=()=>{i(!s)};return l.on("forceupdateHACK",e),()=>{l.off("forceupdateHACK",e)}}),[l,s]);return(0,et.jsx)("div",{className:"table-encounter-divisions",children:(0,et.jsxs)("div",{className:"event-column open",children:[a.map(((e,t)=>(0,et.jsx)(La,{event:e},`${t}`))),(0,et.jsx)("div",{className:"event-column-label"})]})})},_a=e=>{let{min:t,max:a,totalSegments:n,isGrim:r}=e;a++;const s=t/n*100-1,i=(a-t)/n*100+1.5;return(0,et.jsxs)("div",{className:"range-card",style:{left:`${s}%`,width:`${i}%`},children:[(0,et.jsx)("div",{className:"combat-bar-label peril",children:"PERIL"}),(0,et.jsx)("div",{className:"combat-bar-label stress",children:"TENSION"}),(0,et.jsxs)("div",{className:"combat-bar-label engagement",children:[r?"GRIM ":" ","SCORE"]})]})},Fa=e=>{let{baseDie:t,displayNumber:a,onClick:n}=e;const r=`number_die_${t}`;return(0,et.jsxs)("div",{className:"number-die",onClick:n,children:[(0,et.jsx)(at,{imageId:r}),(0,et.jsx)("div",{className:"number-die-text",children:a})]})},Da=e=>{let{modifierCallback:t,side:a,combatState:r,disabled:s}=e;const i=Ot(),[l,o]=(It().getCombatManager(),(0,n.useState)(i.getCollectedLocationTags(!1)));return(0,et.jsxs)("div",{className:`combat-modifiers ${a}`,children:[(0,et.jsxs)("div",{className:"combat-modifiers-label",children:["Assist ","heroes"===a?"Heroes":"Enemies"]}),(0,et.jsxs)("div",{className:"combat-modifier-row",children:[(0,et.jsx)("div",{className:"combat-modifiers-tags",children:(0,et.jsx)("div",{className:`location-tags ${a}`,children:l.map(((e,n)=>(0,et.jsx)("div",{className:"text-pill type-location "+(r.usedTags[n]?"expected":""),onClick:()=>(e=>{r.usedTags||(r.usedTags=l.map((()=>!1)));const n=!r.usedTags[e];t(n?1:-1,a,l[e],e)})(n),children:e.name},n)))})}),(0,et.jsx)("div",{className:"combat-modifiers-die "+(s?"disabled":""),children:(0,et.jsx)(Fa,{baseDie:20,displayNumber:"1",onClick:()=>(i.spendDMPoints(1),void t(1,a,{name:"DM"},0))})})]})]})},Ba=e=>{let{combatantCallback:t,side:a,combatState:n}=e;return(0,et.jsxs)("div",{className:`combat-combatants ${a}`,children:[(0,et.jsx)("div",{className:"combat-combatants-label",children:"heroes"===a?"Add allied Combatants":"Swap Enemies"}),(0,et.jsx)("div",{className:"combat-combatants-row",children:(0,et.jsx)("div",{className:"combat-combatants-tags",children:"heroes"===a&&n.friendlyTags.length<=0?(0,et.jsx)("div",{className:"combatant-tags",children:(0,et.jsx)("div",{className:"none-available",children:"No valid established NPC Races available."})}):"enemies"===a&&n.friendlyTags.length<=0&&n.hostileTags.length<=0?(0,et.jsx)("div",{className:"combatant-tags",children:(0,et.jsx)("div",{className:"none-available",children:"No valid established Enemy Races available."})}):(0,et.jsxs)("div",{className:`combatant-tags ${a}`,children:[n.friendlyTags.map(((e,r)=>(0,et.jsx)("div",{className:`text-pill combatant ${a}`,onClick:()=>(e=>{t(a,n.friendlyTags[e],e)})(r),children:e.name},r))),"enemies"===a&&n.hostileTags.map(((e,r)=>(0,et.jsx)("div",{className:`text-pill combatant ${a}`,onClick:()=>(e=>{t(a,n.hostileTags[e],e)})(r),children:e.name},r)))]})})})]})},Ua=[0,0,5,10,15,25,50,75,100],Ga=[0,0,1,5,5,5,10,10,20],Ha=[-10,-1,5,10,20,10,5,-1,-5],za=e=>{let{combatState:t}=e;const a=Ha.length,r=It(),s=r.getCombatManager(),i=r.getPartyManager(),l=(r.getChatManager(),r.getCampaignManager()),o=e=>{const t=e.riskCenter;return[Math.max(t-e.nbEnemies,0),Math.min(t+e.nbEnemies,a-1)]},c=l.getCollectedThemes(),[u,d]=(0,n.useState)(Ga),[h,m]=(0,n.useState)(Ua),[g,p]=(0,n.useState)([]),[f,v]=(0,n.useState)(o(t)),[y,b]=(0,n.useState)(null),[E,x]=(0,n.useState)(!1),[N,S]=(0,n.useState)(null),[C,T]=(0,n.useState)(null),A=!(!c.grim||3!==c.grim),k=(0,n.useRef)({danger:h,stress:u,engagement:g});(0,n.useEffect)((()=>{k.current={danger:h,stress:u,engagement:g}}),[h,u,g]),(0,n.useEffect)((()=>{if(s.setCombatBarAnimating(E),!E)switch(console.log("DONE ANIMATING"+N+" : "+t.round.phase),t.round.phase){case"balance":const e=o(t);console.log("NEW RANGE: "+e),v(e);break;case"setup":null!==C&&(s.modifyCombatRangeCenter(C),S(null))}}),[E]),(0,n.useEffect)((()=>{let e=!1;return R(t),M(t),s.on("combatStateChange",(e=>{if(s){M(t),R(t);const e=o(t);v(e)}})),s.on("combatPhaseChange",(t=>{switch(console.log("Phase change ! "+t.round.phase),t.round.phase){case"setup":E||(console.log("WHATSUUUUP "+e),e=!0,T(I([0,a-1])),b(null));break;case"heroes_attack":case"heroes_resolve":case"enemy_resolve_damage":default:break;case"enemies_attack":T(I(o(t)))}})),()=>{s.removeAllListeners("combatStateChange"),s.removeAllListeners("combatPhaseChange")}}),[s]);const M=e=>{const t=e.enemyStats.attack[0],a=i.getPartyStrength(),n=t*t/(a*a),r=[0,1,5,10,25,50,75,80,90,100].map(((t,a)=>{let r=Math.ceil(t*n);return 1===e.nbEnemies?r*=.8:3===e.nbEnemies&&(r*=1.6),9===a&&(r*=2),8===a&&(r*=1.5),r=5*Math.ceil(r/5),r=Math.min(r,100),r}));m(r),j(r)},j=e=>{const t=[];e.forEach(((e,a)=>{const n=w(e);t.push(n)})),d(t)},w=e=>{let t=0;return t=e<=10?1:e<=25?5:e<=40?10:e<=50?15:e<=80?20:e<=90?25:30,t},R=e=>{const t=[];let a=0;Ha.forEach(((n,r)=>{const s=n*(.5*e.nbEnemies);let i=s<0?Math.floor(s):Math.ceil(s);i>a?a=i:A&&(i=a),t.push(i)})),p(t)},I=e=>{const t=Math.floor(Math.random()*(e[1]-e[0]+1))+e[0];return D(e,t),S(t),(e=>{s.setPerilResult([e,k.current.danger[e],k.current.stress[e],k.current.engagement[e]])})(t),t},O=(e,t)=>{const a=Math.min(...e),n=Math.max(...e);return e.map((e=>s.generateColorFromValue(e,a,n,t)))},L=O(h,"danger"),P=O(u,"stress"),_=O(g,"engagement"),F=e=>{const n="danger"===e?L:"stress"===e?P:_,r="danger"===e?h:"stress"===e?u:g,s="balance"===t.round.phase||"setup"===t.round.phase&&E;return Array.from({length:a},((t,a)=>(0,et.jsxs)("div",{className:`combat-bar-segment  \n                ${s||a>=f[0]&&a<=f[1]?"in-range":""}\n                ${a===y?"highlighted":""}\n                ${E?"animating":""}\n                ${null===N?"":a===N?"positive-result":"negative-result"}\n            `,style:{backgroundColor:n[a]||"",color:"stress"===e&&r[a]>10?"#777777ff":""},children:["danger"!==e&&r[a]>0?"+":"",r[a],"danger"===e?"%":""]},a)))},D=(e,a)=>{x(!0);let n=1,r=e[0],i=50;const l=()=>{var o;b(r),"setup"===(null===(o=s.getCombatState())||void 0===o?void 0:o.round.phase)&&v([Math.max(0,r-t.nbEnemies),Math.min(8,r+t.nbEnemies)]),i<300?(r+=n,r>=e[1]?(n=-1,r=e[1]):r<=e[0]&&(n=1,r=e[0]),i*=1.1,setTimeout(l,i)):r!==a?(r+=n,r>=e[1]?(n=-1,r=e[1]):r<=e[0]&&(n=1,r=e[0]),setTimeout(l,i)):(b(a),x(!1))};l()},B=(e,t,a,n)=>{s.combatModifiersCallback(e,t,a,n)},U=(e,t,a)=>{s.combatantCallback(e,t,a)};return(0,et.jsxs)("div",{className:"combat-peril-row",children:[(0,et.jsx)("div",{className:`combat-bar-modifiers left ${"setup"===t.round.phase?"show-arrow":""} `,children:"balance"===t.round.phase?(0,et.jsx)(Ba,{combatantCallback:U,side:"heroes",combatState:t}):"setup"===t.round.phase?(0,et.jsx)(Da,{modifierCallback:B,side:"heroes",combatState:t,disabled:E}):null}),(0,et.jsx)("div",{className:"combat-bar-container",children:(0,et.jsxs)("div",{className:"combat-bar",children:[(0,et.jsx)("div",{className:"combat-bar-range-indicator",children:(0,et.jsx)(_a,{min:f[0],max:f[1],totalSegments:a,isGrim:A})}),(0,et.jsx)("div",{className:"segment-container danger",children:F("danger")}),(0,et.jsx)("div",{className:"segment-container stress",children:F("stress")}),(0,et.jsx)("div",{className:"segment-container engagement",children:F("engagement")})]})}),(0,et.jsx)("div",{className:`combat-bar-modifiers right ${"setup"===t.round.phase?"show-arrow":""} `,children:"balance"===t.round.phase?(0,et.jsx)(Ba,{combatantCallback:U,side:"enemies",combatState:t}):"setup"===t.round.phase?(0,et.jsx)(Da,{modifierCallback:B,side:"enemies",combatState:t,disabled:E}):null})]})};var Wa=a(7284),Ka=a.n(Wa);const Qa={[ga.MONSTERS.GOBLINS.name]:{defense:[2],magic_defense:[0],health:[5],attack:[2]},[ga.MONSTERS.GNOMES.name]:{defense:[3],magic_defense:[3],health:[10],attack:[3]},[ga.MONSTERS.DRAGONS.name]:{defense:[10],magic_defense:[10],health:[100],attack:[10]},[ga.MONSTERS.UNDEAD.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.MONSTERS.BEASTS.name]:{defense:[5],magic_defense:[0],health:[20],attack:[5]},[ga.MONSTERS.CULTISTS.name]:{defense:[2],magic_defense:[5],health:[10],attack:[3]},[ga.MONSTERS.BANDITS.name]:{defense:[3],magic_defense:[0],health:[10],attack:[3]},[ga.MONSTERS.MONSTERS.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.HUMANS.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.ELVES.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.DWARVES.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.ORCS.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.HALFLINGS.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.HALF_ORCS.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]},[ga.RACE.HALF_ELVES.name]:{defense:[5],magic_defense:[5],health:[20],attack:[5]}},Ya={health:[1],attack:[1],defense:[1],magic_defense:[1]};class Va extends(Ka()){constructor(e){super(),this.appManager=void 0,this.characterManager=void 0,this.campaignManager=void 0,this.playerManager=void 0,this.uiManager=void 0,this.chatManager=void 0,this.combatState=void 0,this.partyManager=void 0,this.getCombatMessage=()=>{if(this.combatState)switch(this.combatState.round.phase){case"balance":return"Balance the combat by changing the number or type of enemies and/or add NPCs.";case"setup":return this.combatState.barAnimating?`The players and ${this.combatState.enemyType.name} ready themselves themselves and we see how dangerous this round will be... `:"Balance the fight by using established elements of the environment to make the combat more or less dangerous. Or simply fudge the dice...";case"heroes_attack":return"done in component";case"heroes_resolve":return"Now the enemies will attack! This will determine the chance of injury to the party.";case"enemies_attack":return this.combatState.barAnimating?"Determining the danger and excitement of this round...":`There is a ${this.combatState.perilResult[k.DANGER]}% chance of a party injury.`;case"enemy_resolve_damage":return this.combatState.combatMessage;default:return""}},setTimeout((()=>{this.appManager=e,this.characterManager=e.getCharacterManager(),this.campaignManager=e.getCampaignManager(),this.playerManager=e.getPlayerManager(),this.uiManager=e.getUiManager(),this.chatManager=e.getChatManager(),this.partyManager=e.getPartyManager()}),0)}getCombatState(){return this.combatState}generateCombatRewards(){if(this.combatState)switch(this.combatState.nbEnemies){case 1:default:this.combatState.rewards=1;break;case 2:this.combatState.rewards=3;break;case 3:this.combatState.rewards=5}}generateCombatState(e,t){var a,n,r;if(!e.combat||!e.combat[t])return;if(this.combatState)return this.combatState;const s=e.combat[t],i=s.enemy,l={round:{number:0,phase:"balance"},attacker:"heroes",currentCharacterIndex:0,currentEnemyIndex:0,nbEnemies:s.nbEnemies,enemyType:i,enemyStats:Qa[i.name]||{...Ya},riskCenter:4,usedTags:(null===(a=this.campaignManager)||void 0===a?void 0:a.getCollectedLocationTags().map((()=>!1)))||[],hostileTags:(null===(n=this.campaignManager)||void 0===n?void 0:n.getHostileCombatantTags(i.name))||[],friendlyTags:(null===(r=this.campaignManager)||void 0===r?void 0:r.getFriendlyCombatantTags())||[],npcs:[],rewards:1,perilResult:[0,0,0,0],heroAttacks:{},enemyStatsInstance:{health:1,attack:1,defense:1,magic_defense:1}};return this.updateCombatState(l),this.generateCombatRewards(),l}static GetDefaultCombatState(){return{round:{number:0,phase:"balance"},attacker:"heroes",currentCharacterIndex:0,currentEnemyIndex:0,nbEnemies:1,enemyType:{name:"none"},enemyStats:{...Ya},riskCenter:5,usedTags:[],hostileTags:[],friendlyTags:[],npcs:[],perilResult:[0,0,0,0],heroAttacks:{},rewards:1,enemyStatsInstance:{health:1,attack:1,defense:1,magic_defense:1}}}modifyCombatRangeCenter(e){this.combatState&&(this.combatState.riskCenter=e,this.emit("combatStateChange",this.combatState))}updateCombatState(e){this.combatState=e,this.emit("combatStateChange",this.combatState)}applyPerilResultsToParty(){var e,t;if(!this.combatState)return;const a=this.combatState.perilResult[k.STRESS],n=this.combatState.perilResult[k.SCORE];null===(e=this.partyManager)||void 0===e||e.addPartyTension(a),null===(t=this.partyManager)||void 0===t||t.addPartyScore(n)}setCombatBarAnimating(e){this.combatState&&(this.combatState.barAnimating=e,this.emit("combatStateChange",this.combatState))}advanceRound(){var e,t;if(this.combatState){switch(this.combatState.round.phase){case"balance":this.generateEnemyAttributeInstance(),this.combatState.round.phase="setup",this.generateHeroAttacks(),null===(e=this.chatManager)||void 0===e||e.combatIntroMessage(this.combatState.enemyType);break;case"setup":this.combatState.round.phase="heroes_attack",this.combatState.round.number++;break;case"heroes_attack":var a,n;if(this.combatState.enemyStatsInstance.health<=0)null===(a=this.partyManager)||void 0===a||a.addPartyScore(this.combatState.perilResult[k.SCORE]),null===(n=this.uiManager)||void 0===n||n.showRewardModal(this.combatState.rewards||0,!0);else this.combatState.round.phase="heroes_resolve";break;case"heroes_resolve":this.combatState.round.phase="enemies_attack";break;case"enemies_attack":this.perilCheck(),this.combatState.round.phase="enemy_resolve_damage",this.applyPerilResultsToParty();break;case"enemy_resolve_damage":this.combatState.round.phase="setup",this.generateHeroAttacks(),null===(t=this.partyManager)||void 0===t||t.exhaustParty(this.getAttackActionCost());break;default:console.log("Unknown phase")}console.log("Changing phase to "+this.combatState.round.phase),this.emit("combatPhaseChange",this.combatState),this.emit("combatStateChange",this.combatState)}}perilCheck(){var e;const t=null===(e=this.combatState)||void 0===e?void 0:e.perilResult;if(!t)return;const a=Math.floor(100*Math.random());var n;a<t[k.DANGER]?this.activatePeril():null===(n=this.chatManager)||void 0===n||n.dmMessage("You guys are safe this round.");this.combatState&&(this.combatState.combatMessage=`${t[k.DANGER]}% chance of injury and rolled a ${a}.`)}activatePeril(){var e;if(void 0===this.combatState)return;let t=null===(e=this.partyManager)||void 0===e?void 0:e.generateHeroes(this.combatState.npcs||[]);if(void 0===t)return;let a=Math.floor(Math.random()*t.length);if(a<this.combatState.npcs.length){var n;this.combatState.npcs.splice(a,1),null===(n=this.chatManager)||void 0===n||n.dmMessage(`The ${t[a].name} were frigtened off!`)}else{var r;let e="";var s;if(t[a].character)e=(null===(s=this.partyManager)||void 0===s?void 0:s.addInjury(t[a].character))||"unknown injury";null===(r=this.chatManager)||void 0===r||r.dmMessage(`Oh no! ${t[a].name} is ${e}`)}}generateEnemyAttributeInstance(){var e,t,a;const n=((null===(e=this.getCombatState())||void 0===e?void 0:e.nbEnemies)||1)-1,r=(null===(t=this.getCombatState())||void 0===t?void 0:t.nbEnemies)||1,s=(null===(a=this.getCombatState())||void 0===a?void 0:a.enemyStats)||{...Ya},i={health:s.health[n]||s.health[0]*r,attack:s.attack[n]||s.attack[0]*r,defense:s.defense[n]||s.defense[0]*r,magic_defense:s.magic_defense[n]||s.magic_defense[0]*r};this.combatState&&(this.combatState.enemyStatsInstance=i)}generateHeroAttacks(){var e,t;if(!this.combatState)return;const a=null===(e=this.partyManager)||void 0===e?void 0:e.generateHeroes((null===(t=this.combatState)||void 0===t?void 0:t.npcs)||[]);null===a||void 0===a||a.forEach((e=>{this.combatState&&(this.combatState.heroAttacks[e.name]=this.generateAttack(e))}))}heroRethinkAttack(e){var t,a;if(!this.combatState)return;null===(t=this.campaignManager)||void 0===t||t.spendDMPoints(1);let n=this.combatState.heroAttacks[e.name],r=10;for(;n===this.combatState.heroAttacks[e.name]&&r-- >0;)this.combatState.heroAttacks[e.name]=this.generateAttack(e);let s=`${e.name} should really think of a different tactic.`;switch(Math.floor(3*Math.random())){case 0:s=`Do you really want ${e.name} to do that?`;break;case 1:s="That's stupid.";break;case 2:s=`You know ${e.name} has better options, right?`}null===(a=this.chatManager)||void 0===a||a.dmMessage(s),this.emit("combatStateChange",this.combatState)}getHeroAttackDecisionText(e){var t;const a=null===(t=this.combatState)||void 0===t?void 0:t.heroAttacks[e.name];if(!a)return"vxvxcvx";switch(a){case"combat":return`${e.name} attacks with their weapon!`;case"tools":return`${e.name} uses their tools!`;case"magic":return`${e.name} casts a spell!`;default:return"vxvxcvxvxvxc"}}generateAttack(e){let t={};var a;e.npcTag?(e.character=null===(a=this.characterManager)||void 0===a?void 0:a.generateNPC(e.npcTag),t=this.getNPCAttributes(e.npcTag)):t=Gt(e.character,!0);return t[c.MAGIC]&&t[c.MAGIC]>0&&Math.random()>.666?"magic":t[c.TOOLS]&&t[c.TOOLS]>0&&Math.random()>.5?"tools":"combat"}getNPCAttributes(e){let t=Qa[e.name];return{[c.COMBAT]:Math.max(1,t.attack[0]),[c.MAGIC]:t.magic_defense[0],[c.TOOLS]:t.defense[0]}}heroAttack(e){var t,a,n;if(!this.combatState)return;let r;var s,i,l;e.character&&(r=null===(s=this.playerManager)||void 0===s?void 0:s.getPlayerAssignedCharacter(e.character.id),r&&(null===(i=this.partyManager)||void 0===i||i.updateAttention([r.name],!1),null===(l=this.chatManager)||void 0===l||l.playerMessage(this.getHeroAttackDecisionText(e),r.id)));let o=Gt(e.character,!0);e.npcTag&&(o=this.getNPCAttributes(e.npcTag));const u=Gt(e.character);let d=0,h="combat",m=0,g="",p=!1;switch(this.combatState.heroAttacks[e.name]){case"combat":let r=Math.floor(Math.random()*(o[c.COMBAT]||0))+1;this.combatState.enemyStatsInstance.defense>0?(g="Defense",this.combatState.enemyStatsInstance.defense=Math.max(0,this.combatState.enemyStatsInstance.defense-r)):this.combatState.enemyStatsInstance.magic_defense>0?(g="Magic Defense",r=1,this.combatState.enemyStatsInstance.magic_defense=Math.max(0,this.combatState.enemyStatsInstance.magic_defense-1)):(g="Health",this.combatState.enemyStatsInstance.health=Math.max(0,this.combatState.enemyStatsInstance.health-r)),m=r,d=r,h="combat";break;case"tools":let s=1;Math.random()<.25&&(s=u[c.TOOLS],p=!0),this.combatState.enemyStatsInstance.defense>0?(g="Defense",this.combatState.enemyStatsInstance.defense=Math.max(0,this.combatState.enemyStatsInstance.defense-s)):this.combatState.enemyStatsInstance.magic_defense>0?(g="Magic Defense",this.combatState.enemyStatsInstance.magic_defense=Math.max(0,this.combatState.enemyStatsInstance.magic_defense-s)):(g="Health",this.combatState.enemyStatsInstance.health=Math.max(0,this.combatState.enemyStatsInstance.health-s)),null===(t=this.characterManager)||void 0===t||t.setAttributeUsed(e.character,c.TOOLS,1),d=s,h="tools",m=s;break;case"magic":const i=Math.min(o[c.MAGIC]||1,(null===(a=e.character)||void 0===a?void 0:a.level)||1),l=i*(Math.floor(3*Math.random())+2);this.combatState.enemyStatsInstance.magic_defense>0?(g="Magic Defense",this.combatState.enemyStatsInstance.magic_defense=Math.max(0,this.combatState.enemyStatsInstance.magic_defense-l)):this.combatState.enemyStatsInstance.defense>0?(g="Defense",this.combatState.enemyStatsInstance.magic_defense=Math.max(0,this.combatState.enemyStatsInstance.defense-l)):(g="Health",this.combatState.enemyStatsInstance.health=Math.max(0,this.combatState.enemyStatsInstance.health-l)),null===(n=this.characterManager)||void 0===n||n.setAttributeUsed(e.character,c.MAGIC,i),d=l,h="magic",m=i;break;default:console.log("Unknown attack type")}let f="";switch(h){case"combat":f="\u2694\ufe0f".repeat(m);break;case"tools":f="\ud83d\udd27".repeat(m);break;case"magic":f="\u2728".repeat(m)}let v=`${!0===p?"Crit! ":""}  ${f} = ${d} damage ${g}.`;return this.emit("combatStateChange",this.combatState),v}getAttackActionCost(){return this.combatState?this.combatState.round.number*Object.keys(this.combatState.heroAttacks).length:0}reduceEnemies(){var e;this.combatState&&(this.combatState.nbEnemies>1&&(this.combatState.nbEnemies--,null===(e=this.campaignManager)||void 0===e||e.spendDMPoints(1),this.generateCombatRewards(),this.emit("combatStateChange",this.combatState)))}increaseEnemies(){var e;this.combatState&&(this.combatState.nbEnemies<3&&(this.combatState.nbEnemies++,null===(e=this.campaignManager)||void 0===e||e.spendDMPoints(1),this.generateCombatRewards(),this.emit("combatStateChange",this.combatState)))}combatModifiersCallback(e,t,a,n){var r;this.combatState&&("heroes"===t?this.combatState.riskCenter-=e:this.combatState.riskCenter+=e,"DM"!==a.name&&(this.combatState.usedTags[n]=!this.combatState.usedTags[n]),this.emit("combatStateChange",this.combatState),null===(r=this.chatManager)||void 0===r||r.sayCombatModifiedMessage(t,a,this.combatState.enemyType,e))}combatantCallback(e,t,a){if(!this.combatState)return;t.friendly?this.combatState.friendlyTags.splice(a,1):this.combatState.hostileTags.splice(a,1),"enemies"===e?(this.combatState.enemyType.friendly?this.combatState.friendlyTags.push(this.combatState.enemyType):this.combatState.hostileTags.push(this.combatState.enemyType),this.setEnemyType(t)):this.combatState.npcs.push(t),this.generateCombatRewards(),this.emit("combatStateChange",this.combatState)}setEnemyType(e){this.combatState&&(this.combatState.enemyType=e,this.combatState.enemyStats=Qa[e.name]||{...Ya},this.emit("combatStateChange",this.combatState))}setPerilResult(e){this.combatState&&(this.combatState.perilResult=e,this.emit("combatStateChange",this.combatState))}generateColorFromValue(e,t,a,n){let r,s={negative:{r:255,g:61,b:61},neutral:{r:255,g:139,b:105},positive:{r:255,g:0,b:0}};switch(n){case"danger":s={negative:{r:255,g:255,b:255},neutral:{r:179,g:139,b:105},positive:{r:200,g:25,b:20}};break;case"stress":s={negative:{r:255,g:255,b:255},neutral:{r:130,g:130,b:130},positive:{r:0,g:0,b:0}};break;case"engagement":s={negative:{r:139,g:61,b:61},neutral:{r:179,g:139,b:105},positive:{r:92,g:148,b:87}};break;case"reward":s={negative:{r:255,g:255,b:255},neutral:{r:255,g:255,b:255},positive:{r:255,g:215,b:0}}}if(e<0){const a=(e-t)/(0-t);r={r:Math.round(s.negative.r+(s.neutral.r-s.negative.r)*a),g:Math.round(s.negative.g+(s.neutral.g-s.negative.g)*a),b:Math.round(s.negative.b+(s.neutral.b-s.negative.b)*a)}}else{const t=e/a;r={r:Math.round(s.neutral.r+(s.positive.r-s.neutral.r)*t),g:Math.round(s.neutral.g+(s.positive.g-s.neutral.g)*t),b:Math.round(s.neutral.b+(s.positive.b-s.neutral.b)*t)}}return`#${r.r.toString(16).padStart(2,"0")}${r.g.toString(16).padStart(2,"0")}${r.b.toString(16).padStart(2,"0")}`}}const Xa=Va,Za=(qa=e=>{let{onClick:t,className:a,children:n}=e;return(0,et.jsx)("div",{className:`themed-button ${a||""}`,onClick:()=>{},children:n})},e=>{const t=Ot(),[a,r]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(Math.random()<.25){const e=Object.values(T),t=e[Math.floor(Math.random()*e.length-1)];r(t)}}),[e.regenerateKey]);const s=a?`${e.className||""} theme-${a}`:e.className;return(0,et.jsxs)("div",{className:"theme-wrapper",onClick:n=>{e.onClick&&e.onClick(a),a&&t.themedUiClicked(a),r(null)},children:[(0,et.jsx)(qa,{...e,className:s}),a&&(0,et.jsx)("div",{className:"tooltip",children:`This action will be done in a ${a} way`})]})});var qa;const Ja=e=>{var t,a,r,s;let{encounter:i}=e;const l=It(),o=l.getCombatManager(),c=(l.getCharacterManager(),l.getPartyManager()),d=(null===o||void 0===o?void 0:o.generateCombatState(i,0))||Xa.GetDefaultCombatState(),[h,m]=(0,n.useState)(!1),[g,p]=(0,n.useState)(),[f,v]=(0,n.useState)(d.nbEnemies),[y,b]=(0,n.useState)(d.enemyType),[E,x]=(0,n.useState)(d.perilResult),[N,S]=(0,n.useState)(!1),[C,T]=(0,n.useState)(),[A,M]=(0,n.useState)(d.rewards||1),[j,w]=(0,n.useState)(c.generateHeroes(d.npcs)),[R,I]=(0,n.useState)(j.map((()=>"false"))),O=e=>{var t,a;const n=((null===o||void 0===o||null===(t=o.getCombatState())||void 0===t?void 0:t.nbEnemies)||1)-1,r=(null===o||void 0===o||null===(a=o.getCombatState())||void 0===a?void 0:a.nbEnemies)||1;return{health:e.health[n]||e.health[0]*r,attack:e.attack[n]||e.attack[0]*r,defense:e.defense[n]||e.defense[0]*r,magic_defense:e.magic_defense[n]||e.magic_defense[0]*r}};(0,n.useEffect)((()=>(o.on("combatStateChange",(e=>{v(e.nbEnemies),b(e.enemyType),w(c.generateHeroes(e.npcs)),x(e.perilResult),M(e.rewards||1),"balance"===e.round.phase?p(O(e.enemyStats)):p(e.enemyStatsInstance),"setup"===e.round.phase&&I(Object.keys(e.heroAttacks).map((()=>"false"))),T(e.combatMessage),S(e.barAnimating||!1)})),p(O(d.enemyStats)),()=>{o.removeAllListeners("combatStateChange")})),[o,i]);const L=e=>{e<1?o.reduceEnemies():o.increaseEnemies()},P=i.combat?null===(t=i.combat[0])||void 0===t?void 0:t.description:"";return(0,et.jsxs)("div",{className:"game-encounter-combat",children:[(0,et.jsx)("div",{className:"combat-encounter-upper-container",children:(0,et.jsxs)("div",{className:"combat-encounter-header",children:[(0,et.jsxs)("div",{className:"combat-encounter-header-title",children:["Combat Event in ",i.location.name]}),(0,et.jsx)("div",{className:"combat-encounter-description",children:P})]})}),(0,et.jsxs)("div",{className:"combat-encounter-body-container",children:[(0,et.jsx)(za,{combatState:d}),(0,et.jsxs)("div",{className:"combat-encounter-enemies-row",children:[(()=>{if("heroes_attack"===d.round.phase)return(0,et.jsx)("div",{className:"combat-message-container",children:(0,et.jsxs)("div",{className:"combat-message-legend",children:[(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\u2694\ufe0f:  1-\u2694\ufe0f to Health or Defense."}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\u2694\ufe0f:  1 to Magic Defense."}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\ud83d\udd27:  1 to anything"}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\ud83d\udd27:  Chance to crit for \ud83d\udd27"}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\u2728:  2-4 Damage to anything."}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\u2728:  at higher levels"}),(0,et.jsx)("br",{}),(0,et.jsx)("div",{className:"combat-message-legend-item",children:"\ud83d\udd27 / \u2728: limited uses"})]})});let e=o.getCombatMessage();return(0,et.jsx)("div",{className:"combat-message-container",children:(0,et.jsx)("div",{className:"combat-message",children:e})})})(),(0,et.jsxs)("div",{className:"combat-encounter-enemies",children:[(0,et.jsxs)("div",{className:"combat-encounter-enemies-number",children:["balance"===d.round.phase&&(0,et.jsxs)("div",{className:"combat-enemies-ui",onClick:()=>L(-1),children:[(0,et.jsx)(Fa,{baseDie:20,displayNumber:"1"}),"less"]}),(0,et.jsx)("div",{className:"combat-encounter-enemies-list",children:(()=>{const e=[],t=[0,1,3,5,7];for(let a=0;a<t[f];a++)e.push((0,et.jsx)("div",{className:`enemy-icon enemy-type-${y.name}`,children:(0,et.jsx)(at,{imageId:`combat_${y.name}`})},`${a}`));return e})()}),"balance"===d.round.phase&&(0,et.jsxs)("div",{className:"combat-enemies-ui",onClick:()=>L(1),children:[(0,et.jsx)(Fa,{baseDie:20,displayNumber:"1"}),"more"]})]}),(0,et.jsx)("div",{className:"combat-encounter-enemies-attributes",children:(0,et.jsxs)("div",{className:"combat-encounter-enemies-attributes-display",children:[(0,et.jsxs)("div",{className:"combat-enemy-attribute defense",children:[(0,et.jsx)("div",{className:"combat-enemy-attribute-title",children:"Defense"}),(0,et.jsx)("div",{className:"combat-enemy-attribute-value",children:null===g||void 0===g?void 0:g.defense})]}),(0,et.jsxs)("div",{className:"combat-enemy-attribute magic-defense",children:[(0,et.jsx)("div",{className:"combat-enemy-attribute-title",children:"Magic Defense"}),(0,et.jsx)("div",{className:"combat-enemy-attribute-value",children:null===g||void 0===g?void 0:g.magic_defense})]}),(0,et.jsxs)("div",{className:"combat-enemy-attribute health",children:[(0,et.jsx)("div",{className:"combat-enemy-attribute-title",children:"Health"}),(0,et.jsx)("div",{className:"combat-enemy-attribute-value",children:null===g||void 0===g?void 0:g.health})]})]})}),(0,et.jsx)("div",{className:"combat-encounter-enemies-header",children:(0,et.jsx)("div",{className:"combat-encounter-enemy-name",children:y.name})})]}),(0,et.jsx)("div",{className:"combat-advance-box",children:(0,et.jsx)("div",{className:`combat-encounter-advance-button-container ${N?"disabled":""} `,onClick:()=>null===o||void 0===o?void 0:o.advanceRound(),children:(0,et.jsxs)("div",{className:"combat-encounter-advance-button",children:[(()=>{switch(d.round.phase){case"balance":return"Begin Fight";case"setup":return"Heroes Attack";case"heroes_attack":return d.enemyStatsInstance.health<=0?"End Combat":j.every(((e,t)=>"false"!==R[t]))?"Continue":"Skip Hero Attack";case"heroes_resolve":return"Enemies Attack";case"enemies_attack":return d.barAnimating?"...":"Resolve Peril";case"enemy_resolve_damage":return"End Round";default:return""}})(),"enemy_resolve_damage"===d.round.phase&&o.getAttackActionCost()>0&&(0,et.jsxs)("div",{className:"combat-button-exhaustion-label",children:["+",o.getAttackActionCost()," Exhaustion"]}),"heroes_attack"===d.round.phase&&d.enemyStatsInstance.health<=0&&(0,et.jsxs)("div",{className:"combat-button-exhaustion-label",children:["+",null===(a=o.getCombatState())||void 0===a?void 0:a.perilResult[k.SCORE]," Score"]}),"enemies_attack"===d.round.phase&&!d.barAnimating&&(0,et.jsxs)("div",{children:[(0,et.jsxs)("div",{className:"combat-button-exhaustion-label",children:["+",null===(r=o.getCombatState())||void 0===r?void 0:r.perilResult[k.STRESS]," Tension"]}),(0,et.jsxs)("div",{className:"combat-button-exhaustion-label",children:["+",null===(s=o.getCombatState())||void 0===s?void 0:s.perilResult[k.SCORE]," Score"]})]})]})})})]}),A?(0,et.jsxs)("div",{className:"combat-encounter-rewards",children:[(0,et.jsx)("div",{className:"combat-encounter-rewards-title",children:"Players will expect"}),(0,et.jsxs)("div",{className:"combat-encounter-rewards-list",children:[A," rewards"]})]}):null,(0,et.jsx)("div",{className:"combat-encounter-heroes",children:j&&j.map(((e,t)=>(0,et.jsxs)("div",{className:"combat-encounter-hero-row",children:[(e.npcTag||e.character&&"dead"!==e.character.injury)&&"heroes_attack"===d.round.phase&&(0,et.jsxs)("div",{className:"combat-hero-attack-results-container",children:[(0,et.jsx)(Za,{className:"combat-hero-button "+("false"!==R[t]?"acted":""),onClick:()=>((e,t)=>{const a=[...R];a[t]=(null===o||void 0===o?void 0:o.heroAttack(e))||"false",I(a)})(e,t),children:"false"===R[t]?o.getHeroAttackDecisionText(e):R[t]}),(0,et.jsxs)("div",{className:`combat-hero-button ${"false"===R[t]?"":"hide"} `,onClick:()=>null===o||void 0===o?void 0:o.heroRethinkAttack(e),children:[(0,et.jsx)("div",{className:"combat-sure-text",children:"'Are you Sure?'"}),(0,et.jsx)(Fa,{baseDie:20,displayNumber:"1"})]})]}),(0,et.jsxs)("div",{className:"combat-encounter-hero-container",children:[(0,et.jsxs)("div",{className:"combat-encounter-hero",children:[(0,et.jsx)("div",{className:"combat-encounter-hero-name",children:e.name}),(0,et.jsx)("div",{className:"combat-character-icon",children:(0,et.jsx)(at,{imageId:e.icon})}),e.character&&"injured"===e.character.injury&&(0,et.jsx)("div",{className:"combat-encounter-hero-injury"}),e.character&&"dead"===e.character.injury&&(0,et.jsx)("div",{className:"combat-encounter-hero-injury dead"})]}),(0,et.jsx)("div",{className:"combat-encounter-hero-attributes",children:(0,et.jsx)(Wt,{hero:e,category:u.ALL,showAttributeLoss:!0})})]})]},e.name)))})]})]})},$a=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Exploration"})})},en=e=>{let{theme:t,tag:a,message:n}=e;return(0,et.jsx)("div",{className:`tooltip theme-${t}`,children:(0,et.jsx)("div",{className:"tooltip-content",children:n})})},tn=e=>{let{encounter:t}=e;const a=Rt(),r=Ot(),s=Pt(),i=It(),l=i.getChatManager(),o=i.getPartyManager(),c=a.getAllPlayerCharacters(),[u,d]=(0,n.useState)(c.map((()=>!1))),[h,m]=(0,n.useState)(c.map((()=>!1))),[g,p]=(0,n.useState)([]),f=(e,t)=>{const a=[...u],n=[...g];n[t]=r.getPerceptionTags(e),u[t]||(0!==u.filter((e=>e)).length&&o.perceptionEventReveal(e),a[t]=!0),d(a),p(n)},v=e=>s.getPlayerAttitudesStyle(e),y=(e,t,a)=>{let n="";const s=r.getCampaignTooltipForTag(e);if(s)return s;switch(g[t].type){case A.CURRENT_LOCATION:n=`The character carefully examines ${e.tag.name}.`;break;case A.BRANCH_LOCATION:n=`Reveal hints connecting ${e.tag.name} to an upcoming encounter.`;break;case A.CHARACTER_BACKSTORY:n="Connect the player's backstory to this new topic.";break;case A.CHARACTER_BACKSTORY_PROGRESS:n=`Reveal ${e.tag.name}, which relates to a character's backstory.`;break;case A.MAGIC_ITEM:n="Reveal a magic item."}switch(e.theme){case"comedic":n+=" The players find something funny about this.";break;case"grim":n+=" this is discussed in a grim manner";break;case"fantasy":n+=" the discussion around this is fantastical";break;case"heroic":n+=" this evokes a feeling of heroism";break;case"horror":n+=" something about this is scary";break;case"romantic":n+=" this is discussed with romantic undertones";break;case"serious":n+=" the players take this very seriously";break;case"dramatic":n+=" the table gets very dramatic about this"}return n},b=e=>{switch(g[e].type){case A.CURRENT_LOCATION:return(0,et.jsxs)("div",{className:"perception-display current-location",children:[(0,et.jsxs)("div",{className:"perception-description",children:["Nothing interesting found. Simply learned basic info about ",g[e].name,":"]}),(0,et.jsx)("div",{className:"perception-tags",children:g[e].tags.map(((t,a)=>(0,et.jsxs)("div",{className:`perception-tag text-pill type-${t.source} ${v(t.tag)} theme-${t.theme}`,children:[t.tag.name,t.theme&&(0,et.jsx)(en,{theme:"",tag:t.tag,message:y(t,e)})]},a)))})]});case A.BRANCH_LOCATION:return(0,et.jsxs)("div",{className:"perception-display branch-location",children:[(0,et.jsxs)("div",{className:"perception-description",children:["Learned some things about an upcoming encounter called ",g[e].name," which may be interesting:"]}),(0,et.jsx)("div",{className:"perception-tags",children:g[e].tags.map(((t,a)=>(0,et.jsxs)("div",{className:`perception-tag text-pill type-foreshadowing ${v(t.tag)} theme-${t.theme}`,children:[t.tag.name,t.theme&&(0,et.jsx)(en,{theme:"",tag:t.tag,message:y(t,e)})]},a)))})]});case A.CHARACTER_BACKSTORY:return(0,et.jsxs)("div",{className:"perception-display backstory",children:[(0,et.jsxs)("div",{className:"perception-description",children:["Shocking new information revealed about ",g[e].name,"'s Backstory!"]}),(0,et.jsx)("div",{className:"perception-tags",children:g[e].tags.map(((t,a)=>(0,et.jsxs)("div",{className:`perception-tag text-pill expected ${v(t.tag)} theme-${t.theme}`,children:[t.tag.name,t.theme&&(0,et.jsx)(en,{theme:"",tag:t.tag,message:y(t,e)})]},a)))})]});case A.CHARACTER_BACKSTORY_PROGRESS:return(0,et.jsxs)("div",{className:"perception-display backstory",children:[(0,et.jsxs)("div",{className:"perception-description",children:["Confirmation regarding ",g[e].name,"'s Backstory:"]}),(0,et.jsx)("div",{className:"perception-tags",children:g[e].tags.map(((t,a)=>(0,et.jsxs)("div",{className:`perception-tag text-pill expected ${v(t.tag)} theme-${t.theme}`,children:[t.tag.name,t.theme&&(0,et.jsx)(en,{theme:"",tag:t.tag,message:y(t,e)})]},a)))})]});case A.MAGIC_ITEM:let t=r.isRumor(g[e].tags[0].tag.name);return g.forEach(((a,n)=>{h[n]&&a.type===A.MAGIC_ITEM&&a.tags.forEach((a=>{a.tag.name===g[e].tags[0].tag.name&&(t=!1)}))})),(0,et.jsxs)("div",{className:"perception-display magic-item",children:[(0,et.jsx)("div",{className:"perception-description",children:t?"Discovered a Magic Item you have heard of!":"Learned about a nearby Magic Item."}),(0,et.jsx)("div",{className:"perception-tags",children:g[e].tags.map(((a,n)=>(0,et.jsxs)("div",{className:`perception-tag text-pill ${t?"":"expected"}  type-${a.source} ${v(a.tag)} theme-${a.theme}`,children:[a.tag.name,a.theme&&(0,et.jsx)(en,{theme:"",tag:a.tag,message:y(a,e)})]},n)))})]});case A.PLOT_HOOK:return(0,et.jsxs)("div",{className:"perception-display-campaign-container",children:[(0,et.jsxs)("div",{className:"perception-description",children:[r.getCampaignName()," Progress:"]}),(0,et.jsxs)("div",{className:"perception-display plot-hook",children:[(0,et.jsx)("div",{className:"campaign-icon",children:(0,et.jsx)(at,{imageId:r.getCampaignIcon()})}),(0,et.jsxs)("div",{className:"campaign-plot-hook",children:[(0,et.jsx)("b",{children:g[e].tags[0].tag.name})," ",`${r.getNextPlotHookPerceptionText()}`]})]})]})}};return(0,et.jsxs)("div",{className:"game-encounter-perception",children:[(0,et.jsx)("div",{className:"encounter-type-title",children:"Perception"}),(0,et.jsx)("div",{className:"perception-container",children:(0,et.jsx)("div",{className:"character-list",children:c.map(((e,t)=>(0,et.jsxs)("div",{className:"perception-row",children:[(0,et.jsx)("div",{className:"character-container",children:(0,et.jsxs)("div",{className:"character-display",children:[(0,et.jsx)("div",{className:"character-name",children:e.name.split(" ")[0]}),(0,et.jsx)("div",{className:"character-icon",children:(0,et.jsx)(at,{imageId:e.icon})})]})}),u[t]?(0,et.jsxs)("div",{className:"character-perception-tags-container",children:[b(t),h[t]?(0,et.jsx)("div",{className:"character-perception-buttons",children:(0,et.jsx)("div",{className:"character-perception-accepted",children:"\u2713"})}):(0,et.jsxs)("div",{className:"character-perception-buttons",children:[(0,et.jsxs)("div",{className:"character-perception-reroll-button",onClick:()=>((e,t)=>{f(e,t),r.spendDMPoints(1)})(e,t),children:["REROLL",(0,et.jsx)(Fa,{baseDie:20,displayNumber:1})]}),(0,et.jsx)("div",{className:"character-perception-accept-button",onClick:()=>((e,t)=>{const a=[...h];a[t]=!0,m(a),r.acceptPerceptionTags(g[t],e),l.perceptionEvent(e,g[t])})(e,t),children:"ACCEPT"})]})]}):(0,et.jsx)("div",{className:"character-perception-reveal-button",onClick:()=>f(e,t),children:(0,et.jsx)("div",{className:"reveal-title",children:"PERCEPTION CHECK"})})]},t)))})})]})},an=[{text:"Organic Conversation +20 Score",top:"4%"},{text:"Guided Interactions +10 Score",top:"39%"},{text:"Off Topic +0 Score",top:"74%"}],nn=e=>{let{encounter:t}=e;const a=Pt(),r=Ot(),s=It(),i=s.getChatManager(),l=s.getPartyManager(),c=wt(),u=Rt(),[d,h]=(0,n.useState)([]),[m,g]=(0,n.useState)((()=>r.generateRoleplayEventTags("init"))),[p,f]=(0,n.useState)(5),v=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=[],t=[{min:5,max:20},{min:40,max:55},{min:77,max:88}],a=(e,t,a)=>Math.abs(parseFloat(e.top)-parseFloat(t))<10&&Math.abs(parseFloat(e.left)-parseFloat(a))<15;m.forEach((()=>{let n,r,s,i=0;do{i++;const l=Math.floor(3*Math.random()),o=t[l];n=`${o.min+Math.random()*(o.max-o.min)}%`,r=80*Math.random()+"%",s=e.some((e=>a(e,n,r)))}while(s&&i<100);e.push({top:n,left:r})})),h(e)}),[m]);const y=e=>{let t="";if(e.tag){if(r.getCampaignTooltipForTag(e.tag))return r.getCampaignTooltipForTag(e.tag);const a=e.tag,n=u.getPartyAttitudeForTag(a.tag);switch(a.source){case C.LOCATION:switch(Math.floor(2*Math.random())){case 0:t=`The players interact with ${a.tag.name}`;break;case 1:t=`You describe some nearby ${a.tag.name}`}break;case C.FORESHADOWING:t=n===o.LIKE?`Some players will be happy to know that ${a.tag.name} seems to be part of an upcoming encounter`:n===o.HATE?`Much to one player's annoyaince - you imply that ${a.tag.name} will be expected in an upcoming encounter`:`You foreshadow ${a.tag.name} for an upcoming encounter`;break;case C.FORESHADOWING_RANDOM:t=n===o.LIKE?`The players like ${a.tag.name}...add it on a whim to an upcoming encounter`:n===o.HATE?`${a.tag.name} will feature in an upcoming encounter even though some players hate ${a.tag.name}`:`Ad-lib ${a.tag.name} into an upcoming encounter`;break;case C.RUMOR:t=r.getExpectedEncounterTags().includes(a.tag)?`You reinforce the importance of ${a.tag.name}.`:`You confirm the players' questions about ${a.tag.name}`;break;case C.PLAYERS:t=`The players have feelings about ${a.tag.name}`;break;case C.QUESTS:t=`A quest may be advanced bacause of ${a.tag.name}`;break;case C.ALL:t=`For no specific reason, the players discuss ${a.tag.name}`;break;case C.MAGIC_ITEM:t=`You award the players the ${a.tag.name} they have been looking for!`;break;case C.BACKSTORY:t=`The ${a.tag.name} is integral to a character's backstory!`;break;case C.PLOT:t=`${a.tag.name} will be important to the story`;break;default:t=""}return t+=i.getThemePostFix(a),t}if(e.character)return t=`Spend some time focusing on ${e.character.name}`,t};(0,n.useEffect)((()=>{const e=()=>{const e=v.current;if(!e)return;const t=e.getBoundingClientRect();e.querySelectorAll(".encounter-flavor-tag").forEach((e=>{const a=e.querySelector(".tooltip-text"),n=a.getBoundingClientRect();n.right>t.right?(a.style.left="auto",a.style.right="0",a.style.transform="translateX(0)"):n.left-n.width/2<0?(a.style.left="0",a.style.right="auto",a.style.transform="translateX(0)"):(a.style.left="50%",a.style.right="auto",a.style.transform="translateX(-50%)"),n.bottom>0?(a.style.top="auto",a.style.bottom="100%"):(a.style.top="100%",a.style.bottom="auto")}))};return setTimeout(e,1e3),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[d,m]);const b=(e,t)=>{const a=(e=>{const t=parseFloat(e);return t<=20?20:t<=55?10:0})(d[t].top);f(p-1),-2===p?i.playerMessage("YAWWWN"):(p>0&&l.addPartyScore(a),i.roleplayingEvent(e)),r.selectRoleplayFlavorTag(e,p),g(r.generateRoleplayEventTags(""))},E=p>0?"The players engage the locals in conversation in Sagewood Tavern.":"You may keep roleplaying, but your players are growing bored.";return(0,et.jsxs)("div",{className:"encounter-roleplay-container",children:[(0,et.jsxs)("div",{className:"encounter-roleplay-header",children:[(0,et.jsx)("div",{className:"encounter-roleplay-tutorial",children:(()=>{const e=c.getCharacters();return(0,et.jsxs)("div",{className:"roleplay-legend",children:[(0,et.jsxs)("div",{className:"legend-section",children:[(0,et.jsxs)("div",{className:"legend-row",children:[(0,et.jsx)("div",{className:"sample-tag text-pill type-location",children:"Location"}),(0,et.jsx)("div",{className:"sample-desc",children:"Describe the environment"})]}),(0,et.jsxs)("div",{className:"legend-row",children:[(0,et.jsx)("div",{className:"sample-tag text-pill type-encounter",children:"Foreshadow"}),(0,et.jsx)("div",{className:"sample-desc",children:"Hint about an upcoming encounter"})]}),(0,et.jsxs)("div",{className:"legend-row",children:[(0,et.jsx)("div",{className:"sample-tag text-pill type-all",children:"New Topic"}),(0,et.jsx)("div",{className:"sample-desc",children:"Introduce/entertain new ideas"})]}),(0,et.jsxs)("div",{className:"legend-row",children:[(0,et.jsx)("div",{className:"sample-tag text-pill type-rumor",children:"Resolve Topic"}),(0,et.jsx)("div",{className:"sample-desc",children:"Integrate/confirm introduced topics"})]})]}),(0,et.jsx)("div",{className:"legend-section",children:(0,et.jsx)("div",{className:"legend-column",children:(0,et.jsxs)("div",{className:"legend-watchfor-container",children:[(0,et.jsx)("div",{className:"sample-tag text-pill type-backstory",children:"Backstory"}),(0,et.jsx)("div",{className:"sample-tag text-pill type-magic-item",children:"Magic Item"}),(0,et.jsx)("div",{className:"sample-tag text-pill type-plot-hook",children:"Plot Hooks"})]})})}),(0,et.jsx)("div",{className:"legend-section attitudes",children:(0,et.jsxs)("div",{className:"legend-player-row",children:[(0,et.jsxs)("div",{className:"legend-player-column",children:[(0,et.jsx)("div",{className:"legend-title",children:"Player Attitudes:"}),(0,et.jsxs)("div",{className:"attitude-row",children:[(0,et.jsx)("span",{className:"attitude like",children:"Like"}),(0,et.jsx)("span",{className:"attitude hate",children:"Hate"}),(0,et.jsx)("span",{className:"attitude neutral",children:"Mixed"})]})]}),(0,et.jsxs)("div",{className:"legend-player-column",children:[(0,et.jsx)("div",{className:"encounter-rp-character-container",children:(0,et.jsx)("div",{className:"legend-player-row",children:e.map((e=>(0,et.jsx)(at,{imageId:e.icon},e.id)))})}),(0,et.jsx)("div",{className:"legend-character-info",children:"+2/-1 Attention"})]})]})})]})})()}),(0,et.jsxs)("div",{className:"encounter-roleplay-text",children:[(0,et.jsxs)("div",{className:"encounter-roleplay-title",children:["Roleplay in ",t.location.name]}),(0,et.jsx)("div",{className:"encounter-roleplay-instructions",children:E})]}),(0,et.jsxs)("div",{className:"encounter-roleplay-skill-container",children:[(0,et.jsx)(Qt,{totalSegments:5,filledSegments:p,theme:"engagement",label:"Party Patience"}),(0,et.jsx)("div",{className:"encounter-roleplay-hurry-button "+(p<=0?"disabled":""),onClick:()=>{p>0&&(l.addPartyTension(10),f(p-1),i.dmMessage(["Lets moooove along!","Blah Blah blah","Theres a lot more game to get to."]),g(r.generateRoleplayEventTags("")))},children:"Hurry Players"}),(0,et.jsx)("div",{className:"encounter-roleplay-hurry-text",children:p>0?"+10 Tension":""})]})]}),(0,et.jsxs)("div",{className:`encounter-roleplay-flavor-tags-container  ${p<=0?"disabled":""} `,ref:v,children:[an.map(((e,t)=>(0,et.jsx)("div",{className:`band-label ${p<=0?"disabled":""} `,style:{top:e.top},children:e.text},`band-label-${t}`))),m.map(((e,t)=>{var n,r,s,i,l;return e.tag?(0,et.jsxs)("div",{className:`encounter-flavor-tag text-pill theme-${e.tag.theme} \n\t\t\t\t\t\ttype-${e.tag.source} \n\t\t\t\t\t\t${l=e.tag.tag,a.getPlayerAttitudesStyle(l)}`,style:d[t],"data-tooltip":`${y(e)}`,onClick:()=>b(e,t),children:[null===(n=e.tag)||void 0===n||null===(r=n.tag)||void 0===r?void 0:r.name,(0,et.jsx)("div",{className:"tooltip-text",children:y(e)})]},t):(0,et.jsxs)("div",{className:"encounter-rp-character theme-character",style:d[t],"data-tooltip":`${y(e)}`,onClick:()=>b(e,t),children:[(0,et.jsxs)("div",{className:"encounter-rp-character-container",children:[(0,et.jsx)(at,{imageId:null===(s=e.character)||void 0===s?void 0:s.icon}),(0,et.jsx)("div",{className:"encounter-rp-character-name",children:null===(i=e.character)||void 0===i?void 0:i.name})]}),(0,et.jsx)("div",{className:"tooltip-text",children:y(e)})]},t)}))]})]})},rn=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Town"})})},sn=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Trap"})})},ln=["Score","Tension on fail","Expected Reward"],on=e=>{let{results:t,resultsValues:a}=e;const r=a[0].length,s=It(),i=s.getCombatManager(),[l,o]=(s.getPartyManager(),s.getChatManager(),s.getCampaignManager().getCollectedThemes(),(0,n.useState)(a)),[c,u]=(0,n.useState)(t),d=100/r,h=c*d+d/2+"%";(0,n.useEffect)((()=>{u(t)}),[t]);const m=e=>{const t=2===e,a=((e,t)=>{const a=["engagement","stress","reward"][t],n=Math.min(...e),r=Math.max(...e);return e.map((e=>i.generateColorFromValue(e,n,r,a)))})(l[e],e),n=l[e],s=Array.from({length:r},((e,r)=>(0,et.jsx)("div",{className:`challenge-bar-segment  \n                ${r===c?"highlighted":""}\n                ${t?"reward":""}\n            `,style:{backgroundColor:a[r]||""},children:(0,et.jsx)("div",{className:"label",children:n[r]})},r)));return(0,et.jsx)("div",{className:"challenge-bar",children:(0,et.jsx)("div",{className:"segment-container",children:s})})};return(0,et.jsx)("div",{className:"challenge-reward-row",children:(0,et.jsxs)("div",{className:"challenge-bar-container",children:[(0,et.jsx)("div",{className:"challenge-bar-results-label",children:"RESULTS"}),(0,et.jsx)("div",{className:"challenge-labels",children:ln.map(((e,t)=>(0,et.jsx)("div",{className:"challenge-label",children:e},t)))}),(0,et.jsxs)("div",{className:"challenge-bars",children:[(0,et.jsx)("div",{className:"segment-numbers",children:Array.from({length:r},((e,t)=>(0,et.jsx)("div",{className:"segment-number",children:t},t)))}),(0,et.jsx)("div",{className:"challenge-arrow",style:{left:h}}),l.map(((e,t)=>(0,et.jsx)("div",{className:"segment-instance",children:m(t)},t)))]})]})})},cn=e=>{if(e.attributeDefault)switch(e.attributeDefault){case"furniture":return{combat:1,tools:2};case"food":return{tools:2};default:return{tools:1}}else switch(e){case ga.RACE.HUMANS:return{combat:2,tools:2};case ga.RACE.HALFLINGS:return{combat:1,tools:2,magic:1};case ga.EVENTS.MYSTERIES:return{magic:1,tools:1};case ga.MONSTERS.CULTISTS:return{magic:3,tools:1}}return{}},un={CHARACTER_NAMES:[["Godfrey","Sable","Saul","Jimbo","Neb","Nestrin","Dirk","Crystal","Immeral","Olga","Ricky"],["Rose","Goodwyne","Halfheart","Farmer","Taylor","of the Sea","Trainer","of the Woods","Silkmonger","Smith"]],PLAYER_NAMES:[["Olivier","Dan","Matt","Maxim","Angie","Charlotte","Dawn","Bill","Tom","Sarah"],["Brass","Andrews","Wallace","Skuski","Kubrik","Binchs","Wells","Anteds","Kruk","Madup"]]};const dn=e=>e[Math.floor(Math.random()*e.length)],hn=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return dn(e?un.CHARACTER_NAMES[0]:un.PLAYER_NAMES[0])+" "+dn(e?un.CHARACTER_NAMES[1]:un.PLAYER_NAMES[1])};const mn=25,gn=10,pn={CHALLENGE_PER_HERO:5},fn={BACKSTORY_ASSIGNED:10,MAGIC_ITEM_INTRODUCED:5,MAGIC_ITEM_FOUND:15,BACKSTORY_FULFILLED:20},vn={LOCATION_DESCRIBED:1,FORESHADOWED_ENCOUNTER:5,ENCOUNTER_TAG_RESOLVED:10},yn=e=>{var t;let{challengeAssistTags:a,challengeHeroes:r,challengeTags:s,attemptCallback:i,sawResultsCallback:l,heroesEnabledCallback:o}=e;const d=wt(),h=Ot(),m=Lt(),g=Rt(),[p,f]=(0,n.useState)(1),[v,y]=(0,n.useState)(0),[b,E]=(0,n.useState)(0),[x,N]=(0,n.useState)(!1),[S,C]=(0,n.useState)(Array(s.length).fill(!1)),[T,A]=(0,n.useState)(!1),k=S.every((e=>e)),M=(e,t)=>{let a,n=[],r=cn(e);return Object.keys(r).forEach((e=>{if(r[e])for(let s=0;s<r[e]*t;s++)a=d.getUFAttributeSymbol(e),n.push((0,et.jsx)("span",{className:`attribute-icon ${e}`,children:a},`${e}-${s}`))})),n},j=e=>h.getEstablishedTags().some((t=>t.name===e.name))||h.getCollectedLocationTags().some((t=>t.name===e.name));(0,n.useEffect)((()=>{N(!1),S[v]?o(!1):o(!0),j(s[v])?0===p&&f(1):f(0)}),[v,S]);const w=e=>e?(0,et.jsxs)("div",{className:"challenge-assistance-hero",children:[(0,et.jsx)("div",{className:"challenge-assistance-hero-name",children:e.name}),(0,et.jsx)(Wt,{hero:e,collapsed:!0,showAttributeLoss:!1,category:u.ALL})]}):(0,et.jsx)("div",{className:"challenge-assistance-hero no-hero",children:"Ask a player to select a hero to attempt the challenge."}),R=(e,t,a,n)=>{if(0===a.length)return{base:0,combat:0,magic:0,tools:0,total:0};let r=cn(e),s=((e,t)=>{let a={};return e.forEach((e=>{e.npcTag&&(e=d.generateNPC(e.npcTag));let t=Gt(e.character,!0);Object.keys(t).forEach((e=>{a[e]?a[e]+=t[e]:a[e]=t[e]}))})),t.forEach((e=>{let t=cn(e);Object.keys(t).forEach((e=>{a[e]&&t[e]?a[e]=(a[e]||0)+t[e]:a[e]=t[e]}))})),a})(a,n);const i=t+1;let l=(r[c.COMBAT]||0)*(i||1),o=(r[c.MAGIC]||0)*(i||1),u=(r[c.TOOLS]||0)*(i||1),h=s[c.COMBAT]||0,m=s[c.MAGIC]||0,g=s[c.TOOLS]||0,p=0===l?0:-5*(l-h),f=0===o?0:-5*(o-m),v=0===u?0:-5*(u-g);var y,b,E;return{base:75,combat:p,magic:f,tools:v,total:(y=75+p+f+v,b=5,E=95,Math.min(Math.max(y,b),E))}};(0,n.useEffect)((()=>{}),[x]);return(0,et.jsxs)("div",{className:"challenge-display-column",children:[(0,et.jsxs)("div",{className:"challenge-tag-container",children:[(0,et.jsx)("div",{className:"challenge-tag-ui prev",onClick:()=>{y(v>0?v-1:s.length-1),l()},children:(0,et.jsx)("div",{className:"challenge-tag-ui-text",children:"<"})}),(0,et.jsx)("div",{className:`challenge-current-tag text-pill theme-${s[v]} ${j(s[v])?" type-encounter":"expected"} `,children:null===(t=s[v])||void 0===t?void 0:t.name}),(0,et.jsx)("div",{className:"challenge-tag-ui next",onClick:()=>{v<s.length-1?y(v+1):y(0),l()},children:(0,et.jsx)("div",{className:"challenge-tag-ui-text",children:">"})})]}),S[v]&&!x?(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{className:"challenge-succeeded-instructions",children:k?"Players have completed all Challenges. Reward them.":"Continue the challenge with another element or reward the players and move on."}),(0,et.jsx)("div",{className:"challenge-succeeded",children:"CHALLENGE SUCCEEDED"})]}):(0,et.jsxs)("div",{className:"challenge-display-container",children:[(0,et.jsx)("div",{className:"challenge-display",children:(0,et.jsxs)("div",{className:"challenge-display-row",children:[p>0&&(0,et.jsx)("div",{className:"challenge-difficulty-ui difficulty-down",onClick:()=>{f(1===p?3:p-1)},children:(0,et.jsx)("div",{className:"challenge-difficulty-ui-text",children:"-"})}),(0,et.jsxs)("div",{className:"challenge-display-header-column",children:[(0,et.jsx)("div",{className:"challenge-display-instructions",children:0===p?`Players haven't been exposed to ${s[v].name} yet. Introduce the new topic with a simple challenge.`:"Set the challenge rating and raise or lower the expected reward."}),(0,et.jsx)("div",{className:"challenge-tag-attribute-container",children:M(s[v],p+1)}),(0,et.jsxs)("div",{className:"challenge-difficulty-display-difficulty",children:[p>0&&(0,et.jsxs)("div",{children:[(e=>{switch(e){case 0:return"Establishing";case 1:return"Easy";case 2:return"Challenging";case 3:return"Difficult";default:return""}})(p)," "]}),(0,et.jsxs)("div",{children:[(e=>{switch(e){case 0:default:return"";case 1:return"+1 result";case 2:return"+2 result";case 3:return"+3 result"}})(p)," "]})]})]}),p>0&&(0,et.jsx)("div",{className:"challenge-difficulty-ui difficulty-up",onClick:()=>{f(3===p?1:p+1)},children:(0,et.jsx)("div",{className:"challenge-difficulty-ui-text",children:"+"})})]})}),(0,et.jsx)("div",{className:"challenge-assistance-container",children:(0,et.jsxs)("div",{className:"challenge-assistance-list",children:[(0,et.jsx)("div",{className:"challenge-assistance-list-column",children:r.length>0?r.map(((e,t)=>(0,et.jsx)("div",{children:w(e)},e.name||t))):(0,et.jsx)("div",{className:"challenge-assistance-list-no-heroes",children:w()})}),(0,et.jsx)("div",{className:"challenge-assistance-list-column",children:a.length>0?a.map(((e,t)=>(0,et.jsxs)("div",{className:"challenge-assistance-tag",children:[(0,et.jsx)("div",{className:"challenge-assistance-tag-name-container",children:(0,et.jsx)("div",{className:"challenge-assistance-tag-name text-pill type-location",children:null===e||void 0===e?void 0:e.name})}),e&&M(e,1)]},t))):null})]})}),(0,et.jsx)("div",{className:"challenge-display-footer",children:(0,et.jsxs)("div",{className:"challenge-attempt-attempt-row",children:[((e,t,a,n)=>{const r=R(e,t,a,n);return(0,et.jsxs)("div",{className:"challenge-display-footer-legend-container",children:[(0,et.jsxs)("div",{className:"challenge-display-legend-info",children:[(0,et.jsxs)("div",{className:"challenge-display-legend-item",children:[(0,et.jsx)("u",{children:"Base"}),(0,et.jsx)("br",{}),r.base,"%",(0,et.jsx)("br",{})]}),(0,et.jsxs)("div",{className:"challenge-display-legend-item",children:[(0,et.jsx)("u",{children:"\u2694\ufe0f"}),(0,et.jsx)("br",{}),r.combat<0?"":"+",r.combat,"%",(0,et.jsx)("br",{})]}),(0,et.jsxs)("div",{className:"challenge-display-legend-item",children:[(0,et.jsx)("u",{children:"\u2728"}),(0,et.jsx)("br",{}),r.magic<0?"":"+",r.magic,"%",(0,et.jsx)("br",{})]}),(0,et.jsxs)("div",{className:"challenge-display-legend-item",children:[(0,et.jsx)("u",{children:"\ud83d\udd27"}),(0,et.jsx)("br",{}),r.tools<0?"":"+",r.tools,"%",(0,et.jsx)("br",{})]})]}),(0,et.jsx)("div",{className:"challenge-display-legend-info",children:(0,et.jsx)("div",{className:"challenge-display-legend-item",children:"+5 Exhaustion / Hero"})}),(0,et.jsx)("div",{className:"challenge-display-legend-info",children:(0,et.jsx)("div",{className:"challenge-display-legend-item",children:"+10 Score / Location Element"})})]})})(s[v],p,r,a),x?(0,et.jsxs)("div",{className:"challenge-result-container",children:[(0,et.jsx)("div",{className:"challenge-result-header",children:(0,et.jsx)("u",{children:T?"FAILED":0===p?"Established":"SUCCEEDED"})}),(0,et.jsxs)("div",{className:"challenge-result-info",children:[(0,et.jsx)("div",{className:"challenge-result-labels",children:["Needed:","Rolled:"].map(((e,t)=>(0,et.jsx)("div",{className:"result-label",children:e},t)))}),(0,et.jsx)("div",{className:"challenge-result-values",children:[R(s[v],p,r,a).total,b].map(((e,t)=>(0,et.jsx)("div",{className:"result-label",children:e},t)))})]}),(0,et.jsx)("div",{className:"challenge-result-button",onClick:()=>(N(!1),0!==p||T||f(1),void l()),children:"OK"})]}):(0,et.jsx)("div",{className:`challenge-attempt-button ${S[v]?"completed":""}\n                                ${S[v]||0===r.length?"disabled":""}`,onClick:()=>((e,t,a,n)=>{o(!1),m.updateAttention(a.map((e=>{var t;return e.character?null===(t=g.getPlayerAssignedCharacter(e.character.id))||void 0===t?void 0:t.name:""})).filter((e=>void 0!==e&&""!==e)));const r=Math.ceil(100*Math.random());E(r);const s=R(e,t,a,n);m.addPartyScore(gn);const l=r<=s.total;if(l)if(A(!1),i(l,t,e),t>0){let e=[...S];e[v]=!0,C(e)}else h.resolveExpectedTagsForBranch(e);else A(!0),i(!1,t,e);N(!0)})(s[v],p,r,a),children:(0,et.jsxs)("div",{children:[0===p?"ESTABLISH":"ATTEMPT",(0,et.jsxs)("div",{className:"challenge-attempt-button-success",children:[R(s[v],p,r,a).total,"%"]}),(0,et.jsx)("div",{className:"challenge-attempt-exhaustion",children:pn.CHALLENGE_PER_HERO*(r.length||1)+" Exhaustion"})]})})]})})]})]})},bn=e=>{var t,a,r,s;let{encounter:i}=e;const l=[[0,5,10,15,25,35,40,50,75,100],[5,7,10,12,15,18,22,26,30,35],[1,1,1,2,2,3,3,3,4,5]],o=It(),c=o.getPartyManager(),d=Ot(),h=Pt(),m=o.getChatManager(),g=Rt();let p=(null===(t=d.currentEncounter)||void 0===t?void 0:t.location.tags)||[];const f=d.getCollectedLocationTagsForChallenge(),[v,y]=(0,n.useState)(new Array(p.length).fill(!1)),[b,E]=(0,n.useState)([]),[x,N]=(0,n.useState)([]),[S,C]=(0,n.useState)(c.generateHeroes([])),[T,A]=(0,n.useState)(new Array(S.length).fill(null)),[k,M]=(0,n.useState)(0),[j,w]=(0,n.useState)(0),[R,I]=(0,n.useState)(!0),[O,L]=(0,n.useState)({}),P=null===(a=d.currentEncounter)||void 0===a?void 0:a.challenge,_=P&&(null===(r=P[0])||void 0===r?void 0:r.name)||"Skill Challenge",F=P&&(null===(s=P[0])||void 0===s?void 0:s.description)||"You must overcome a challenge to proceed.",D=p.filter((e=>!f.some((t=>t.name===e.name)))),B=e=>T[e],U=e=>{L((t=>({...t,[e]:Math.random()})))},G=e=>!!T[e]||!!b.includes(S[e])&&!(f.length<=x.length),H=(e,t)=>{const a=[...T];a[e]=t,A(a);const n=Math.floor(3*Math.random());let r=`Could I use ${t.name} here?`;switch(n){case 0:r=`Oh! I'll use the ${t.name} we were talking about earlier!`;break;case 1:r=`${t.name} will give me a bit of an edge.`;break;case 2:r=`I think ${t.name} will help me out here.`;break;default:r=`Could I use ${t.name} here?`}m.playerMessage(r,e)},z=e=>{const t=[...v];t[e]=!t[e],y(t),x.includes(f[e])?N(x.filter((t=>t.name!==f[e].name))):N([...x,f[e]])};(0,n.useEffect)((()=>{m.dmMessage(F)}),[]);const W=e=>{var t;return(null===(t=T[e])||void 0===t?void 0:t.name)||"Select a Tag"},K=e=>b.includes(S[e]),Q=e=>{const t=T[e];if(t){const a=[...T];a[e]=null,A(a),N(x.filter((e=>e.name!==t.name))),y(v.map(((e,a)=>{var n;return(null===(n=f[a])||void 0===n?void 0:n.name)!==t.name&&e})))}},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"DESELECT":0===b.length?e?"ATTEMPT":"Attempt":e?"ASSIST":"Assist"};return(0,et.jsx)("div",{className:"game-encounter-challenge",children:(0,et.jsxs)("div",{className:"challenge-container",children:[(0,et.jsxs)("div",{className:"challenge-top-bar",children:[(0,et.jsx)("div",{className:"encounter-title",children:_}),(0,et.jsx)("div",{className:"encounter-title desc",children:F})]}),(0,et.jsxs)("div",{className:"challenge-body",children:[(0,et.jsxs)("div",{className:"challenge-character-list",children:[(()=>{var e;return(0,et.jsxs)("div",{className:"challenge-encounter-available-tags",children:["Elements of ",null===(e=d.currentEncounter)||void 0===e?void 0:e.location.name,(0,et.jsxs)("div",{className:"challenge-location-tags-container",children:[f.map(((e,t)=>(0,et.jsx)("div",{className:"challenge-location-tag",children:(0,et.jsx)("div",{className:"challenge-location-tag-name text-pill type-location "+(v[t]?"used":""),onClick:()=>z(t),children:e.name})},e.name))),D.map(((e,t)=>(0,et.jsx)("div",{className:"challenge-location-tag",children:(0,et.jsx)("div",{className:"challenge-location-tag-name text-pill expected  "+(v[t]?"used":""),children:e.name})},e.name)))]})]})})(),(0,et.jsxs)("div",{className:"challenge-encounter-heroes",children:[(0,et.jsxs)("div",{className:"challenge-encounter-available-tags-title",children:["Choose Hero to ",Y()]}),S&&S.map(((e,t)=>(0,et.jsx)("div",{className:"challenge-encounter-hero-row",children:(0,et.jsxs)("div",{className:"challenge-encounter-hero-container",children:[(0,et.jsxs)("div",{className:`challenge-encounter-hero ${K(t)?"selected ":""} `,children:[(0,et.jsx)("div",{className:"challenge-encounter-hero-name",children:e.name}),(0,et.jsx)("div",{className:"challenge-character-icon",children:(0,et.jsx)(at,{imageId:e.icon})}),e.character&&"injured"===e.character.injury&&(0,et.jsx)("div",{className:"challenge-encounter-hero-injury"}),e.character&&"dead"===e.character.injury&&(0,et.jsx)("div",{className:"challenge-encounter-hero-injury dead"})]}),(0,et.jsx)("div",{className:"challenge-encounter-hero-attributes",children:(0,et.jsx)(Wt,{hero:e,category:u.ALL,showAttributeLoss:!0})}),(0,et.jsx)("div",{className:"challenge-encounter-hero-ui",children:(0,et.jsxs)("div",{className:"challenge-assist-column",children:[(0,et.jsx)(Za,{className:`challenge-assist-button assist ${K(t)?"selected ":" "} ${R?"":"disabled"} `,regenerateKey:O[t],onClick:e=>((e,t)=>{const a=g.getPlayerAssignedCharacter(e),n=b.length>0;if(console.log("Theme? ",t),b.includes(S[e]))E(b.filter((t=>t.name!==S[e].name))),T[e]&&Q(e),a&&m.playerMessage(`Actually, ${S[e].name} is going to sit this one out...`,a.id);else if(E([...b,S[e]]),a)if(n)if(t)switch(t){case"comedic":m.playerMessage(`Heehee...${S[e].name} will help.`);break;case"heroic":m.playerMessage(`${S[e].name} will assist.... FOR JUSTICE!`);break;case"serious":m.playerMessage(`${S[e].name} better help out. This is serious.`);break;case"dramatic":m.playerMessage(`To aid in your hour of need, ${S[e].name} will help!`);break;case"grim":m.playerMessage(`Maybe we will both die, but ${S[e].name} will help.`);break;case"romantic":m.playerMessage(`Maybe you want some company doing that...?  ${S[e].name} can help out.`);break;case"fantasy":m.playerMessage(`Like in all good stories, heroes stick together... ${S[e].name} will help!`);break;case"horror":m.playerMessage(`It gives me the chills, but ${S[e].name} will help anyway.`)}else m.playerMessage(`${S[e].name} can help!`,a.id);else if(t)switch(t){case"comedic":m.playerMessage(`Heehee...${S[e].name} will do this, but while singing in a high-pitched voice.`);break;case"heroic":m.playerMessage(`${S[e].name} will do this FOR JUSTICE!`);break;case"serious":m.playerMessage(`Lets stop fooling around. ${S[e].name} will do this.`);break;case"dramatic":m.playerMessage(`For the glory of whatever we are doing, ${S[e].name} will do this.`);break;case"grim":m.playerMessage(`If ${S[e].name} dies doing this, so be it.`);break;case"romantic":m.playerMessage(`OooOooh. I think ${S[e].name} can handle this in style...`);break;case"fantasy":m.playerMessage(`${S[e].name} will do this with magic or something fantastical...`);break;case"horror":m.playerMessage(`There's something creepy about this, but ${S[e].name} will do it anyway.`)}else m.playerMessage(`${S[e].name} will attempt this challenge!`,a.id)})(t,e),children:Y(!0,K(t))}),(0,et.jsxs)("div",{className:`challenge-assist-button location ${G(t)?"":"disabled"} ${R?"":"disabled"}`,children:[(0,et.jsx)("div",{className:`challenge-use-label text-pill use ${B(t)?"hidden":""} `,onClick:()=>{(e=>{if(G(e)&&!(f.length<=x.length))for(let t=0;t<f.length;t++){const a=f[t];if(!x.includes(a)&&!v[t]){H(e,a);const t=f.findIndex((e=>e.name===a.name));z(t);break}}})(t)},children:"inspiration"}),(0,et.jsx)("div",{className:"challenge-use-label text-pill  type-location applied-tag "+(B(t)?"":"hidden"),onClick:()=>Q(t),children:W(t)})]})]})})]})},e.name)))]})]}),(0,et.jsx)("div",{className:"challenge-display-container",children:(0,et.jsx)(yn,{challengeTags:(()=>{const e=d.getCurrentEvent();return e&&e.tags?e.tags:d.getEncounterTags()})(),challengeAssistTags:x,challengeHeroes:b,attemptCallback:(e,t,a)=>{const n=d.getEncounterChatTrigger(a);if(!d.getEstablishedTags().includes(a)&&n)m.fireNewChatMessage(n);else{var r;const t=g.getPlayerAssignedCharacter((null===(r=b[0].character)||void 0===r?void 0:r.id)||0);t&&(e?b.length>1?m.playerMessage("This challenge is no match for our combined skills!",t.id):Math.random()<.25?m.playerMessage("Boom. Success. NEXT Challenge.",t.id):m.playerMessage("Yeah!",t.id):b.length>1?m.playerMessage("Even with our combined skills we still failed?!",t.id):Math.random()<.25?m.playerMessage("NOOOO. Oooooo. Ooo.",t.id):m.playerMessage("Maybe someone else should try...",t.id))}c.exhaustParty(b.length*pn.CHALLENGE_PER_HERO),e?M(k+t):(w(j+1),c.addPartyTension(l[1][k]))},sawResultsCallback:()=>{N([]),E([]),A(new Array(S.length).fill(null)),I(!0),(()=>{L({});for(let e=0;e<S.length;e++)U(e)})()},heroesEnabledCallback:e=>{I(e)}})})]}),(0,et.jsx)("div",{className:""}),(0,et.jsxs)("div",{className:"challenge-footer",children:[(0,et.jsx)("div",{className:"challenge-reward-track",children:(0,et.jsx)(on,{results:k,resultsValues:l})}),(0,et.jsxs)("div",{className:"challenge-rewards-ui-container",children:[(0,et.jsxs)("div",{className:"challenge-failure",children:[(0,et.jsx)("div",{className:"challenge-failure-title",children:"Failures"}),(0,et.jsx)("div",{className:"challenge-display-failures",children:Array.from({length:3}).map(((e,t)=>(0,et.jsx)("span",{className:"failure-circle "+(t<j?"filled":"")},t)))})]}),(0,et.jsx)("div",{className:"challenge-accept-results",onClick:()=>(c.addPartyScore(l[0][k]),void h.showRewardModal(l[2][k],!0)),children:"ACCEPT RESULTS"})]})]})]})})},En=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Puzzle"})})},xn=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Story"})})},Nn=e=>{let{encounter:t}=e;return(0,et.jsx)("div",{className:"game-encounter-combat",children:(0,et.jsx)("div",{className:"encounter-type-title",children:"Travel"})})},Sn=e=>{let{size:t,color:a,style:n}=e;return(0,et.jsx)("div",{style:{position:"absolute",width:t,height:t,...n},children:(0,et.jsx)("div",{style:{position:"absolute",width:.6*t,height:.6*t,borderRadius:"50%",backgroundColor:a,left:"20%",top:"20%"}})})},Cn={town:{backgroundColor:"#765f4a",shapes:[{type:"rectangle",minSize:7,maxSize:14,count:{min:10,max:20},color:"#695a4b",rotate:!1}]},forest:{backgroundColor:"#2F4F2F",shapes:[{type:"tree",minSize:80,maxSize:200,count:{min:50,max:100},color:"#1B3B1B"}]},brewery:{backgroundColor:"#765f4a",shapes:[{type:"furniture",minSize:80,maxSize:200,count:{min:50,max:100},color:"#695a4b"}]}},Tn=e=>{const t=[],a=Math.floor(Math.random()*(e.count.max-e.count.min+1))+e.count.min;for(let n=0;n<a;n++){const a=Math.floor(Math.random()*(e.maxSize-e.minSize+1))+e.minSize,r={left:100*Math.random()+"%",top:100*Math.random()+"%",transform:e.rotate?`rotate(${360*Math.random()}deg)`:""};t.push({id:n,size:a,style:r,type:e.type,color:e.color})}return t},An=e=>{let{theme:t,regenKey:a}=e;const n=Cn[t],r=n.shapes.flatMap(Tn);return(0,et.jsx)("div",{className:`encounter-scenery-container ${t}`,style:{backgroundColor:n.backgroundColor},children:(0,et.jsx)("div",{className:"encounter-scenery-background",children:r.map((e=>{switch(e.type){case"tree":return(0,et.jsx)(Sn,{...e,style:e.style||{}},e.id);case"rectangle":const t=e.size+Math.random()*e.size/2+"%",a=e.size+Math.random()*e.size/2+"%";return(0,et.jsx)("div",{style:{position:"absolute",width:t,height:a,backgroundColor:e.color,...e.style}},e.id);default:return null}}))})})},kn=e=>{let{encounter:t,showOverview:a}=e;const[r,s]=(0,n.useState)(t.events),[i,l]=(0,n.useState)(!1),o=Ot(),c=Pt(),u=t.location.themes[0],[d,h]=(0,n.useState)(o.getEncounterState()),[m,g]=(0,n.useState)(c.showImageForEvent());(0,n.useEffect)((()=>{const e=()=>{l(!i)};return c.on("forceupdateHACK",e),()=>{c.off("forceupdateHACK",e)}}),[c,i]),(0,n.useEffect)((()=>{const e=()=>{const e=o.getEncounterState();void 0!==(null===e||void 0===e?void 0:e.sessionState)&&void 0!==e.eventIndex&&h({...e})};return c.on("updateEncounterState",e),c.on("eventUpdated",(()=>{g(c.showImageForEvent())})),()=>{c.off("updateEncounterState",e)}}),[o,c]);const p=e=>{if(!d)return null;switch(t.events[d.eventIndex].type){case lt.COMBAT:return(0,et.jsx)(Ja,{encounter:t});case lt.ROLEPLAY:return(0,et.jsx)(nn,{encounter:t});case lt.PUZZLE:return(0,et.jsx)(En,{encounter:t});case lt.PERCEPTION:return(0,et.jsx)(tn,{encounter:t});case lt.TOWN:return(0,et.jsx)(rn,{encounter:t});case lt.TRAVEL:return(0,et.jsx)(Nn,{encounter:t});case lt.CHALLENGE:return(0,et.jsx)(bn,{encounter:t});case lt.TRAP:return(0,et.jsx)(sn,{encounter:t});case lt.STORY:return(0,et.jsx)(xn,{encounter:t});case lt.EXPLORATION:return(0,et.jsx)($a,{encounter:t});default:return null}};return(0,et.jsx)("div",{className:`table-encounter-container ${u}`,children:a?(0,et.jsx)(Pa,{encounter:t}):(0,et.jsxs)("div",{className:"table-encounter-scene",children:[m?(0,et.jsx)("div",{className:"encounter-icon-container",children:(0,et.jsx)(at,{imageId:t.location.icon})}):(0,et.jsx)(An,{theme:u}),(0,et.jsx)("div",{className:"table-encounter-title",children:t.name}),(0,et.jsx)("div",{className:"table-encounter-session",children:(()=>{if(!d)return null;switch(d.sessionState){case S.LOCATION_INTRO:return(0,et.jsx)(Oa,{encounter:t});case S.INTRO_EVENTS:return p();case S.INTRO_MAIN:return(0,et.jsx)("div",{children:"Intro Main"});case S.MAIN_EVENTS:return p();case S.INTRO_EXIT:return(0,et.jsx)("div",{children:"Intro Exit"});case S.EXIT_EVENTS:return p();case S.EXIT:return(0,et.jsx)("div",{children:"Exit"})}})()})]})})},Mn=[{name:"Gold",value:1,type:M.TREASURE,cost:1,description:"Increase all players happiness by one"},{name:"Gear",value:1,type:M.TOOLS,cost:1,description:"Replenish all tools for all players"},{name:"Healing",value:1,type:M.HEALING,cost:1,description:"Remove wounded state from all characters"},{name:"Plot Hook",value:1,type:M.PLOT_HOOK,cost:1,description:"Reveal information about the plot. Restore full attention"},{name:"Replenish Magic",value:2,type:M.MAGIC,cost:2,description:"Replenish all Magic for all characters"},{name:"Raise Dead",value:2,type:M.HEALING,cost:2,description:"Raise a dead character"},{name:"Treasure Chest",value:2,type:M.TREASURE,cost:3,description:"Increase all player happiness by two"},{name:"Level Up",value:1,type:M.XP,cost:3,description:"Level up the lowest level Character"}],jn=e=>{let{rewardsAcceptedCallback:t}=e;const a=Pt(),r=Lt(),s=Ot(),[i,l]=n.useState(!1),[o,c]=n.useState(0),[d,h]=(0,n.useState)([]),m=d.reduce(((e,t)=>e+t.cost),0),[g,p]=(0,n.useState)([]),[f,v]=(0,n.useState)(r.generateHeroes([])),[y,b]=(0,n.useState)(!1),E=()=>m<o?"low":m===o?"match":"high";(0,n.useEffect)((()=>{if(i){const e=[...Mn],t=s.getExpectedGear();h([]),t.length>0&&e.push({name:"Magic Item",value:1,type:M.ITEM,cost:2,description:t[0].name,tag:t[0]}),p(e)}}),[s,i]),(0,n.useEffect)((()=>{const e=(e,t)=>{e>0?(l(!0),c(e),b(t)):l(!1)};return a.on("showRewardModal",e),()=>{a.off("showRewardModal",e)}}),[a]);const x=()=>{t(d,m-o,y),l(!1)};return i?(0,et.jsx)("div",{className:"reward-modal-container",children:(0,et.jsxs)("div",{className:"reward-modal-body",children:[(0,et.jsxs)("div",{className:"reward-modal-title",children:[(0,et.jsx)("div",{className:"reward-modal-title-text",children:"Reward your players"}),(0,et.jsxs)("div",{className:"reward-modal-instructions",children:["Based on the diffifculty of the event, they expect the equivalent of ",o," rewards."]})]}),(0,et.jsxs)("div",{className:"reward-panels",children:[(0,et.jsxs)("div",{className:"panel too-low "+("low"===E()?"active":""),children:[(0,et.jsx)("div",{className:"panel-title",children:"Too Low"}),"low"===E()&&(0,et.jsxs)("div",{className:"panel-contents",children:[(0,et.jsx)("div",{className:"panel-value",children:m}),(0,et.jsx)("div",{className:"panel-low-text",children:((e,t)=>e-t===1?"All players \ud83d\ude1e":"All players \ud83d\ude1e\ud83d\ude1e")(o,m)}),(0,et.jsx)("button",{className:"accept-button",onClick:()=>x(),children:"ACCEPT"})]})]}),(0,et.jsxs)("div",{className:"panel match "+("match"===E()?"active":""),children:[(0,et.jsx)("div",{className:"panel-title",children:"Expected"}),(0,et.jsx)("div",{className:"panel-value expected",children:o}),"match"===E()&&(0,et.jsx)("button",{className:"accept-button",onClick:()=>x(),children:"ACCEPT"})]}),(0,et.jsxs)("div",{className:"panel too-high "+("high"===E()?"active":""),children:[(0,et.jsx)("div",{className:"panel-title",children:"Too High"}),"high"===E()&&(0,et.jsxs)("div",{className:"panel-contents",children:[(0,et.jsx)("div",{className:"panel-value",children:m}),(0,et.jsx)("div",{className:"panel-high-text",children:((e,t)=>t-e===1?"-50% Intensity":"-100% Intensity")(o,m)}),(0,et.jsx)("button",{className:"accept-button",onClick:()=>x(),children:"ACCEPT"})]})]})]}),(0,et.jsx)("div",{className:"reward-items-list",children:g.map((e=>(0,et.jsxs)("div",{className:"reward-item "+(d.includes(e)?"selected":""),onClick:()=>(e=>{if(d.includes(e))h(d.filter((t=>t!==e)));else{if(m+e.cost>o+2)return;h([...d,e])}})(e),children:[(0,et.jsxs)("div",{className:"item-header",children:[(0,et.jsx)("span",{className:"item-name",children:e.name}),(0,et.jsx)("span",{className:"item-cost",children:e.cost})]}),(0,et.jsx)("div",{className:"item-description",children:e.description})]},e.name)))}),(0,et.jsx)("div",{className:"reward-modal-heroes",children:f&&f.map(((e,t)=>(0,et.jsx)("div",{className:"reward-modal-hero-row",children:(0,et.jsxs)("div",{className:"reward-modal-hero-container",children:[(0,et.jsxs)("div",{className:"reward-modal-hero",children:[(0,et.jsx)("div",{className:"reward-modal-hero-name",children:e.name}),(0,et.jsx)("div",{className:"combat-character-icon",children:(0,et.jsx)(at,{imageId:e.icon})}),e.character&&"injured"===e.character.injury&&(0,et.jsx)("div",{className:"reward-modal-hero-injury"}),e.character&&"dead"===e.character.injury&&(0,et.jsx)("div",{className:"reward-modal-hero-injury dead"})]}),(0,et.jsx)("div",{className:"reward-modal-hero-attributes",children:(0,et.jsx)(Wt,{hero:e,category:u.ALL,showAttributeLoss:!0})})]})},e.name)))})]})}):null},wn=()=>{const e=Ot(),t=e.getCurrentEncounter(),a=It();return t?(0,et.jsx)("div",{className:"game-table-container",children:(0,et.jsxs)("div",{className:"game-table-slab",children:[(0,et.jsx)(kn,{encounter:t,showOverview:a.state===_t.SESSION_OVERVIEW}),(0,et.jsx)(jn,{rewardsAcceptedCallback:e.rewardsAccepted})]})}):null},Rn=(e,t,a,n,r)=>{const s=In(e,t,a,r),i=In(e,t,a,n),l=r-n<=180?"0":"1";return["M",s.x,s.y,"A",a,a,0,l,0,i.x,i.y].join(" ")},In=(e,t,a,n)=>{const r=(n-90)*Math.PI/180;return{x:e+a*Math.cos(r),y:t+a*Math.sin(r)}},On=e=>{let{value:t,max:a,segments:n=10,colors:r=["#FFA500","#FFD700","#FFD700","#ADFF2F","#ADFF2F","#ADFF2F","#32CD32","#eF4500","#eF4500","#FF0000"]}=e;const s=100,i=180;let l=t/a*i;const o={transform:`rotate(${l-180}deg)`,transformOrigin:"100px 100px"};return(0,et.jsx)("div",{className:"needle-gauge",children:(0,et.jsxs)("svg",{viewBox:"20 50 1 160",preserveAspectRatio:"xMidYMid meet",children:[(()=>{const e=[],t=i/r.length;for(let a=0;a<r.length;a++){const n=a*t-90,i=Rn(s,s,90,n,n+t);e.push((0,et.jsx)("path",{d:i,fill:"none",stroke:r[a],strokeWidth:20},a))}return e})(),(()=>{l=t/a*i;const e=[];for(let t=0;t<=n;t++){const a=(t/n*i+180)*(Math.PI/180),r=s*Math.cos(a)+s,l=s*Math.sin(a)+s,o=80*Math.cos(a)+s,c=80*Math.sin(a)+s;e.push((0,et.jsx)("line",{x1:r,y1:l,x2:o,y2:c,stroke:[1,3,6,7,9].includes(t)?"black":"#00000000",strokeWidth:"2"},t))}return e})(),(0,et.jsx)("line",{x1:s,y1:s,x2:200,y2:s,stroke:"#000000bb",strokeWidth:"5",style:o}),(0,et.jsx)("circle",{cx:s,cy:s,r:"5",fill:"white"})]})})},Ln=e=>{let{stress:t}=e;const a=Lt(),n=a.getStressColors(),r=n.length,s=Math.floor((t-1)/100*r),i=n[Math.min(s,r-1)];return(0,et.jsxs)("div",{className:"stress-info",style:{backgroundColor:i,transition:"background-color 0.3s ease"},children:[(0,et.jsx)("div",{className:"stress-value",children:t}),(0,et.jsx)("div",{className:"stress-description",children:(l=t,a.getTensionDescription(l))})]});var l},Pn=["#FFCCCC","#FFDDCC","#FFFFCC","#DDFFCC","#CCFFCC"],_n=["#AA0000","#663300","#666600","#336600","#006600"],Fn=e=>{let{player:t}=e;const a=wt(),[r,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),o=t.characters.map((e=>a.getCharacterByIndex(e))).filter((e=>void 0!==e)),c=Pt(),d=function(e){const t=e/5;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t<.3?"#fff200":t<.6?"#ffa500":"#ff4d4d":t<.3?"#ff4d4d":t<.6?"#ffa500":"#4CAF50"},h=t.preferences.filter((e=>e[1]>0)),p=t.preferences.filter((e=>e[1]<0)),f=t.traits;return(0,et.jsxs)("div",{className:"player-display",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>c.showBasicNotebook(g,t),children:[(0,et.jsx)("div",{className:"player-diamond",style:{backgroundColor:Pn[t.playerStats.enjoyment],borderColor:_n[t.playerStats.enjoyment]}}),(0,et.jsx)("div",{className:"player-icon-container",children:(0,et.jsx)(at,{imageId:t.icon})}),(0,et.jsx)("div",{className:"character-icons",children:o.map(((e,t)=>(0,et.jsxs)("div",{className:"character-icon-container",children:[i===t&&(0,et.jsxs)("div",{className:"character-tooltip",children:[(0,et.jsx)("div",{className:"tooltip-header",children:e.name}),(0,et.jsx)("div",{className:"tooltip-content",children:(0,et.jsx)(Wt,{hero:e,category:u.ALL,showAttributeLoss:!0,overviewDisplay:!0})})]}),(0,et.jsx)("div",{className:"character-icon",onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),onClick:t=>{t.stopPropagation(),c.showBasicNotebook(m,e)},children:(0,et.jsx)(at,{imageId:e.icon})},e.id)]},e.id)))}),(0,et.jsxs)("div",{className:"player-stats",children:[(0,et.jsx)("div",{className:"player-stat-label name",children:t.name}),(0,et.jsx)("div",{className:"player-stat-label",style:{color:d(t.playerStats.enjoyment)},children:"attitude"}),(0,et.jsx)("div",{className:"stat-bar",children:(0,et.jsx)("div",{className:"fill happiness",style:{width:t.playerStats.enjoyment/5*100+"%",backgroundColor:d(t.playerStats.enjoyment)}})}),(0,et.jsx)("div",{className:"player-stat-label",style:{color:d(t.playerStats.involvement)},children:"attention"}),(0,et.jsx)("div",{className:"stat-bar",children:(0,et.jsx)("div",{className:"fill attention",style:{width:t.playerStats.involvement/5*100+"%",backgroundColor:d(t.playerStats.involvement)}})}),(0,et.jsx)("div",{className:"player-stat-label",children:"stress"}),(0,et.jsx)("div",{className:"stat-bar",children:(0,et.jsx)("div",{className:"fill attention",style:{width:t.playerStats.stress/3*100+"%",backgroundColor:d(t.playerStats.stress,!0)}})})]}),r&&null===i&&(0,et.jsxs)("div",{className:"player-tooltip",children:[(0,et.jsx)("div",{className:"tooltip-header",children:t.name}),(0,et.jsxs)("div",{className:"tooltip-content",children:["Likes:",(0,et.jsx)("div",{className:"preference-list",children:h.map(((e,t)=>(0,et.jsx)("div",{className:"text-pill preference-item like",children:e[0].name},t)))})]}),(0,et.jsxs)("div",{className:"tooltip-content",children:["Hates:",(0,et.jsx)("div",{className:"preference-list",children:p.map(((e,t)=>(0,et.jsx)("div",{className:"text-pill preference-item hate",children:e[0].name},t)))})]}),f.length>0&&(0,et.jsxs)("div",{className:"tooltip-content",children:["Player Traits:",(0,et.jsx)("div",{className:"preference-list",children:f.map(((e,t)=>(0,et.jsxs)("div",{className:"preference-item trait ",children:[e.name,":",(0,et.jsx)("div",{children:e.description})]},t)))})]})]})]})},Dn=e=>{let{overviewMode:t=!1}=e;const a=It(),r=Rt().getPlayers(),s=Ot(),i=Pt(),l=a.getPartyManager(),[o,c]=(0,n.useState)(l.getPartyExhaustion()),[u,d]=(0,n.useState)(l.getPartyTension()),[h,m]=(0,n.useState)(l.getPartyScore());(0,n.useEffect)((()=>{const e=()=>{c(l.getPartyExhaustion())};return l.on("dmScreenUpdated",e),()=>{l.off("dmScreenUpdated",e)}}),[s]),(0,n.useEffect)((()=>{const e=()=>{d(l.getPartyTension()),m(l.getPartyScore())};return i.on("playerUpdate",e),()=>{i.off("playerUpdate",e)}}),[i]);a.state,_t.SESSION_OVERVIEW;return(0,et.jsxs)("div",{className:"gameroom-container",children:[(0,et.jsx)("div",{className:"gameroom-top-container",children:(0,et.jsxs)("div",{className:"player-display-container",children:[(0,et.jsxs)("div",{className:"player-row",children:[(0,et.jsx)("div",{className:"gameroom-player-row",children:r.map((e=>(0,et.jsx)(Fn,{player:e},e.id)))}),(0,et.jsx)("div",{className:"player-tension-holder",children:(0,et.jsxs)("div",{className:"stress-needle",children:[(0,et.jsx)(Ln,{stress:u}),(0,et.jsx)(On,{value:u/10,max:10}),(0,et.jsxs)("div",{className:"stress-label-containers",children:[(0,et.jsxs)("div",{className:"stress-labels",children:[(0,et.jsx)("div",{className:"stress-label",children:"TENSION"}),(0,et.jsx)("div",{className:"stress-label",children:u})]}),(0,et.jsxs)("div",{className:"stress-labels right",children:[(0,et.jsx)("div",{className:"stress-label",children:"SCORE"}),(0,et.jsx)("div",{className:"stress-label",children:l.getTensionDescription2(u)})]})]})]})}),(0,et.jsxs)("div",{className:"score-info",children:[(0,et.jsx)("div",{className:"score-label",children:"PARTY SCORE"}),(0,et.jsx)("div",{className:"score-value",children:h})]})]}),(0,et.jsx)("div",{className:"player-row-exhaustion",children:(0,et.jsxs)("div",{className:"party-exhaustion",children:[(0,et.jsx)("div",{className:"party-exhaustion-label",children:"PARTY EXHAUSTION"}),(0,et.jsx)("div",{className:"party-exhaustion-label number",children:o}),(0,et.jsx)(Qt,{totalSegments:20,filledSegments:o/5,theme:"exhaustion",label:""})]})})]})}),!t&&(0,et.jsx)("div",{className:"gameroom-table-row-container",children:(0,et.jsx)("div",{className:"gameroom-table-row",children:(0,et.jsx)(wn,{})})})]})},Bn=()=>{Ot();return(0,et.jsxs)("div",{className:"session-control-container",children:[(0,et.jsx)(Dn,{overviewMode:!0}),(0,et.jsx)("div",{className:"encounter-overview",children:(0,et.jsx)(Ia,{})})]})},Un=e=>{let{appManager:t}=e;return(0,et.jsx)("div",{className:"session-run-container",children:(0,et.jsx)(Dn,{})})},Gn=e=>{let{appManager:t}=e;return(0,et.jsx)("div",{className:"final-stats-container",children:"FINAL STATS"})},Hn=e=>{let{appManager:t}=e;return(0,et.jsx)("div",{className:"main-menu-container",children:(0,et.jsxs)("div",{className:"main-menu-content",children:[(0,et.jsx)("div",{className:"main-menu-options",children:(0,et.jsx)(ia,{buttonList:[E,x,b],highlight:E})}),(0,et.jsx)("div",{className:"game-start-container",children:(0,et.jsx)("div",{className:"buitton-container",children:(0,et.jsx)("div",{className:"quickstart-button  nav-button",onClick:()=>{t.initiateQuickStartSetup(),t.state=_t.SESSION_OVERVIEW},children:"Quick Start"})})})]})})},zn=e=>{let{chatMessage:t,newMessage:a}=e;const n=Pt(),r=t.message,s=n.getMessageIconId(t.speaker);let i=n.getMessageSpeakerName(t.speaker);return(0,et.jsxs)("div",{className:"chat-message-display",children:[(0,et.jsxs)("div",{className:"chat-message-speaker-container",children:[(0,et.jsx)("div",{className:"chat-message-speaker under-icon",children:i}),(0,et.jsx)("div",{className:"chat-message-icon",children:(0,et.jsx)(at,{imageId:s})})]}),(0,et.jsxs)("div",{className:"chat-messager-content",children:[(0,et.jsx)("div",{className:"chat-message-speaker  over-message",children:i}),(0,et.jsx)("div",{className:`chat-message-text ${t.speaker.type}`,children:(0,et.jsx)("div",{className:"chat-message-words",children:r})})]})]})},Wn=e=>{let{}=e;const t=(0,n.useRef)(null),[a,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),d=It().getChatManager();(0,n.useEffect)((()=>{s&&t.current&&(t.current.scrollTop=t.current.scrollHeight)}),[l,s]),(0,n.useEffect)((()=>{const e=e=>{r((t=>[...t,e])),o(e)};return d.on("chat-message",e),()=>{d.off("chat-message",e)}}),[d]);const h=()=>{i(!s)},m=()=>{u(!c),s&&i(!1)};return(0,et.jsxs)("div",{className:"chat-exterior "+(s?"expanded":""),children:[(0,et.jsxs)("div",{className:"chat-container",children:[(0,et.jsx)("div",{className:"new-message-container",children:c?(0,et.jsx)("div",{className:"chat-muted-message",children:"MUTED"}):!c&&l?(0,et.jsx)("div",{className:"chat-new-message",children:(0,et.jsx)(zn,{chatMessage:l,newMessage:!!l})}):null}),(0,et.jsxs)("div",{className:"chat-controls",children:[(0,et.jsx)("div",{className:"chat-toggle open "+(s?"expanded":"collapsed"),children:(0,et.jsx)("div",{className:"chat-toggle-icon",onClick:h,children:(0,et.jsx)("div",{className:"chat-messages-count-container",children:(0,et.jsx)("div",{className:"chat-toggle-text open",children:s?"-":"\u2261"})})})}),(0,et.jsx)("div",{className:"chat-toggle mute "+(c?"muted":""),children:(0,et.jsx)("div",{className:"chat-toggle-text",onClick:m,children:c?"O":"X"})})]})]}),!c&&s&&0!==a.length?(0,et.jsx)("div",{className:"chat-expanded",children:(0,et.jsx)("div",{className:"chat-expanded-container",ref:t,children:(0,et.jsx)("div",{className:"chat-expanded-messages",children:a.map(((e,t)=>(0,et.jsx)("div",{className:"chat-message-container",children:(0,et.jsx)(zn,{chatMessage:e})},t)))})})}):null]})},Kn=e=>{let{themes:t,maxSegments:a,onRedeem:n}=e;return(0,et.jsxs)("div",{className:"tone-tracker",children:[(0,et.jsx)("div",{className:"tone-header",children:(0,et.jsx)("span",{className:"tone-title",children:"Session Themes"})}),(0,et.jsx)("div",{className:"tone-grid",children:Object.entries(t).map((e=>{let[t,r]=e;return(0,et.jsxs)("div",{className:`tone-item theme-${t} muted ${r>=a?"active":""}`,onClick:r>=a?()=>n(t):void 0,children:[(0,et.jsxs)("div",{className:"tone-item-header",children:[(0,et.jsx)("span",{className:"tone-name",children:t}),(0,et.jsxs)("span",{className:"tone-count",children:[r,"/",a]})]}),(0,et.jsx)("div",{className:"tone-progress-container",children:(0,et.jsx)("div",{className:`tone-progress-bar theme-${t}`,style:{width:r/a*100+"%"}})})]},t)}))})]})},Qn=e=>{let{}=e;const t=It(),a=Pt(),r=Ot(),[s,i]=(0,n.useState)(r.getCollectedThemes());(0,n.useEffect)((()=>{const e=()=>{i({...r.getCollectedThemes()})};return r.on("dmScreenUpdated",e),()=>{r.off("dmScreenUpdated",e)}}),[r]);Object.entries(s).length;return(0,et.jsxs)("div",{className:"bottom-bar-container "+(t.state===_t.SESSION||t.state===_t.SESSION_OVERVIEW?"":"hidden"),children:[(0,et.jsxs)("div",{className:"bottom-bar",children:[(0,et.jsx)(Wn,{}),Object.entries(s).length>0&&(0,et.jsx)(Kn,{themes:s,maxSegments:3,onRedeem:e=>{r.redeemTheme(e)}})]}),(0,et.jsxs)("div",{className:"bottom-bar-controls",children:[(0,et.jsx)("div",{className:"gameroom-party-info-stress"}),(0,et.jsx)("div",{className:"gameroom-party-info"}),(0,et.jsxs)("div",{className:"gameroom-nav-button-container",children:[(0,et.jsx)("div",{className:"gameroom-nav-button nav-button",onClick:()=>{t.state===_t.SESSION_OVERVIEW?t.state=_t.SESSION:r.backToOverview()},children:"RUN SESSION"}),(0,et.jsx)("div",{className:"gameroom-nav-button nav-button",onClick:()=>{a.toggleImageForEvent()},children:"Alt BG"})]})]})]})},Yn=()=>{const e=Ot(),t=wt(),a=e.getCurrentEncounter(),r=It(),s=Pt(),[i,l]=(0,n.useState)(e.getEstablishedTags()),[o,c]=(0,n.useState)(e.getRumorTags()),[u,d]=(0,n.useState)(e.getWeightedLocationTagsEstablished()),[h,m]=(0,n.useState)(t.getAllExpectedBackstoryTags()),[g,p]=(0,n.useState)(e.getExpectedEncounterTags()),[f,v]=(0,n.useState)(e.getResolvedTagsForBranch()),[y,b]=(0,n.useState)(e.getDMPoints()),[E,x]=(0,n.useState)(e.getDmTricks()),[N,S]=(0,n.useState)(e.getEncounterLocationTags()),[C,T]=(0,n.useState)(e.getCampaignScore()),A=(0,n.useMemo)((()=>(null===a||void 0===a?void 0:a.location.tags.sort())||[]),[null===a||void 0===a?void 0:a.location.tags]),k=(0,n.useMemo)((()=>[...A].sort(((e,t)=>e.name.localeCompare(t.name)))),[A]);(0,n.useEffect)((()=>{const a=()=>{const a=e.getEstablishedTags(),n=e.getExpectedEncounterTags();p(n);const r=a.filter((e=>!n.some((t=>t.name===e.name))&&!f.some((t=>t.name===e.name))));l([...r]),m(t.getAllExpectedBackstoryTags()),x(e.getDmTricks()),d(e.getWeightedLocationTagsEstablished()),c(e.getRumorTags()),b(e.getDMPoints()),T(e.getCampaignScore())};return e.on("dmScreenUpdated",a),()=>{e.off("dmScreenUpdated",a)}}),[e,t]);const M=null===a||void 0===a?void 0:a.branches,j=e=>R?s.getPlayerAttitudesStyle(e):"";if(!a)return null;const w=a.location.themes[0],R=!1;return(0,et.jsxs)("div",{className:"dm-screen-container "+(r.state!==_t.SESSION?"hidden":""),children:[(0,et.jsxs)("div",{className:"dm-screen-header",children:[(0,et.jsxs)("div",{className:"dm-screen-dm-points",children:[(0,et.jsx)("div",{className:"dm-screen-dm-points-label",children:"DM POINTS"}),(0,et.jsx)("div",{className:"dm-screen-dm-point",children:(0,et.jsx)(Fa,{baseDie:20,displayNumber:y})})]}),(0,et.jsx)("div",{className:"dm-screen-campaign",children:(0,et.jsxs)("div",{className:`campaign-display ${Ra[e.getCurrentCampaign()||0].theme} icon-only`,children:[(0,et.jsxs)("div",{className:"campaign-info left",children:[(0,et.jsx)("div",{className:"campaign-info",children:Ra[e.getCurrentCampaign()||0].name}),(0,et.jsx)("div",{className:"campaign-info hooks",children:"PLOT HOOKS"}),(0,et.jsx)("div",{className:"circle-display",children:Array.from({length:4},((t,a)=>(0,et.jsx)("div",{className:"circle "+(a<e.getCampaignProgress()?"filled":"")},a)))})]}),(0,et.jsx)("div",{className:"campaign-icon solo",children:(0,et.jsx)(at,{imageId:Ra[e.getCurrentCampaign()||0].icon})})]})}),(0,et.jsxs)("div",{className:"score-info",children:[(0,et.jsx)("div",{className:"score-label",children:"CAMPAIGN SCORE"}),(0,et.jsx)("div",{className:"score-value",children:C})]})]}),(0,et.jsxs)("div",{className:"dm-screen-set-scene",children:[(0,et.jsx)(Qt,{totalSegments:N.length,filledSegments:u,theme:w,label:`Set the Scene: ${null===a||void 0===a?void 0:a.location.name} `}),(0,et.jsx)("div",{className:"dm-screen-set-scene-tags",children:k.map(((t,a)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill  "+(e.getCollectedLocationTags().includes(t)?"type-location":""),children:t.name},a)))})]}),(0,et.jsxs)("div",{className:"dm-screen-set-scene",children:[(0,et.jsx)(Qt,{totalSegments:f.length+g.length,filledSegments:f.length,theme:w,label:"encounter elements"}),(0,et.jsxs)("div",{className:"dm-screen-encounter-tags-row",children:[(0,et.jsx)("div",{className:"dm-screen-set-scene-tags",children:f.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-location",children:e.name},t)))}),(0,et.jsx)("div",{className:"dm-screen-set-scene-tags",children:g.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill",children:e.name},t)))})]})]}),M&&M.length>0&&(0,et.jsxs)("div",{className:"dm-screen-branches-container",children:[(0,et.jsx)("div",{className:`dm-screen-branches-header text-theme-${w} `,children:"PREP FOR UPCOMING ENCOUNTERS"}),(0,et.jsx)("div",{className:"dm-screen-upcoming-branches",children:M.map(((t,a)=>(0,et.jsxs)("div",{className:`dm-screen-branch text-theme-${t.location.themes[0]}`,children:[(0,et.jsx)(Qt,{totalSegments:4,filledSegments:Math.min(4,e.getExpectedTagsForBranch(t.name).length),theme:t.location.themes[0],label:t.name}),(0,et.jsx)("div",{className:"dm-screen-branch-tags",children:(()=>{const a=e.getExpectedTagsForBranch(t.name),n=e.getAuthoredEncounterTags(t.name).filter((e=>!a.includes(e))),r=4-(n.length+a.length),s=Array(r).fill({name:"?"});return[...n.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill expected",children:e.name},`authored-${t}`))),...a.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-foreshadowing",children:e.name},`expected-${t}`))),...s.map(((e,t)=>(0,et.jsx)("div",{className:"encounter-flavor-tag text-pill type-foreshadowing expected large-text",children:e.name},`filler-${t}`)))]})()})]},a)))})]}),i.length>0&&(0,et.jsxs)("div",{className:"dm-screen-collected-tags",children:[(0,et.jsx)("div",{className:"dm-screen-collected-tags-header",children:"Established Elements"}),(0,et.jsx)("div",{className:"dm-screen-collected-tags-container",children:i.map(((e,t)=>(0,et.jsx)("div",{className:`encounter-flavor-tag text-pill  ${j(e)} established`,children:e.name},t)))})]}),o.length>0&&(0,et.jsxs)("div",{className:"dm-screen-expected-tags",children:[(0,et.jsx)("div",{className:"dm-screen-collected-tags-header",children:"Rumors"}),(0,et.jsx)("div",{className:"dm-screen-collected-tags-container",children:o.map(((e,t)=>(0,et.jsx)("div",{className:`encounter-flavor-tag text-pill ${j(e)} expected`,children:e.name},t)))})]}),h.length>0&&(0,et.jsxs)("div",{className:"dm-screen-expected-tags",children:[(0,et.jsx)("div",{className:"dm-screen-collected-tags-header",children:"Elements needed to advance a Character's Backstory"}),(0,et.jsx)("div",{className:"dm-screen-collected-tags-container",children:h.map(((e,t)=>(0,et.jsx)("div",{className:`encounter-flavor-tag text-pill ${j(e)} expected`,children:e.name},t)))})]})]})},Vn=e=>{let{}=e;const t=It(),[a,r]=(0,n.useState)(t.state),[s,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),d=Pt(),h=t.getDataManager(),m=Ot();(0,n.useEffect)((()=>{const e=()=>{o(!1),i(!1),r(t.state),function(e){if(!d)return;switch(e){case _t.MAIN_MENU:break;case _t.PLAYER_RECRUITMENT:case _t.CHARACTER_CREATION:case _t.CAMPAIGN_SETUP:i(!0),setTimeout((()=>{i(!1),o(!0)}),1e3);case _t.SESSION_OVERVIEW:case _t.SESSION:case _t.SCORE:}}(t.state)};return t.on("stateChange",e),()=>{t.off("stateChange",e)}}),[t]);return(0,et.jsxs)("div",{className:"mode-container",children:[(0,et.jsx)("div",{className:"bgImageContainer",children:(0,et.jsxs)("div",{className:`mode-background ${(()=>{switch(h.getStateProps().bg_transition_mode){case"slide-left":return`${s?"slide-left":""} ${l?"left":""}`;case"slide-right":return`${s?"slide-right":""} ${l?"right":""}`;case"slide-down":return`${s?"slide-down":""} ${l?"down":""}`;default:return""}})()}`,children:[(0,et.jsx)("div",{className:"mode-background-image",style:{backgroundRepeat:"repeat"},children:(0,et.jsx)(at,{imageId:h.getStateProps().background_image_id})}),(0,et.jsx)("div",{className:"mode-background-overlay",children:(0,et.jsx)(at,{imageId:h.getStateProps().background_image_id})}),(0,et.jsx)("div",{className:"mode-background-bottom",children:(0,et.jsx)(at,{imageId:h.getStateProps().secondary_bg_image_id})})]})}),(0,et.jsxs)("div",{className:"mode-component",children:[function(){switch(a){case _t.MAIN_MENU:return(0,et.jsx)(Hn,{appManager:t});case _t.PLAYER_RECRUITMENT:return(0,et.jsx)(la,{appManager:t,playerManager:t.getPlayerManager()});case _t.CHARACTER_CREATION:return(0,et.jsx)(oa,{});case _t.CAMPAIGN_SETUP:return(0,et.jsx)(ma,{openCampaign:m.getOpenCampaign()});case _t.SESSION_OVERVIEW:return(0,et.jsx)(Bn,{});case _t.SESSION:return(0,et.jsx)(Un,{appManager:t});case _t.SCORE:return(0,et.jsx)(Gn,{appManager:t})}return(0,et.jsx)("div",{children:"NOT YET IMPLEMENTED"})}(),(0,et.jsx)(Qn,{})]}),t.state===_t.SESSION||t.state===_t.SESSION_OVERVIEW?(0,et.jsx)(Yn,{}):null]})},Xn=()=>{const e=It(),t=Pt(),[a,r]=n.useState(e.state),[s,i]=n.useState(void 0),[l,o]=n.useState(0);return(0,n.useEffect)((()=>{const a=()=>{r(e.state)},n=e=>{o(0),i(e)},s=e=>{o(e)};return e.on("stateChange",a),t.on("setNotebookState",n),t.on("setTutorialPage",s),()=>{t.off("setNotebookState",n),e.off("stateChange",a),t.off("setTutorialPage",s)}}),[]),(0,et.jsxs)("div",{className:"global-ui-container",children:[(0,et.jsx)("div",{className:"state-display",children:function(e){switch(e){case _t.PLAYER_RECRUITMENT:case _t.CHARACTER_CREATION:case _t.MAIN_MENU:case _t.CAMPAIGN_SETUP:case _t.SESSION_OVERVIEW:case _t.SESSION:case _t.SCORE:}return(0,et.jsx)("div",{})}(a)}),s?(0,et.jsx)(sa,{notebookPages:s,pageIndex:l}):null]})},Zn=e=>{let{}=e;return(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{className:"App",children:(0,et.jsx)(Vn,{})}),(0,et.jsx)(Xn,{})]})};class qn extends(Ka()){constructor(e){super(),this.currentCampaign=void 0,this.appManager=void 0,this.currentEncounter=void 0,this.encounterState=void 0,this.playerManager=void 0,this.establishedTags=[],this.rumorTags=[],this.collectedLocationTags=[],this.expectedTagsForBranches={},this.resolvedTagsForBranches={},this.dmTricks=[],this.dmPoints=0,this.campaignProgress=0,this.themeCounts={},this.completedEventIndexes=[],this.breaksAvailable=1,this.campaignScore=0,this.rewardsAccepted=(e,t,a)=>{-2===t?this.partyManager().addPartyEnjoyment(-2):-1===t?this.partyManager().addPartyEnjoyment(-1):1===t?this.partyManager().multiplyPartyTension(.5):2===t&&this.partyManager().multiplyPartyTension(0);const n=this.appManager.getPartyManager();e.forEach((e=>{switch(e.type){case M.TREASURE:n.addPartyEnjoyment(e.value);break;case M.TOOLS:n.replenishPartyTools();break;case M.XP:n.levelUpLowestCharacter();break;case M.ITEM:const t=this.playerManager.getRandomPlayer(),a=this.appManager.getCharacterManager().getCharacterByIndex(this.playerManager.getRandomCharacterForPlayer(t));e.tag&&this.appManager.getCharacterManager().assignGear(a,e.tag.name),this.rumorTags=this.rumorTags.filter((t=>{var a;return t.name!==(null===(a=e.tag)||void 0===a?void 0:a.name)}));break;case M.PLOT_HOOK:this.advanceCampaignStory();break;case M.HEALING:1===e.value?n.healRandomCharacter():n.raiseRandomFromDead();break;case M.BACKSTORY:break;case M.MAGIC:n.replenishPartyMagic()}})),a&&this.backToOverview(),this.emit("dmScreenUpdated")},this.appManager=e,this.playerManager=e.getPlayerManager(),this.init()}partyManager(){return this.appManager.getPartyManager()}init(){this.dmTricks=[]}getWeightedLocationTagsEstablished(){return this.collectedLocationTags.length}redeemTheme(e){switch(delete this.themeCounts[e],e){case T.COMEDIC:this.partyManager().addPartyEnjoyment(5);break;case T.SERIOUS:this.partyManager().setPartyTension(50);break;case T.DRAMATIC:this.partyManager().addPartyEngagement(5);break;case T.NONE:this.partyManager().addPartyEnjoyment(1)}this.emit("dmScreenUpdated",this.themeCounts)}continueTheme(e){this.partyManager().addPartyScore(10)}updateFlavorTagThemesTally(e){e.forEach((e=>{e.theme!==T.NONE&&this.addTheme(e.theme)}))}themedUiClicked(e){this.addTheme(e),this.emit("dmScreenUpdated",this.themeCounts)}addTheme(e){e!==T.NONE&&(void 0===this.themeCounts[e]?this.themeCounts[e]=1:(this.themeCounts[e]||0)>=3?this.continueTheme(e):this.themeCounts[e]=Math.min(3,Math.max(0,(this.themeCounts[e]||0)+1)),this.emit("dmScreenUpdated",this.themeCounts))}spendDMPoints(e){this.dmPoints+=e,this.emit("dmScreenUpdated",this.dmPoints)}getDMPoints(){return this.dmPoints}exhaustForRoleplayAction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=1*(this.rumorTags.length||1);this.partyManager().exhaustParty(t+e)}getPerceptionTags(e){var t;const a=this.playerManager.getPlayerAssignedCharacter(e.id),n=(null===(t=this.currentEncounter)||void 0===t?void 0:t.branches)||[];if(!a||!this.currentEncounter)return[];const r=Math.floor(5*Math.random());switch(r){case A.BRANCH_LOCATION:const t=n[Math.floor(Math.random()*n.length)],s=t.name;let i=this.getTagsForEncounter(t);i=i.filter((e=>!this.getExpectedTagsForBranch(t.name).includes(e)));const o=Math.floor(2*Math.random())+1;if(0===i.length){return{tags:[{tag:{name:this.appManager.getCharacterManager().getRandomGear().name,type:l.GEAR},source:C.LOCATION,theme:T.NONE}],type:r,name:t.name}}const c=i.sort((()=>Math.random()-.5)).slice(0,o).map((e=>({tag:e,source:C.LOCATION,theme:this.getTheme()})));return{tags:c,type:r,name:s};case A.CURRENT_LOCATION:const u=this.currentEncounter.location.name,d=this.getEncounterLocationTags(),h=Math.floor(2*Math.random())+1,m=d.sort((()=>Math.random()-.5)).slice(0,h).map((e=>({tag:e,source:C.LOCATION,theme:this.getTheme()})));return{tags:m,type:r,name:u};case A.PLOT_HOOK:return{tags:[{tag:{name:`Plot Hook: ${this.campaignProgress+1}`,type:l.PLOT},source:C.PLOT,theme:T.NONE}],type:A.PLOT_HOOK,name:"Campaign Story"};case A.CHARACTER_BACKSTORY:case A.CHARACTER_BACKSTORY_PROGRESS:const g=this.appManager.getCharacterManager().getAllExpectedBackstoryTags();if(g.length>0&&Math.random()<.5){return{tags:[{tag:g[Math.floor(Math.random()*g.length)],source:C.PLAYERS,theme:this.getTheme()}],type:A.CHARACTER_BACKSTORY_PROGRESS,name:e.name}}const p=5,f=Object.values(ga).flatMap((e=>Object.values(e))).sort((()=>Math.random()-.5)).slice(0,p),v=[...a.preferences,...f],y=v[Math.floor(Math.random()*v.length)];return{tags:[{tag:Array.isArray(y)?y[0]:y,source:C.PLAYERS,theme:this.getTheme()}],type:A.CHARACTER_BACKSTORY,name:e.name};case A.MAGIC_ITEM:const b=this.getRumorTags().filter((e=>e.type===l.GEAR));if(b.length>0&&Math.random()<.5){const e=b[Math.floor(Math.random()*b.length)];return{tags:[{tag:e,source:C.PLAYERS,theme:this.getTheme()}],type:A.MAGIC_ITEM,name:e.name}}const E={name:this.appManager.getCharacterManager().getRandomGear().name,type:l.GEAR};return{tags:[{tag:E,source:C.PLAYERS,theme:T.NONE}],type:A.MAGIC_ITEM,name:E.name}}}acceptPerceptionTags(e,t){this.updateFlavorTagThemesTally(e.tags);e.tags.map((e=>e.tag)).forEach((e=>{this.playerManager.exposeEncounterTag(e)}));const a=this.playerManager.getPlayerAssignedCharacter(t.id);let n=-1;switch(e.type){case A.CURRENT_LOCATION:this.collectedLocationTags=[...this.collectedLocationTags,...e.tags.map((e=>e.tag))],this.addCampaignScore(vn.LOCATION_DESCRIBED*e.tags.length);break;case A.BRANCH_LOCATION:e.tags.forEach((t=>{this.expectedTagsForBranches[e.name].push(t.tag)})),this.addCampaignScore(vn.FORESHADOWED_ENCOUNTER*e.tags.length);break;case A.PLOT_HOOK:n=0,this.advanceCampaignStory();break;case A.CHARACTER_BACKSTORY:this.partyManager().addPartyScore(fn.BACKSTORY_ASSIGNED),this.appManager.getCharacterManager().assignBackstory(t,e.tags[0].tag);break;case A.CHARACTER_BACKSTORY_PROGRESS:this.partyManager().addPartyScore(fn.BACKSTORY_FULFILLED),this.appManager.getCharacterManager().assignBackstory(t,e.tags[0].tag);break;case A.MAGIC_ITEM:const a=e.tags[0].tag;this.isRumor(a.name)?(this.appManager.getCharacterManager().assignGear(t,a.name),this.rumorTags=this.rumorTags.filter((e=>e.name!==a.name)),this.partyManager().addPartyScore(fn.MAGIC_ITEM_INTRODUCED)):(this.partyManager().addPartyScore(fn.MAGIC_ITEM_FOUND),this.rumorTags=[...this.rumorTags,a])}-1!==n?this.partyManager().updateAllAttention(n):this.partyManager().updateAttention(a&&[a.name]||void 0),this.emit("dmScreenUpdated",this.establishedTags)}setCampaignProgress(e){this.campaignProgress=e,this.emit("campaignProgressUpdated",e)}getCampaignProgress(){return this.campaignProgress}selectRoleplayFlavorTag(e,t){if("character"===e.type&&e.character){const t=this.playerManager.getPlayerAssignedCharacter(e.character.id);return void(t&&this.partyManager().updateAttention([t.name],!0,2))}const a=e.tag;if(!a)return;t<=0&&this.partyManager().updateAttention(),this.exhaustForRoleplayAction();let n=!0;this.updateFlavorTagThemesTally([a]),this.playerManager.exposeEncounterTag(a.tag);if(this.appManager.getCharacterManager().getCharactersWithBackstoryTag(a.tag).forEach((e=>{this.appManager.getCharacterManager().assignBackstory(e,a.tag),this.partyManager().addPartyScore(fn.BACKSTORY_ASSIGNED),n=!1})),this.isMagicItemRumor(a.tag.name)){const e=this.playerManager.getRandomPlayer(),t=this.appManager.getCharacterManager().getCharacterByIndex(this.playerManager.getRandomCharacterForPlayer(e));this.appManager.getCharacterManager().assignGear(t,a.tag.name),this.partyManager().addPartyScore(fn.MAGIC_ITEM_FOUND),this.rumorTags=this.rumorTags.filter((e=>e.name!==a.tag.name)),n=!1}(a.source===C.LOCATION||this.isLocationRumor(a.tag.name))&&(this.collectedLocationTags.push(a.tag),this.addCampaignScore(vn.LOCATION_DESCRIBED),n=!1);let r=!1;if(this.appManager.getChatManager().expectedTagResolved(a.tag)&&(r=!0),a.source===C.FORESHADOWING||a.source===C.FORESHADOWING_RANDOM){var s;const e=[];let t=!1;const i=(null===(s=this.currentEncounter)||void 0===s?void 0:s.branches)||[];if(i.forEach(((n,s)=>{n.tags.includes(a.tag)?(this.expectedTagsForBranches[n.name].push(a.tag),r||this.appManager.getChatManager().expectedTagForeshadowed(a,n.name),t=!0):!t&&this.couldAssignRandomTagToBranch(n)&&e.push(s)})),!t&&e.length>0){const t=Math.floor(Math.random()*e.length),n=i[e[t]];this.expectedTagsForBranches[n.name].push(a.tag),this.appManager.getChatManager().expectedTagForeshadowed(a,n.name)||this.appManager.getChatManager().triggerAddRandomTagToEncounterConversation(a.tag,n)}this.addCampaignScore(vn.FORESHADOWED_ENCOUNTER),n=!1}this.getExpectedEncounterTags().includes(a.tag)&&(this.partyManager().addPartyEngagement(10),this.resolveExpectedTagsForBranch(a.tag),this.addCampaignScore(vn.ENCOUNTER_TAG_RESOLVED),n=!1),n&&this.establishOrStartRumor(a.tag),this.emit("dmScreenUpdated",this.establishedTags)}establishOrStartRumor(e){this.establishedTags.includes(e)||(this.rumorTags.includes(e)?(this.rumorTags=this.rumorTags.filter((t=>t!==e)),this.establishedTags.push(e)):this.rumorTags.push(e))}resolveExpectedTagsForBranch(e){if(!this.currentEncounter)return;const t=this.expectedTagsForBranches[this.currentEncounter.name||""];this.expectedTagsForBranches[this.currentEncounter.name||""]=t.filter((t=>t!==e)),this.resolvedTagsForBranches[this.currentEncounter.name].push(e),this.establishedTags=[...this.establishedTags,e],this.emit("dmScreenUpdated",this.themeCounts)}generateRoleplayEventTags(e){console.log(e);const t=this.currentEncounter;if(!t)return[];let a=[...this.establishedTags,...this.getCollectedLocationTags()];const n=this.getEncounterLocationTags(),r=this.getRumorTags(),s=this.getExpectedEncounterTags(),i=this.playerManager.getAllPlayerPreferences(),l=this.appManager.getCharacterManager().getAllExpectedBackstoryTags(),o=Object.values(ga).flatMap((e=>Object.values(e))),c=t.branches||[];let u=c.flatMap((e=>e.tags));const d=c.flatMap((e=>this.getExpectedTagsForBranch(e.name)));u=u.filter((e=>!d.includes(e)&&!s.includes(e)));const h=this.getRandomTags([2,3],u,[]);a=[...a,...h];const m=this.getRandomTags([2,3],n,[...a]);a=[...a,...n];const g=this.getRandomTags([2,3],[...r,...s],a);a=[...a,...g];const p=this.getRandomTags([1,2],i,a);if(a=[...a,...p],l.length>0&&Math.random()<.1){const e=this.getRandomTags(1,l,a);p.push(...e),a=[...a,...e]}const f=m.length+g.length+p.length,v=this.getRandomTags(12-f,o,a),y=(e,t)=>{let a=t;return this.isMagicItemRumor(e.name)?a=C.MAGIC_ITEM:this.isBackstoryTag(e.name)&&(a=C.BACKSTORY),a},b=m.map((e=>({tag:e,source:y(e,C.LOCATION),theme:this.getTheme()}))),E=h.map((e=>({tag:e,source:y(e,C.FORESHADOWING),theme:this.getTheme()}))),x=[...b,...g.map((e=>({tag:e,source:y(e,C.RUMOR),theme:this.getTheme()}))),...p.map((e=>({tag:e,source:y(e,C.PLAYERS),theme:this.getTheme()}))),...v.map((e=>this.couldAssignRandomTag()&&Math.random()<.25?{tag:e,source:y(e,C.FORESHADOWING_RANDOM),theme:this.getTheme()}:{tag:e,source:y(e,C.ALL),theme:this.getTheme()})),...E].sort((()=>Math.random()-.5)).slice(0,12),N=Math.random()<.5,S=[];if(x.forEach((e=>{S.push({tag:e,type:"tag"})})),N){const e=this.appManager.getCharacterManager().getCharacters(),t={character:e[Math.floor(Math.random()*e.length)],type:"character"};S.push(t)}return S}advanceCampaignStory(){this.partyManager().updateAllAttention(2),this.setCampaignProgress(this.campaignProgress+1),this.addCampaignScore(25),this.emit("campaignProgressUpdated",this.campaignProgress)}getCampaignTooltipForTag(e){var t,a;const n=Ra[this.currentCampaign||0];if(n.tooltipTags&&null!==(t=n.tooltipTags[(null===(a=this.currentEncounter)||void 0===a?void 0:a.name)||""])&&void 0!==t&&t[e.tag.name]){var r,s;const t=null===(r=n.tooltipTags[(null===(s=this.currentEncounter)||void 0===s?void 0:s.name)||""])||void 0===r?void 0:r[e.tag.name];if(t)return t+this.appManager.getChatManager().getThemePostFix(e)}}couldAssignRandomTagToBranch(e){const t=4-e.tags.length;return!(this.expectedTagsForBranches[e.name].length-e.tags.filter((t=>this.expectedTagsForBranches[e.name].includes(t))).length>=t)}couldAssignRandomTag(){if(!this.currentEncounter)return 0;const e=this.currentEncounter.branches||[];let t=!1;return e.forEach((e=>{this.couldAssignRandomTagToBranch(e)&&(t=!0)})),t}getExpectedGear(){return this.getRumorTags().filter((e=>e.type===l.GEAR))}getActiveThemes(){return Object.values(this.themeCounts).reduce(((e,t)=>e+(t>0?1:0)),0)}getOpenCampaign(){return this.currentCampaign}getExpectedTagsForBranch(e){return this.expectedTagsForBranches[e]}getOutstandingBackstoryTags(){return this.appManager.getCharacterManager().getAllExpectedBackstoryTags()}getColorForEncounterByName(e){var t;const a=null===(t=Ra[this.currentCampaign||0].processedEncounters)||void 0===t?void 0:t.flat().find((t=>t.name===e));return a?a.location.themes[0]:"none"}getRumorTags(){return this.rumorTags}getNextPlotHookPerceptionText(){var e;const t=this.campaignProgress;let a=null===(e=Ra[this.currentCampaign||0].plotHooks)||void 0===e?void 0:e[t||0];return a||(a="Next important plot information...."),a}isRumor(e){return this.rumorTags.some((t=>t.name===e))}isMagicItemRumor(e){return this.rumorTags.some((t=>t.name===e&&t.type===l.GEAR))}isLocationRumor(e){return this.rumorTags.some((t=>t.name===e&&this.getEncounterLocationTags().includes(t)))}isBackstoryTag(e){return this.appManager.getCharacterManager().getAllExpectedBackstoryTags().some((t=>t.name===e))}getEstablishedTags(){return this.establishedTags}getCollectedThemes(){return this.themeCounts}getAvailableCampaigns(){return Ra}getCampaignIcon(){return Ra[this.currentCampaign||0].icon}getCampaignName(){return Ra[this.currentCampaign||0].name}getDmTricks(){return this.dmTricks}getAuthoredEncounterTags(e){var t;const a=null===(t=Ra[this.currentCampaign||0].processedEncounters)||void 0===t?void 0:t.flat().find((t=>t.name===e));return a?a.tags:[]}getCurrentEncounter(){return this.currentEncounter}getNextEncounters(){var e;return(null===(e=this.currentEncounter)||void 0===e?void 0:e.branches)||[]}getCurrentCampaign(){return this.currentCampaign}getCollectedLocationTags(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.collectedLocationTags:Array.from(new Set(this.collectedLocationTags))}getCollectedLocationTagsForChallenge(){return this.getCollectedLocationTags(!1)}getEncounterEvents(){var e;return(null===(e=this.currentEncounter)||void 0===e?void 0:e.events)||[[],[],[]]}getEncounterLocationTags(){var e;return(null===(e=this.currentEncounter)||void 0===e?void 0:e.location.tags)||[]}getEncounterTags(){var e;return(null===(e=this.currentEncounter)||void 0===e?void 0:e.tags)||[]}getExpectedEncounterTags(){var e;return this.expectedTagsForBranches[(null===(e=this.currentEncounter)||void 0===e?void 0:e.name)||""]||[]}getTheme(){if(0!==Math.floor(5*Math.random()))return T.NONE;const e=Math.floor(4*Math.random());return 0===e?T.COMEDIC:1===e?T.DRAMATIC:2===e?T.SERIOUS:T.NONE}getCampaignScore(){return this.campaignScore}addCampaignScore(e){this.campaignScore+=e,this.emit("dmScreenUpdated",this.campaignScore)}getFriendlyCombatantTags(){return[...this.establishedTags.filter((e=>e.friendly)),...this.getCollectedLocationTags(!1).filter((e=>e.friendly))]}getHostileCombatantTags(e){return[...this.establishedTags.filter((t=>t.enemy&&t.name!==e)),...this.getCollectedLocationTags(!1).filter((e=>e.enemy))]}getCampaignChatTriggers(){return void 0===this.currentCampaign?{}:Ra[this.currentCampaign].chatTriggers}getEncounterChatTriggers(){const e=this.getCampaignChatTriggers();if(void 0===this.currentEncounter||void 0===e)return{};return e[this.currentEncounter.name]}getEncounterChatTrigger(e){const t=this.getEncounterChatTriggers();if(void 0!==t)return t[e.name]}getRandomTags(e,t,a){if(Array.isArray(e)&&(e=Math.floor(Math.random()*e[1]+e[0])),e<=0)return[];if(a){const e=a.map((e=>e.name));t=t.filter((t=>!e.includes(t.name)))}return t.sort((()=>Math.random()-.5)).slice(0,e)}useBreak(){this.partyManager().takeBreak(),this.breaksAvailable--}canTakeBreak(){return this.breaksAvailable>0}initiateQuickStart(){this.startCampaign(0)}startCampaign(e){var t,a,n,r,s;this.currentCampaign=e,this.currentEncounter=(null===(t=Ra[e])||void 0===t?void 0:t.startingEncounter)||void 0,this.rumorTags=[],this.resolvedTagsForBranches={};const i=(null===(a=this.currentEncounter)||void 0===a?void 0:a.branches)||[];this.resolvedTagsForBranches[this.currentEncounter.name]=[],i.forEach((e=>{this.expectedTagsForBranches[e.name]=[],this.resolvedTagsForBranches[e.name]=[]}));const l=this.expectedTagsForBranches[(null===(n=this.currentEncounter)||void 0===n?void 0:n.name)||""]||[];this.expectedTagsForBranches[(null===(r=this.currentEncounter)||void 0===r?void 0:r.name)||""]=[...l,...this.getEncounterTags()],this.validateTags((null===(s=Ra[e].processedEncounters)||void 0===s?void 0:s.flat())||[]),this.partyManager().setPartyTension(20),this.completedEventIndexes=[],this.emit("dmScreenUpdated",this.themeCounts)}getTagsForEncounter(e){let t=this.expectedTagsForBranches[e.name]||[],a=[...e.tags,...t];return Array.from(new Set(a))}setSessionState(e){this.encounterState={sessionState:e,eventIndex:0}}getResolvedTagsForBranch(){var e;const t=(null===(e=this.currentEncounter)||void 0===e?void 0:e.name)||"";return this.resolvedTagsForBranches[t]||[]}validateTags(e){for(let t=0;t<e.length;t++){for(let a=0;a<e[t].tags.length;a++)void 0===e[t].tags[a]&&console.error(`Encounter ${e[t].name} tag ${a} is undefined`);for(let a=0;a<e[t].location.tags.length;a++)void 0===e[t].location.tags[a]&&console.error(`Encounter ${e[t].name} location ${e[t].location.name} tag ${a} is undefined`)}}getCompletedEvents(){return this.completedEventIndexes}getEncounterAdvanceReadinessText(){var e;const t=0===this.getExpectedEncounterTags().length,a=(null===(e=this.currentEncounter)||void 0===e?void 0:e.branches)||[],n=a.some((e=>this.getExpectedTagsForBranch(e.name).length>=3)),r=a.every((e=>this.getExpectedTagsForBranch(e.name).length>=3));return t?n?r?"Players are ready to move on.":"Players are ready to move on, but feel some choices are unclear.":"Players don't have enough information to choose what to do next.":"Players will be confused. They expect more from the current encounter."}encounterEventSelected(e){void 0!==this.encounterState&&(this.completedEventIndexes.includes(e)||(this.appManager.state=_t.SESSION,this.completedEventIndexes.push(e),this.encounterState.eventIndex=e,this.appManager.getUiManager().updateEncounterState(this.encounterState)))}getEncounterState(){return this.encounterState}getCurrentEvent(){var e;if(void 0!==this.encounterState)return null===(e=this.currentEncounter)||void 0===e?void 0:e.events[this.encounterState.eventIndex]}backToOverview(){void 0!==this.encounterState&&(this.appManager.state=_t.SESSION_OVERVIEW,this.appManager.getUiManager().updateEncounterState(this.encounterState))}advanceEncounter(e){var t,a,n,r;const s=(null===(t=this.currentEncounter)||void 0===t?void 0:t.branches)||[];if(e&&s.includes(e))this.currentEncounter=e;else{const e=s.sort(((e,t)=>this.getExpectedTagsForBranch(t.name).length-this.getExpectedTagsForBranch(e.name).length))[1];this.currentEncounter=e||s[0]}this.resolvedTagsForBranches={};const i=(null===(a=this.currentEncounter)||void 0===a?void 0:a.branches)||[];this.resolvedTagsForBranches[this.currentEncounter.name]=[],i.forEach((e=>{this.expectedTagsForBranches[e.name]=[],this.resolvedTagsForBranches[e.name]=[]}));const l=this.expectedTagsForBranches[(null===(n=this.currentEncounter)||void 0===n?void 0:n.name)||""]||[];this.expectedTagsForBranches[(null===(r=this.currentEncounter)||void 0===r?void 0:r.name)||""]=[...l,...this.getEncounterTags()],this.completedEventIndexes=[],this.emit("encounterUpdated",this.themeCounts)}}const Jn=qn,$n={TEAM_PLAYER:{name:"Team Player",description:"+1 to all other players happiness"},GRUMPY:{name:"Grumpy",description:"-1 to all other players happiness"},FORMER_DM:{name:"Former DM",description:"Ignores personal LIKES and HATES when choosing encounters"},MIN_MAXER:{name:"Min-Maxer",description:"Gets a bonus to Combat encounters"},ROLE_PLAYER:{name:"Role Player",description:"Gets a bonus to Social encounters"},LOGICIAN:{name:"Logician",description:"Gets a bonus to Puzzle encounters"},WEALTHY:{name:"Wealthy",description:"Gives a bonus 20% reward at the end of a Campaign if Happy"},BLOODTHIRSTY:{name:"Bloodthirsty",description:"Gets x2 happiness from Combat encounters"}},er=[{race:nt.ELF,character_class:rt.WIZARD,abilities:[],level:1,name:"Saul",id:0,icon:"elf_1",gear:[],backstory:[{tag:{name:"Dark Gem"},completed:!1}]},{race:nt.HUMAN,character_class:rt.FIGHTER,abilities:[],level:1,name:"Riker",id:1,icon:"human_1",gear:[],backstory:[]},{race:nt.HUMAN,character_class:rt.ROGUE,abilities:[],level:1,name:"Godfrey",id:2,icon:"human_2",gear:[],backstory:[]}],tr=[{name:"Matt W",characters:[0],id:0,icon:"player_1",schedule:[10,20,30,40,50,60,70],preferences:[[ga.RACE.ELVES,o.LIKE],[ga.RACE.HUMANS,o.LIKE],[ga.MONSTERS.UNDEAD,o.LIKE],[ga.GAME.EXPOSITION,o.HATE],[ga.GAME.POLITICS,o.HATE],[ga.LOCATION.BRIDGES,o.LIKE],[ga.GAME.SOCIALIZING,o.LIKE],[ga.PROPS.BEER,o.LIKE]],traits:[],playerStats:{stress:0,enjoyment:1,engagement:25,involvement:3}},{name:"Dan A",characters:[1],id:1,icon:"player_2",schedule:[10,20,30,40,50,60,70],preferences:[[ga.RACE.HALFLINGS,o.LIKE],[ga.GAME.POLITICS,o.LIKE],[ga.LOCATION.TAVERNS,o.LIKE],[ga.MONSTERS.GOBLINS,o.HATE],[ga.GAME.EXPLORATION,o.LIKE],[ga.PROPS.BEER,o.LIKE]],traits:[],playerStats:{stress:0,enjoyment:4,engagement:25,involvement:3}},{name:"Olivier B",characters:[2],id:2,icon:"player_3",schedule:[10,20,30,40,50,60,70],preferences:[[ga.RACE.DWARVES,o.LIKE],[ga.RACE.HALFLINGS,o.LIKE],[ga.GAME.PUZZLES,o.LIKE],[ga.GAME.TRAVEL,o.LIKE],[ga.GAME.SOCIALIZING,o.LIKE],[ga.GAME.BORING_THINGS,o.HATE],[ga.PROPS.BEER,o.LIKE]],traits:[$n.TEAM_PLAYER],playerStats:{stress:0,enjoyment:3,engagement:25,involvement:3}}];const ar=class{constructor(e){this.recruitablePlayers=void 0,this.selectedPlayers=void 0,this.players=void 0,this.uniqueID=0,this._currentPlayerIndex=0,this.appManager=void 0,this.uiManager=void 0,this.recruitablePlayers=[],this.players=[],this.selectedPlayers=[],this.appManager=e}getCurrentPlayer(){return 0===this.players.length?void 0:this.players[this._currentPlayerIndex]}isCurrentPlayerLast(){return this._currentPlayerIndex===this.players.length-1}init(){this.uiManager=this.appManager.getUiManager(),this.generateAvailablePlayers(8)}stressPlayers(e){var t;this.players.forEach((t=>{t.playerStats.stress+=e})),null===(t=this.uiManager)||void 0===t||t.notifyPlayerUpdate()}getRecruitablePlayers(){return this.recruitablePlayers}setSelectedPlayers(e){this.selectedPlayers=this.recruitablePlayers.filter(((t,a)=>e.includes(a)))}getPlayers(){return this.players}getSelectedPlayers(){return this.selectedPlayers}getPlayerById(e){return this.players.find((t=>t.id===e))||void 0}getSelectedPlayerIds(){return this.selectedPlayers.map((e=>e.id))}generateIcon(){return"player_"+Math.ceil(9.9*Math.random())}generateSchedule(){const e=[];for(let t=0;t<7;t++)e.push(Math.ceil(100*Math.random()));return e}generateAvailablePlayers(e){for(let t=0;t<e;t++){const e={name:hn(!1),id:this.uniqueID++,characters:[],icon:this.generateIcon(),schedule:this.generateSchedule(),preferences:this.generatePreferences(),traits:this.generatePlayerTraits(),playerStats:{stress:50,enjoyment:3,engagement:50,involvement:3}};this.recruitablePlayers.push(e)}}getMaxCharactersPerPlayer(){return 1}acceptSelectedPlayers(){this.players=this.selectedPlayers}getPlayerWithAttitudeForTag(e,t){const a=this.players.filter((a=>a.preferences.some((a=>a[0].name===e.name&&a[1]===t))));if(a.length>0)return a[Math.floor(Math.random()*a.length)]}generatePlayerTraits(){const e=Object.values($n);if(Math.random()<.5){return[e[Math.floor(Math.random()*e.length)]]}return[]}generatePreferences(){const e=[],t=Object.values(ga).flatMap((e=>Object.values(e))),a=t.filter((e=>e.preference===i.START)),n=t.filter((e=>e.preference===i.MAIN));if(a.length>1){const t=a.splice(Math.floor(Math.random()*a.length),1)[0],n=a.splice(Math.floor(Math.random()*a.length),1)[0];e.push([t,o.LIKE]),e.push([n,o.HATE])}const r=(e,t,a,n)=>{const r=[];for(let s=0;s<t;s++){const t=e[Math.floor(Math.random()*e.length)],s=Math.floor(Math.random()*(n-a+1))+a;r.push([t,s])}return r},s=Math.floor(3*Math.random()),l=Math.floor(3*Math.random()),c=r(n,s,1,5),u=r(n,l,-5,-1);return e.push(...c),e.push(...u),e}exposeEncounterTag(e){var t;this.players.forEach((t=>{const a=t.preferences.find((t=>t[0].name===e.name));a&&(t.playerStats.enjoyment=Math.max(Math.min(4,t.playerStats.enjoyment+a[1]),0))})),null===(t=this.uiManager)||void 0===t||t.notifyPlayerUpdate()}toggleSinglePlayerForCharacter(e,t){e&&(e.characters.includes(t)?this.removeCharacterFromPlayer(e,t):(this.players.forEach((e=>{e.characters.includes(t)&&this.removeCharacterFromPlayer(e,t)})),e.characters.push(t)))}getPlayerAssignedCharacter(e){let t;return this.players.forEach((a=>{a.characters.includes(e)&&(t=a)})),t}assignCharactersToPlayer(e,t){e&&t.forEach((t=>{e.characters.push(t)}))}isCharacterAssigned(e){return this.players.some((t=>t.characters.includes(e)))}removeCharacterFromPlayer(e,t){if(e){const a=e.characters.indexOf(t);a>-1&&e.characters.splice(a,1)}}aggregateSchedule(){const e=[0,0,0,0,0,0,0];return this.selectedPlayers.forEach((t=>{t.schedule.forEach(((t,a)=>{e[a]+=t/this.selectedPlayers.length,e[a]=Math.ceil(e[a])}))})),e}getGroupAttitudes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedPlayers;const t={};e.forEach((e=>{e.preferences.forEach((e=>{const a=e[0],n=e[1];if(t[a.name])switch(t[a.name]){case o.LIKE:n<0&&(t[a.name]=o.CONFLICTED);break;case o.HATE:n>0&&(t[a.name]=o.CONFLICTED)}else t[a.name]=n<0?o.HATE:o.LIKE}))}));return{likes:Object.keys(t).map((e=>t[e]===o.LIKE?e:"")).filter((e=>""!==e)),hates:Object.keys(t).map((e=>t[e]===o.HATE?e:"")).filter((e=>""!==e)),conflicted:Object.keys(t).map((e=>t[e]===o.CONFLICTED?e:"")).filter((e=>""!==e))}}getGroupAttitudeForTag(e,t){const a=this.getGroupAttitudes(e);return a.likes.includes(t.name)?o.LIKE:a.hates.includes(t.name)?o.HATE:a.conflicted.includes(t.name)?o.CONFLICTED:o.NEUTRAL}getPartyAttitudeForTag(e){return this.getGroupAttitudeForTag(this.players,e)}readyForGame(){if(0===this.players.length)return!1;let e=!0;return this.players.forEach((t=>{0===t.characters.length&&(e=!1)})),e}initiateQuickStart(){this.recruitablePlayers=this.players=tr}getAllPlayerPreferences(){const e=[];return this.players.forEach((t=>{t.preferences.forEach((t=>{e.includes(t[0])||e.push(t[0])}))})),e}getAllPlayerCharacters(){const e=[];return this.players.forEach((t=>{t.characters.forEach((t=>{e.includes(t)||e.push(t)}))})),e.map((e=>this.appManager.getCharacterManager().getCharacterByIndex(e)))}getRandomPlayer(){return this.players[Math.floor(Math.random()*this.players.length)]}getRandomCharacterForPlayer(e){return e.characters[Math.floor(Math.random()*e.characters.length)]}};const nr=class{constructor(){this.init()}init(){}startSession(){console.log("Starting session...")}};class rr extends(Ka()){constructor(e){super(),this.dataManager=void 0,this.appManager=void 0,this.characterManager=void 0,this.campaignManager=void 0,this.playerManager=void 0,this.uiManager=void 0,this.partyScore=0,this.partyTension=0,this.partyExhaustion=0,this.stressColors=["#FFB347","#FFDF80","#FFDF80","#B2FF66","#B2FF66","#B2FF66","#66FF66","#FF7043","#FF7043","#FF6666"],this.tensionDescriptions=[{max:10,description:"Too Low",scoreMultiplier:0,stressChance:0},{max:30,description:"Very Low",scoreMultiplier:.5,stressChance:.1},{max:60,description:"Good",scoreMultiplier:1,stressChance:.2},{max:70,description:"Perfect!",scoreMultiplier:2,stressChance:.3},{max:90,description:"Stress",scoreMultiplier:1,stressChance:.5},{max:100,description:"High Stress",scoreMultiplier:1,stressChance:.7},{max:1/0,description:"Impossible",scoreMultiplier:0,stressChance:1}],setTimeout((()=>{this.appManager=e,this.dataManager=e.getDataManager(),this.characterManager=e.getCharacterManager(),this.campaignManager=e.getCampaignManager(),this.playerManager=e.getPlayerManager(),this.uiManager=e.getUiManager()}),0)}perceptionEventReveal(e){var t,a;const n=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayers();null===n||void 0===n||n.forEach((t=>{t.characters.includes(e.id)?t.playerStats.engagement+=1:t.playerStats.engagement-=1})),null===(a=this.uiManager)||void 0===a||a.updateParty()}getPartyStrength(){var e;const t=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers();let a=0;return null===t||void 0===t||t.forEach((e=>{e.characters.forEach((e=>{var t;const n=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);n&&(a+=n.level)}))})),a}updateAttention(e){var t,a;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const s=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayers();null===s||void 0===s||s.forEach((t=>{null!==e&&void 0!==e&&e.includes(t.name)?t.playerStats.involvement=Math.min(t.playerStats.involvement+r,5):n&&(t.playerStats.involvement>0?t.playerStats.involvement=Math.max(t.playerStats.involvement-1,0):t.playerStats.enjoyment=Math.max(t.playerStats.enjoyment-1,0))})),null===(a=this.uiManager)||void 0===a||a.updateParty()}updateAllAttention(e){var t,a;const n=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayers();null===n||void 0===n||n.forEach((t=>{t.playerStats.involvement=Math.max(0,Math.min(t.playerStats.involvement+e,5))})),null===(a=this.uiManager)||void 0===a||a.updateParty()}multiplyPartyTension(e){var t;this.partyTension*=e,null===(t=this.uiManager)||void 0===t||t.updateParty()}addPartyTension(e){var t;this.partyTension+=e,this.partyTension>100&&(this.partyTension=100),null===(t=this.uiManager)||void 0===t||t.updateParty()}setPartyTension(e){var t;this.partyTension=e,null===(t=this.uiManager)||void 0===t||t.updateParty()}takeBreak(){var e;this.partyTension=.5*this.partyTension,this.updateAllAttention(-2),this.partyExhaustion=.5*this.partyExhaustion,this.emit("dmScreenUpdated",this.partyExhaustion),null===(e=this.uiManager)||void 0===e||e.updateParty()}getPartyExhaustion(){return this.partyExhaustion}exhaustParty(e){this.partyExhaustion+=e,this.emit("dmScreenUpdated",this.partyExhaustion)}addPartyEngagement(e){var t,a;const n=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayers();null===n||void 0===n||n.forEach((t=>{t.playerStats.engagement+=e})),null===(a=this.uiManager)||void 0===a||a.updateParty()}addPartyScore(e){var t;this.partyScore+=e*this.getTensionScoreMultiplier(),null===(t=this.uiManager)||void 0===t||t.updateParty()}getPartyScore(){return this.partyScore}addInjury(e){var t,a;if(!e)return" invalid";e.injury="injured"===e.injury?"dead":"injured";const n=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayerAssignedCharacter(e.id);return n&&(e.injury,n.playerStats.enjoyment=Math.max(n.playerStats.enjoyment-1,0)),null===(a=this.uiManager)||void 0===a||a.updateParty(),e.injury}addEnjoyment(e,t){var a;e&&(e.playerStats.enjoyment=Math.min(5,Math.max(e.playerStats.enjoyment+t,0)),null===(a=this.uiManager)||void 0===a||a.updateParty())}addPartyEnjoyment(e){var t,a;const n=null===(t=this.playerManager)||void 0===t?void 0:t.getPlayers();null===n||void 0===n||n.forEach((t=>{t.playerStats.enjoyment=Math.min(4,Math.max(t.playerStats.enjoyment+e,0))})),null===(a=this.uiManager)||void 0===a||a.updateParty()}replenishTools(e){e.attributeLoss&&(e.attributeLoss.tools=0)}replenishPartyTools(){var e,t;const a=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers();null===a||void 0===a||a.forEach((e=>{e.characters.forEach((e=>{var t;const a=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);a&&a.attributeLoss&&(a.attributeLoss.tools=0)}))})),null===(t=this.uiManager)||void 0===t||t.updateParty()}healRandomCharacter(){var e;const t=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers(),a=[];if(null===t||void 0===t||t.forEach((e=>{e.characters.forEach((e=>{var t;const n=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);n&&n.injury&&a.push(n)}))})),0===a.length)return;const n=Math.floor(Math.random()*a.length);a[n].injury=void 0}healParty(){var e,t;const a=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers();null===a||void 0===a||a.forEach((e=>{e.characters.forEach((e=>{var t;const a=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);a&&(a.injury=void 0)}))})),null===(t=this.uiManager)||void 0===t||t.updateParty()}raiseRandomFromDead(){var e;const t=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers(),a=[];if(null===t||void 0===t||t.forEach((e=>{e.characters.forEach((e=>{var t;const n=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);n&&"dead"===n.injury&&a.push(n)}))})),0===a.length)return;const n=Math.floor(Math.random()*a.length);a[n].injury=void 0}replenishPartyMagic(){var e,t;const a=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers();null===a||void 0===a||a.forEach((e=>{e.characters.forEach((e=>{var t;const a=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);a&&a.attributeLoss&&(a.attributeLoss.magic=0)}))})),null===(t=this.uiManager)||void 0===t||t.updateParty()}replenishMagic(e){var t;e.attributeLoss&&(e.attributeLoss.magic=0,null===(t=this.uiManager)||void 0===t||t.updateParty())}levelUpLowestCharacter(){var e;const t=null===(e=this.playerManager)||void 0===e?void 0:e.getPlayers();let a,n=100;null===t||void 0===t||t.forEach((e=>{e.characters.forEach((e=>{var t;const r=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacterByIndex(e);r&&r.level<n&&(n=r.level,a=r)}))})),a&&(a.level+=1)}generateHeroes(e){var t;const a=[];e.forEach((e=>{const t={npcTag:e,icon:`combat_${e.name}`,name:e.name};a.push(t)}));const n=null===(t=this.characterManager)||void 0===t?void 0:t.getCharacters();return null===n||void 0===n||n.forEach((e=>{const t={character:e,icon:e.icon,name:e.name};a.push(t)})),a}getPartyTension(){return this.partyTension}getTensionScoreMultiplier(){for(const e of this.tensionDescriptions)if(this.partyTension<=e.max)return e.scoreMultiplier;return 0}getTensionDescription(e){for(const t of this.tensionDescriptions)if(e<=t.max)return t.description;return"Unknown Tension"}getTensionDescription2(e){let t=0;for(const a of this.tensionDescriptions)if(e<=a.max){t=a.scoreMultiplier;break}return 0===t?"none":.5===t?"1/2":1===t?"normal":`x${t}`}getScoreMultiplier(e){for(const t of this.tensionDescriptions)if(e<=t.max)return t.scoreMultiplier}getStressChance(e){for(const t of this.tensionDescriptions)if(e<=t.max)return t.stressChance}getStressColors(){return this.stressColors}}const sr=rr;class ir extends Wa.EventEmitter{constructor(e){super(),this.appManager=void 0,this.playerManager=void 0,this.characterManager=void 0,this.renderImageForEvent=!1,this.init(),this.appManager=e,this.playerManager=this.appManager.getPlayerManager(),this.characterManager=this.appManager.getCharacterManager()}closeNotebook(){this.emit("setNotebookState",void 0)}closeTutorial(){this.closeNotebook()}updateEncounterState(e){this.emit("updateEncounterState",e)}showNotebook(e){this.emit("setNotebookState",e)}removePlayer(e){this.emit("removePlayer",e)}getEventIcon(e){return`event_${e}`}notifyPlayerUpdate(){this.emit("playerUpdate")}showTutorialPage(e){this.emit("setTutorialPage",e)}changeEventTimer(e){this.emit("setupTimeChange",e)}showRewardModal(e,t){this.emit("showRewardModal",e,t)}toggleImageForEvent(){this.renderImageForEvent=!this.renderImageForEvent,this.emit("eventUpdated")}getMessageIconId(e){let t;switch(e.type){case N.PLAYER:t=this.playerManager.getRecruitablePlayers()[e.id].icon;break;case N.CHARACTER:t=this.characterManager.getCharacterByIndex(e.id).icon;break;case N.DM:t="chat_dm";break;case N.HELPER:default:t="chat_imp"}return t}getMessageSpeakerName(e){let t;switch(e.type){case N.PLAYER:t=this.playerManager.getRecruitablePlayers()[e.id].name;break;case N.CHARACTER:t=this.characterManager.getCharacterByIndex(e.id).name;break;case N.DM:t="You";break;case N.HELPER:default:t="Impy"}return t}getShortenedName(e){return e.split(" ").map((e=>e[0])).join("")}showImageForEvent(){return this.renderImageForEvent}showBasicNotebook(e,t){let a,n="",r=[];switch(e){case m:a={character:t},n=a.character.name;let e=this.playerManager.getPlayerAssignedCharacter(a.character.id);e&&r.push({category:g,content:{player:e,message:""},title:e.name});break;case h:a={location:t},n=a.location.name;break;case d:a={encounter:t},n=a.encounter.name,r.push({category:h,content:{location:a.encounter.location},title:a.encounter.location.name});break;case g:a={player:t},n=a.player.name;const s=this.appManager.getCharacterManager();a.player.characters.forEach((e=>{let t=s.getCharacterByIndex(e);r.push({category:m,content:{character:t,message:""},title:t.name})}));break;default:return void console.error("BAD SHOW BASIC NOTEBOOK CALLED")}const s={category:e,content:a,title:n};r.length>0?this.showNotebook([s,...r]):this.showNotebook([s])}showTutorialMessage(e){const t={category:f,content:{message:e.content[0],showNext:e.content.length>1?1:void 0,icon:e.icons?e.icons[0]:void 0,title:e.title},title:e.title},a=e.content.slice(1).map(((t,a)=>({category:f,content:{message:t,showNext:a<e.content.length-2?a+2:void 0,showPrev:a,icon:e.icons?e.icons[a+1]:void 0,title:e.title},title:e.title})));a.length>0?this.showNotebook([t,...a]):this.showNotebook([t])}getPlayerAttitudesStyle(e){switch(this.playerManager.getGroupAttitudeForTag(this.playerManager.getPlayers(),e)){case o.LIKE:return"player-like";case o.CONFLICTED:return"player-conflicted";case o.HATE:return"player-hate";default:return"player-neutral"}}updateParty(){this.emit("playerUpdate")}showAcceptCampaignModal(e){console.log("showing accept campaign modal...")}init(){console.log("init uiManager...")}update(e){}static getPlayerEmail(e){const t=this.hashString(e),a=this.seededRandom(t);return`${e.replace(" ",".").toLowerCase()}${this.randomDigit(a)}${this.randomDigit(a)}${this.randomDigit(a)}@gmail.com`}static getPlayerPhone(e){const t=this.hashString(e),a=this.seededRandom(t);return`(${this.randomDigit(a)}${this.randomDigit(a)}${this.randomDigit(a)}) ${this.randomDigit(a)}${this.randomDigit(a)}${this.randomDigit(a)}-${this.randomDigit(a)}${this.randomDigit(a)}${this.randomDigit(a)}${this.randomDigit(a)}`}static hashString(e){let t=0;for(let a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t|=0}return t}static seededRandom(e){return function(){const t=1e4*Math.sin(e++);return t-Math.floor(t)}}static randomDigit(e){return Math.floor(10*e())}}const lr=ir;const or=class{getGraph(){return this.campaignGraph}constructor(e){this.campaignGraph=void 0,this.stateConfigs=new Map,this.appManager=void 0,this.appManager=e,this.init()}init(){this.campaignGraph=new s,this.initStates(),console.log("init dataManager...")}getStateProps(e){var t;return null!==(t=this.stateConfigs.get(e||this.appManager.state))&&void 0!==t?t:Ft}initStates(){this.stateConfigs.set(_t.MAIN_MENU,{...Ft,...Dt[_t.MAIN_MENU]}),this.stateConfigs.set(_t.CAMPAIGN_SETUP,{...Ft,...Dt[_t.CAMPAIGN_SETUP]}),this.stateConfigs.set(_t.PLAYER_RECRUITMENT,{...Ft,...Dt[_t.PLAYER_RECRUITMENT]}),this.stateConfigs.set(_t.CHARACTER_CREATION,{...Ft,...Dt[_t.CHARACTER_CREATION]}),this.stateConfigs.set(_t.SESSION_OVERVIEW,{...Ft,...Dt[_t.SESSION_OVERVIEW]}),this.stateConfigs.set(_t.SESSION,{...Ft,...Dt[_t.SESSION]}),this.stateConfigs.set(_t.SCORE,{...Ft,...Dt[_t.SCORE]})}};const cr=class{constructor(e){this.characters=void 0,this.uniqueID=0,this.selectedCharacters=void 0,this.appManager=void 0,this.getUFClass=e=>{switch(e){case rt.CLERIC:return"Cleric";case rt.DRUID:return"Druid";case rt.FIGHTER:return"Fighter";case rt.PALADIN:return"Paladin";case rt.ROGUE:return"Rogue";case rt.WIZARD:return"Wizard";default:return"Unknown"}},this.getUFRace=e=>{switch(e){case nt.HUMAN:return"Human";case nt.ELF:return"Elven";case nt.DWARF:return"Dwarven";case nt.HALFLING:return"Halfling";case nt.HALF_ELF:return"Half-Elf";case nt.HALF_ORC:return"Half-Orc";default:return"Unknown"}},this.getUFAttributeName=e=>{switch(e){case c.COMBAT:return"Combat";case c.MAGIC:return"Magic";case c.TOOLS:return"Tools";default:return"Unknown"}},this.getUFAttributeSymbol=e=>{switch(e){case c.COMBAT:return"\u2694\ufe0f";case c.MAGIC:return"\u2728";case c.TOOLS:return"\ud83d\udd27";default:return"\u2753"}},this.getUFInitials=e=>e.name.split(" ").map((e=>e[0])).join(""),this.characters=[],this.selectedCharacters=[],this.appManager=e}init(){this.generateAvailableCharacters(12)}getCharacters(){return this.characters}setSelectedCharacters(e){this.selectedCharacters=this.characters.filter(((t,a)=>e.includes(a))).map((e=>e.id))}getCharacterByIndex(e){return this.characters[e]}getCharacterReferences(){return this.characters}setAttributeUsed(e,t,a){e.attributeLoss||(e.attributeLoss={}),e.attributeLoss[t]=(e.attributeLoss[t]||0)+a}getSelectedCharacters(){return this.selectedCharacters}getRandomRace(){const e=Object.values(nt);return e[Math.floor(Math.random()*e.length)]}getRandomClass(){const e=Object.values(rt);return e[Math.floor(Math.random()*e.length)]}getRandomIconNumber(){return Math.floor(2*Math.random())+1}getRandomIcon(e){switch(e){case nt.DWARF:return"dwarf_"+this.getRandomIconNumber();case nt.ELF:return"elf_"+this.getRandomIconNumber();case nt.HUMAN:return"human_"+this.getRandomIconNumber();case nt.HALF_ORC:return"halfOrc_"+this.getRandomIconNumber();case nt.HALF_ELF:return"halfElf_"+this.getRandomIconNumber();case nt.HALFLING:return"halfling_"+this.getRandomIconNumber();default:return"human_"+this.getRandomIconNumber()}}generateStartingGear(){switch(Math.floor(6*Math.random())){case 0:return[Bt.SWORD_1];case 1:return[Bt.WAND_5];case 2:return[Bt.HELPFUL_IMP];default:return[]}}getRandomGear(){const e=Object.keys(Bt),t=Math.floor(Math.random()*e.length);return Bt[e[t]]}assignGear(e,t){void 0===Bt[t]&&(console.error("Gear not found: "+t),t=Object.keys(Bt).find((e=>Bt[e].name===t))||"");const a=Bt[t];a?e.gear.push(a):console.error("Gear not found: "+t)}getAllExpectedBackstoryTags(){const e=this.characters.flatMap((e=>e.backstory.filter((e=>!e.completed)).map((e=>e.tag))));return[...new Set(e)]}getCharactersWithBackstoryTag(e){return this.characters.filter((t=>t.backstory.some((t=>t.tag===e))))}assignBackstory(e,t){const a=e.backstory.find((e=>e.tag===t));if(a)a.completed=!0,this.appManager.getPartyManager().addPartyScore(mn);else{const a={tag:t,completed:!1,description:void 0};e.backstory.push(a)}}generateAvailableCharacters(e){for(let t=0;t<e;t++){const e=this.getRandomClass(),t=this.getRandomRace(),a={name:hn(!0),race:t,character_class:e,level:1+Math.floor(4*Math.random()),icon:this.getRandomIcon(t),abilities:[],id:this.uniqueID++,gear:this.generateStartingGear(),backstory:[]};this.characters.push(a)}return this.characters}generateNPC(e){return{race:nt.NPC,character_class:rt.NPC,abilities:[],level:1,name:e.name,id:this.uniqueID++,icon:`combat_${e.name}`,gear:[],backstory:[]}}initiateQuickStart(){this.characters=er}},ur={MAIN_MENU:{title:"Welcome to Dungeon Master Simulator!",content:[{withHTML:"\n        <h1>Welcome!</h1>\n        <p>Thanks for trying out my game, the latest version is version 0.0.1 from Dec 22, 2024. It is still very much in the early stages.<br><br>This is a game about running a fantasy-tabletop RPG. Instead of exploring, adventuring, and conquering, this is a game about scheduling players, designing balanced encounters, managing potential branches in storylines, and above all keeping your players happy!</p>\n        <p>At the moment the only things available are:</p>\n        <ul>\n            <li>Player Recruitment</li>\n            <li>Character Assignment</li>\n            <li>Campaign Selection</li>\n        </ul>\n        <p> Get started by going to Player Recruitment</p>\n        <br>\n        <h1>COMING SOON</h1>\n        <ul>\n            <li>Player chatter / message system</li>\n            <li>Campaign settings / launch game</li>\n        </ul>\n         <h1>COMING LATER</h1>\n          <ul>\n            <li>Rest of game</li>\n        </ul>\n    "}.withHTML],icons:["tutorial_mascot","tutorial_mascot","tutorial_mascot"]},PLAYER_RECRUITMENT:{title:"Player Recruitment",content:["\n        <h1>PLAYERS</h1>\n        <p>Players are your clients. After a successful campaign, they will reward you with money and respect. You'll want to recruit players with similar, or complimentary preferences (LIKES/HATES), as well as making sure their schedules are compatible.<br><br>To see a player's preferences, hover over the red or green dots on their player card. When you click a player it will be added to the group, and you will see the player's preferences added to the notebook on the left. The notebook will also contain a page for each player.</p>\n        <p>I think three players is a good number to go for. I have a feeling the game will be more difficult to play with more players - as keeping them all happy and juggling other game elements with high player-counts may prove difficult. having more players would also logically lead to getting paid more at the end of the campaign so it could be a nice synergy of difficulty and reward scaling on its own.</p>\n        \n        <br>","\n        <h1>Notes</h1>\n        <ul>\n            <li>I have a new design for the player-cards in mind. I realize they are very busy now.</li>\n            <li>Im not sure how scheduling will work out in the game. Im hesitant to remove it because it provides a bit of a counter to simply matching LIKES/HATES of players. Im thinking that a better-schedule might impact some elements of the actual gameplay later on, even if it's just a points-multiplier at the end if you have a good schedule-synergy...give me ideas!</li>\n            <li>I'm thinking of adding more player-stats. Things like stamina, or focus, which would come into play during sessions. Some players may tolerate certain gameplay elements outside of simply liking/hating based on the metadata tags. \n        </ul>\n        <p>Once you have some Players, head over to Character Assignment to assign them some characters.</p>\n    "],icons:["tutorial_mascot","tutorial_mascot"]},CHARACTER_CREATION:{title:"Character Creation",content:["\n        <h1>CHARACTERS</h1>\n        <p>Characters are what you are probably used to in a game. These are the wizards, fighters, elves, dwarves, etc.. Characters are assigned to Players. At the moment, there is a four Character limit for each player, and I feel like that's a lot. Im not sure what the tradeoff is in the Player:Character ratio though.</p>\n        <br>The Character stats are about as far into the 'game within the game' as I'd like to get. Id like for there to be some simple mechanics that can be used to make these stats important or fun though.</p>\n        <p>I'm also not sure what the limit should be for a player to have a higher level character. As a Dungeon Master, having higher level characters at your table isn't a reward in itself, but it might be a fun element of progression in the game. As you get to know your players and play with them over multiple campaigns, maybe the same would be true with the Characters.</p>\n        <p>Once you have some Characters, head over to Campaign Setup to start a campaign.</p>\n    "],icons:["tutorial_mascot"]},CAMPAIGN_SETUP:{title:"Campaign Setup",content:["\n    <h1>Campaigns</h1>\n    <p>Campaigns are the storyline of the game you are presenting to your players. A Campaign is composed of a series of events, called 'encounters'.\n    <br>Encounters all have different features, including a Location and some number of characteristics. For example, an encounter called 'Goblin Ambush' may feature a Location 'Forest' and have characteristics like 'goblins', 'combat', forest', 'wilderness', 'night', etc.. Any of which may be things certain players prefer (or prefer to avoid!)\n    <p>During the encounter, the players will uncover the different features and react to them based on their preferences. They will also be uncovering information about the <i>upcoming<i> encounters. This will then lead to the players choosing which branching encounter to go to next. Some encounters may be more rewarding than others, so there will be ways to try and 'steer' the player's decisions, but there will still be an element of randomness, and if you try to put too much emphasis on ONE encounter over the others there will be some penalty.</p>\n    ","\n        <h1>Notes</h1>\n        <ul>\n            <li>I actually really like the design of this screen. I'd like to achieve this level of style in the rest of the game.</p> \n            <li>Making the encounters is pretty fun too. I like being able to tell the idea of a story - it allows for so much potential in terms of the details that could all <i>possibly</i> exist. \n            <li>I plan to make the actual CREATING of campaigns, encounters, and location possible. I find the idea of making an in-game editor a bit daunting, to be honest so I'll probably circle back to that closer to the end of the first full version of this game.</li>\n        \n        </ul>\n"],icons:["tutorial_mascot","tutorial_mascot"]}};class dr extends Wa.EventEmitter{constructor(e){super(),this.appManager=void 0,this.uiManager=void 0,this.seenTutorials=new Set,this.turnOffTutorials=!1,this.appManager=e,this.uiManager=this.appManager.getUiManager(),this.seenTutorials=new Set}startTutorial(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.turnOffTutorials||this.seenTutorials.has(e)&&!t||this.uiManager.showTutorialMessage(ur[e])}disableTutorial(){this.turnOffTutorials=!0}}const hr=dr;class mr extends(Ka()){constructor(e){super(),this.appManager=void 0,this.playerManager=void 0,this.characterManager=void 0,this.conversations={WELCOME_CONVERSATION:[{message:"Hello everyone, welcome to the game.",speaker:{type:N.DM,id:0}},{message:"Hello!",speaker:{type:N.PLAYER,id:0}},{message:"Have a seat and grab some snacks. I'm just looking over my notes and we will start in a moment.",speaker:{type:N.DM,id:0}},{message:"Can I sit here?",speaker:{type:N.PLAYER,id:1}},{message:"Where are the snacks?",speaker:{type:N.PLAYER,id:2}},{message:"Everyone settled? We start in the town of Sagewood...",speaker:{type:N.DM,id:0}}]},this.appManager=e,this.playerManager=this.appManager.getPlayerManager(),this.characterManager=this.appManager.getCharacterManager()}fireNewChatMessage(e){if(e.speaker.type===N.CHARACTER){if(!this.characterManager.getCharacterByIndex(e.speaker.id))return void console.error("Character not found: ",e.speaker.id)}else if(e.speaker.type===N.PLAYER){if(!this.playerManager.getPlayerById(e.speaker.id))return void console.error("Player not found: ",e.speaker.id)}this.emit("chat-message",e)}triggerConversation(e,t){100*Math.random()<t&&this.launchNewConversationById(e)}playerMessage(e,t){let a;a=Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e;const n=null!==t&&void 0!==t?t:this.playerManager.getRandomPlayer().id,r={message:a,speaker:{type:N.PLAYER,id:n}};this.fireNewChatMessage(r)}dmMessage(e){let t;t=Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e;const a={message:t,speaker:{type:N.DM,id:0}};this.fireNewChatMessage(a)}launchNewConversationById(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const a=this.conversations[e];a?a.forEach(((e,a)=>{setTimeout((()=>{this.fireNewChatMessage(e)}),a*t)})):console.error("Conversation not found: ",e)}launchNewConversation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;e.forEach(((e,a)=>{setTimeout((()=>{this.fireNewChatMessage(e)}),a*t)}))}startSessionEvent(){this.launchNewConversationById("WELCOME_CONVERSATION",3e3)}perceptionEvent(e,t){let a="",n=!1;if(t.tags.forEach((e=>{this.expectedTagResolved(e.tag)&&(n=!0)})),n)return;switch(t.type){case A.CURRENT_LOCATION:a=`${t.tags[0].tag.name}? Pretty much what I would expect from a ${t.name}.`;break;case A.BRANCH_LOCATION:a=`Hmm. Sounds like we know where to look for ${t.tags[0].tag.name}...`;break;case A.CHARACTER_BACKSTORY:a="OH. MY. GOSH.";break;case A.CHARACTER_BACKSTORY_PROGRESS:a=`AT LAST! My character has been searching for ${t.tags[0].tag.name}.`;break;case A.MAGIC_ITEM:a="Magic item? I'm intrigued.";break;case A.PLOT_HOOK:const n=[{message:"I have a feeling this is going to be important",speaker:{type:N.PLAYER,id:e.id}},{message:"... in a few months.",speaker:{type:N.PLAYER,id:this.playerManager.getRandomPlayer().id}}];return void this.launchNewConversation(n)}const r={message:a,speaker:{type:N.PLAYER,id:e.id}};this.fireNewChatMessage(r)}chance(e){return 100*Math.random()<e}expectedTagForeshadowed(e,t){const a=this.appManager.getCampaignManager().getEncounterChatTrigger(e.tag);return a&&a.message&&(a.message+=this.getThemePostFix(e)),!!a&&(this.fireNewChatMessage(a),!0)}getThemePostFix(e){switch(e.theme){case"comedic":return" in a comedic way";case"heroic":return" in a heroic way";case"serious":return" in a serious way";case"dramatic":return" in a dramatic way";case"grim":return" in a grim way";case"romantic":return" in a romantic way";case"fantasy":return" in a fantasy way";case"horror":return" in a horror way"}return""}roleplayingEvent(e){if("character"===e.type){const t=e.character;return void this.dmMessage(`We are going to focus on ${t.name} for a while...`)}const t=e.tag;if(!t)return void console.error("No tag found for roleplaying event");let a=this.playerManager.getRandomPlayer(),n=this.appManager.getCampaignManager(),r="maxim broke something, haha",s=a.id,i=N.PLAYER;if(this.chance(50)&&n.isMagicItemRumor(t.tag.name))return void this.magicItemConversation(t.tag.name,a.id);if(this.chance(50)&&"none"!==t.theme)return void this.themeConversation(t,a.id);const l=this.playerManager.getPlayers();if(n.getOutstandingBackstoryTags().includes(t.tag)){const e=this.characterManager.getCharactersWithBackstoryTag(t.tag)[0];a=this.playerManager.getPlayerAssignedCharacter(e.id)||a,r=`${e.name} was looking for ${t.tag.name}!`}else if(this.chance(50)&&this.playerManager.getGroupAttitudeForTag(l,t.tag)!==o.NEUTRAL){if(this.playerManager.getGroupAttitudeForTag(l,t.tag)===o.HATE)a=this.playerManager.getPlayerWithAttitudeForTag(t.tag,o.HATE),r=`Ick. ${t.tag.name}.`;else if(this.playerManager.getGroupAttitudeForTag(l,t.tag)===o.LIKE)a=this.playerManager.getPlayerWithAttitudeForTag(t.tag,o.LIKE),r=`Oooh, I like ${t.tag.name}.`;else if(this.playerManager.getGroupAttitudeForTag(l,t.tag)===o.CONFLICTED){var c,u,d;a=this.playerManager.getPlayerWithAttitudeForTag(t.tag,o.LIKE);let e=this.playerManager.getPlayerWithAttitudeForTag(t.tag,o.HATE),n=null!==(c=null===(u=a)||void 0===u?void 0:u.id)&&void 0!==c?c:0,r=null!==(d=null===e||void 0===e?void 0:e.id)&&void 0!==d?d:0;const s=[{message:`Ugh. I'm sick of ${t.tag.name}!`,speaker:{type:N.PLAYER,id:r}},{message:`...I like ${t.tag.name}.`,speaker:{type:N.PLAYER,id:n}}];return void this.launchNewConversation(s)}}else switch(Math.floor(7*Math.random())){case 0:r=`What do we think about ${t.tag.name}?`;break;case 1:r=`You remember something about ${t.tag.name} ...`,i=N.DM;break;case 2:r=`I was hoping ${t.tag.name} would come up!`;break;case 3:r=`Can ${t.tag.name} be important?`;break;case 4:r=`${t.tag.name}? ok.`;break;case 5:r=`${t.tag.name} reminds me of gob${t.tag.name}lins.`;break;case 6:r=`You overhear someone talking about ${t.tag.name}.`,i=N.DM}const h={message:r,speaker:{type:i,id:s}};this.fireNewChatMessage(h)}expectedTagResolved(e){const t=this.appManager.getCampaignManager().getEncounterChatTriggers(),a=null===t||void 0===t?void 0:t[e.name];return!!a&&(this.fireNewChatMessage(a),!0)}triggerAddRandomTagToEncounterConversation(e,t){const a=[[{message:`Thinking: "Hmmm....should I add ${e.name} to the ${t.name} encounter....?"`,speaker:{type:N.DM,id:0}},{message:"Hey!...why are you so quiet? What are you thinking about?",speaker:{type:N.PLAYER,id:this.playerManager.getRandomPlayer().id}},{message:`Oh, nothing...just thinking about how much you guys are going to love ${e.name} if you go to ${t.location.name}...`,speaker:{type:N.DM,id:0}}],[{message:`Why do I get the feeling we will find ${e.name} at ${t.location.name}?`,speaker:{type:N.PLAYER,id:this.playerManager.getRandomPlayer().id}},{message:"Yeah, sure. Why not?",speaker:{type:N.DM,id:0}},{message:`You shrewdly devise that you will find ${e.name} at ${t.location.name}...`,speaker:{type:N.DM,id:0}}],[{message:`Going off-script here - but I think it will be fun to have ${e.name} involved with the events at ${t.location.name}...`,speaker:{type:N.DM,id:0}}],[{message:`I bet ${e.name} will be at ${t.location.name}!`,speaker:{type:N.PLAYER,id:this.playerManager.getRandomPlayer().id}},{message:"Why? I don't think I ever indicated that th-",speaker:{type:N.DM,id:0}},{message:`Oh man! I bet you're right! If we get to ${t.location.name} we are sure to find ${e.name}!`,speaker:{type:N.PLAYER,id:this.playerManager.getRandomPlayer().id}}]],n=a[Math.floor(Math.random()*a.length)];this.launchNewConversation(n)}magicItemConversation(e,t){const a=[{message:`Behold....the ${e}...`,speaker:{type:N.PLAYER,id:t}},{message:"Say it in-character",speaker:{type:N.DM,id:this.playerManager.getRandomPlayer().id}},{message:`Behold....the ${e}...`,speaker:{type:N.CHARACTER,id:t}}];this.launchNewConversation(a)}themeConversation(e,t){let a="",n=t,r=N.PLAYER;switch(e.theme){case"comedic":a=`Heheh..."${e.tag.name}"`;break;case"grim":a=`I need to tell you something disturbing about ${e.tag.name}.`,r=N.DM;break;case"fantasy":a=`I sometimes daydream about ${e.tag.name}.`;break;case"heroic":a=`Yeah! ${e.tag.name}!!!`,r=N.CHARACTER;break;case"horror":a=`A chill descends on the party as they think about ${e.tag.name}.`,r=N.DM;break;case"romantic":a=`OOoooooOOOoo ${e.tag.name}. Kissy kissy!`;break;case"serious":a=`We should focus on ${e.tag.name}.`;break;case"dramatic":a=`BEHOLD! ${e.tag.name}!!!`,r=N.CHARACTER}const s={message:a,speaker:{type:r,id:n}};this.fireNewChatMessage(s)}sayCombatModifiedMessage(e,t,a,n){let r="";r="DM"===t.name?"heroes"===e?`The ${a.name} are not as strong as you first thought...`:`Oops, the ${a.name} have more HP than regular...`:n<0?`Nevermind about the ${t.name}...`:"heroes"===e?t.enemy||t.friendly?`Some ${t.name} are distracting the ${a.name}!`:`The ${a.name} get stuck trying to avoid the ${t.name}.`:t.enemy||t.friendly?`The ${a.name} seem to have some ${t.name} on their side...`:`The ${a.name} use the ${t.name} to their advantage.`;const s={message:r,speaker:{type:N.DM,id:0}};this.fireNewChatMessage(s)}combatIntroMessage(e){const t=this.playerManager.getGroupAttitudeForTag(this.playerManager.getPlayers(),e);let a="",n=this.playerManager.getRandomPlayer();t===o.LIKE?(a=`Yay! ${e.name} are my favorite!`,n=this.playerManager.getPlayerWithAttitudeForTag(e,o.LIKE)||n):t===o.HATE?(n=this.playerManager.getPlayerWithAttitudeForTag(e,o.HATE)||n,a=`Ugh. I hate ${e.name}. Why do we even have them in the game?`):t===o.CONFLICTED?(a=`Well, I know some people don't like ${e.name}, but I like em.`,n=this.playerManager.getPlayerWithAttitudeForTag(e,o.LIKE)||n):a=`I figured we'd fight ${e.name} eventually.`;const r={message:a,speaker:{type:N.PLAYER,id:n.id}};this.dmMessage("You guys enter combat with some "+e.name),setTimeout((()=>{this.fireNewChatMessage(r)}),5e3)}}const gr=mr;class pr extends Wa.EventEmitter{constructor(){super(),this._state=_t.MAIN_MENU,this.lastTime=0,this.campaignManager=void 0,this.playerManager=void 0,this.sessionManager=void 0,this.dataManager=void 0,this.partyManager=void 0,this.uiManager=void 0,this.characterManager=void 0,this.tutorialManager=void 0,this.chatManager=void 0,this.combatManager=void 0,this.playerManager=new ar(this),this.campaignManager=new Jn(this),this.characterManager=new cr(this),this.sessionManager=new nr,this.dataManager=new or(this),this.partyManager=new sr(this),this.uiManager=new lr(this),this.tutorialManager=new hr(this),this.chatManager=new gr(this),this.combatManager=new Xa(this),this.init()}init(){this.state=_t.MAIN_MENU,this.playerManager.init(),this.characterManager.init(),this.startGameLoop()}initiateQuickStartSetup(){this.playerManager.initiateQuickStart(),this.characterManager.initiateQuickStart(),this.campaignManager.initiateQuickStart(),this.chatManager.startSessionEvent()}startGameLoop(){const e=t=>{const a=t-this.lastTime;this.lastTime=t,this.update(a),requestAnimationFrame(e)};requestAnimationFrame(e)}update(e){var t;null===(t=this.uiManager)||void 0===t||t.update(e)}get state(){return this._state}set state(e){switch(console.log("Changing state from",this._state,"to",e),this._state){case _t.PLAYER_RECRUITMENT:this.playerManager.acceptSelectedPlayers();break;case _t.MAIN_MENU:case _t.CHARACTER_CREATION:case _t.CAMPAIGN_SETUP:console.log("Changing state from ",this._state)}switch(e){case _t.MAIN_MENU:break;case _t.PLAYER_RECRUITMENT:this.tutorialManager.startTutorial("PLAYER_RECRUITMENT");break;case _t.CHARACTER_CREATION:this.tutorialManager.startTutorial("CHARACTER_CREATION");break;case _t.CAMPAIGN_SETUP:this.tutorialManager.startTutorial("CAMPAIGN_SETUP");break;case _t.SESSION_OVERVIEW:this.campaignManager.setSessionState(S.LOCATION_INTRO);break;case _t.SESSION:this.campaignManager.setSessionState(S.INTRO_EVENTS)}this._state=e,this.emit("stateChange")}advanceState(){var e;this.state=(null===(e=this.dataManager)||void 0===e?void 0:e.getStateProps().nextState)||_t.MAIN_MENU}getUiManager(){return this.uiManager}getDataManager(){return this.dataManager}getPlayerManager(){return this.playerManager}getCharacterManager(){return this.characterManager}getSessionManager(){return this.sessionManager}getPartyManager(){return this.partyManager}getCombatManager(){return this.combatManager}getCampaignManager(){return this.campaignManager}getTutorialManager(){return this.tutorialManager}getChatManager(){return this.chatManager}}const fr=new pr,vr=fr.getDataManager(),yr=fr.getCampaignManager(),br=fr.getSessionManager(),Er=fr.getPartyManager(),xr=fr.getUiManager(),Nr=fr.getCharacterManager(),Sr=fr.getPlayerManager();r.createRoot(document.getElementById("root")).render((0,et.jsx)(n.StrictMode,{children:(0,et.jsx)(Nt,{manager:Nr,children:(0,et.jsx)(St,{manager:Sr,children:(0,et.jsx)(Ct,{manager:fr,children:(0,et.jsx)(Tt,{manager:vr,children:(0,et.jsx)(At,{manager:yr,children:(0,et.jsx)(kt,{manager:br,children:(0,et.jsx)(Mt,{manager:Er,children:(0,et.jsx)(jt,{manager:xr,children:(0,et.jsx)(Zn,{})})})})})})})})})}))})();
//# sourceMappingURL=main.7137a8f9.js.map