{"version":3,"file":"static/js/main.d515293d.js","mappings":"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,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI,IACpE,CAAC,CAACuvF,IAAI,EAAEvvF,IAAI,GAAG,CAACuvF,IAAI,EAAEvvF,IAAI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","sources":["../node_modules/events/events.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/publicPath","models.ts","components/UI/cimage.tsx","consts/general.ts","components/schedule.tsx","components/UI/moreInfoButton.tsx","components/managerContexts.tsx","consts/states.ts","consts/characterConsts.ts","components/UI/attributeDisplay.tsx","components/characterCard.tsx","components/UI/fillBar.tsx","components/playerCard.tsx","components/UI/cbox.tsx","components/UI/notebookEncounter.tsx","components/UI/notebookCharacter.tsx","components/UI/notebookLocation.tsx","components/UI/notebookPlayer.tsx","components/UI/notebookGroup.tsx","components/UI/groupSchedule.tsx","components/UI/notebookTutorial.tsx","components/UI/notebook.tsx","components/UI/navBar.tsx","components/playerRecruitment.tsx","components/characterCreation.tsx","components/encounter-display.tsx","components/campaign-display-body.tsx","components/campaign-display-header.tsx","components/campaignDisplay.tsx","components/campaignSetup.tsx","consts/tags.ts","consts/themes.ts","consts/campaigns/generticEncounterEvents.ts","consts/campaigns/cultOfTheDeep.ts","consts/campaigns/millstoneMystery.ts","consts/campaigns/mountainMystery.ts","consts/campaigns.ts","components/UI/encounterOverview.tsx","components/GameRoom/encounterIntro.tsx","components/GameRoom/encounterEventDisplay.tsx","components/GameRoom/gameEncounterOverview.tsx","components/GameRoom/rangeCard.tsx","components/UI/numderDie.tsx","components/GameRoom/combatModifiers.tsx","components/GameRoom/addCombatants.tsx","components/GameRoom/combatBar.tsx","consts/enemies.ts","managers/combatManager.ts","components/UI/themedButton.tsx","components/withRandomTheme.tsx","components/GameRoom/gameEncounterCombat.tsx","components/GameRoom/gameEncounterExploration.tsx","components/UI/tooltip.tsx","components/GameRoom/gameEncounterPerception.tsx","components/GameRoom/gameEncounterRoleplay.tsx","components/GameRoom/characterToken.tsx","components/GameRoom/buildingCard.tsx","consts/buildings.ts","components/GameRoom/gameEncounterTown.tsx","components/GameRoom/gameEncounterTrap.tsx","components/GameRoom/challengeBar.tsx","utils/tagUtils.ts","consts/names.ts","utils/utils.ts","consts/score.ts","components/GameRoom/challengeDisplay.tsx","components/GameRoom/gameEncounterChallenge.tsx","components/GameRoom/gameEncounterPuzzle.tsx","components/GameRoom/gameEncounterStory.tsx","components/UI/TooltipWrapper.tsx","components/UI/travelOption.tsx","components/UI/effectDisplay.tsx","components/UI/FlavorTagPill.tsx","components/GameRoom/gameEncounterTravel.tsx","components/UI/treeShapeProps.tsx","consts/sceneryConsts.ts","components/UI/encounterScenery.tsx","components/GameRoom/gameEncounter.tsx","consts/rewards.ts","components/GameRoom/rewardModal.tsx","components/GameRoom/gameTable.tsx","components/UI/needleGauge.tsx","components/GameRoom/stressInfo.tsx","components/GameRoom/PlayerDisplay.tsx","components/UI/treasureDisplay.tsx","components/GameRoom/gameRoom.tsx","components/sessionControl.tsx","components/sessionRun.tsx","components/finalStats.tsx","consts/slotMachineConfig.ts","utils/localStorage.ts","utils/sounds.ts","components/UI/SlotMachine.tsx","components/UI/SlotMachineModal.tsx","components/mainMenu.tsx","components/UI/chatmessagedisplay.tsx","components/UI/chat.tsx","components/GameRoom/toneTracker.tsx","components/GameRoom/bottomBar.tsx","components/GameRoom/dmScreen.tsx","components/modecontainer.tsx","components/UI/modal.tsx","hooks/useModal.ts","components/UI/globalUi.tsx","App.tsx","consts/travel.ts","managers/campaignManager.ts","consts/playerTraits.ts","consts/quickStart.ts","managers/playerManager.ts","managers/sessionManager.ts","managers/partyManager.ts","managers/uiManager.ts","managers/dataManager.ts","managers/characterManager.ts","consts/tutorials.ts","managers/tutorialManager.ts","managers/chatManager.ts","managers/townManager.ts","managers/tagManager.ts","managers/appManager.ts","index.tsx"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/\";","import { NewLineKind } from \"typescript\";\r\nimport { RACE, CHARACTER_CLASS, ENCOUNTER_EVENT_TYPE } from \"./consts/general\";\r\nimport { APP_STATE } from \"./consts/states\";\r\n\r\nexport class Graph {\r\n  private nodes: Map<string, any>;\r\n  private edges: Map<string, Map<string, number>>;\r\n\r\n  constructor() {\r\n    this.nodes = new Map();\r\n    this.edges = new Map();\r\n  }\r\n\r\n  addNode(node: any) {\r\n    this.nodes.set(node.name, node);\r\n    this.edges.set(node.name, new Map());\r\n  }\r\n\r\n  addEdge(from: string, to: string, weight: number) {\r\n    this.edges.get(from)?.set(to, weight);\r\n  }\r\n\r\n  getNode(name: string) {\r\n    return this.nodes.get(name);\r\n  }\r\n}\r\n\r\nexport type Character = {\r\n  race: RACE,\r\n  character_class: CHARACTER_CLASS,\r\n  abilities: string[],\r\n  level: number,\r\n  name: string\r\n  id: number;\r\n  icon: string;\r\n  gear: Gear[];\r\n  backstory: Backstory[];\r\n  attributeLoss?: Attribute;\r\n  injury?: string;\r\n}\r\n\r\nexport type Backstory = {\r\n  tag: Tag;\r\n  completed: boolean;\r\n  description?: string;\r\n}\r\n\r\nexport enum PREFERENCE {\r\n  MAIN,\r\n  START,\r\n}\r\n\r\nexport type PlayerTrait = {\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\nexport type PlayerStats = {\r\n  stress: number;\r\n  enjoyment: number;\r\n  engagement: number;\r\n  involvement: number;\r\n  experience: number;\r\n  level: number;\r\n\r\n  maxEnjoyment: number;\r\n  maxInvolvement: number;\r\n  maxEngagement: number;\r\n  stressBuffer: number;\r\n\r\n}\r\n\r\nexport type Player = {\r\n  name: string;\r\n  characters: Character[];\r\n  id: number;\r\n  icon: string;\r\n  schedule: number[];\r\n  preferences: [Tag, ATTITUDE][];\r\n  traits: PlayerTrait[];\r\n  playerStats: PlayerStats;\r\n};\r\n\r\nexport type StateConfig = {\r\n  nextState: APP_STATE;\r\n  ui: Record<string, any>;\r\n  background_image_id: string | undefined;\r\n  secondary_bg_image_id: string | undefined;\r\n  secondary_image_pos: string | undefined;\r\n  bg_transition_mode: string | undefined;\r\n};\r\n  \r\nexport type Campaign = {\r\n  name: string;\r\n  id: number;\r\n  description: string;\r\n  icon: string;\r\n  background?: string;\r\n  theme: string;\r\n  nbCharacters: [number, number];\r\n  nbSessions: [number, number];\r\n  // these are to be generated!\r\n  encounters: Encounter[];\r\n  processedEncounters: Encounter[][];\r\n  startingEncounter: Encounter;\r\n  finaleEncounter: Encounter;\r\n  chatTriggers?: Record<string, Record<string, ChatTrigger | string | ChatMessage[]>>;\r\n  tooltipTags?:  Record<string, Record<string, string>>;\r\n  plotHooks?: string[];\r\n  \r\n};\r\n\r\nexport type ChatTrigger = {\r\n  message?: string;\r\n  speaker?: ChatSpeaker;\r\n  conversation?: string;\r\n\r\n}\r\n\r\nexport type ChatMessage = {\r\n  message: string;\r\n  speaker: ChatSpeaker;\r\n}\r\n\r\n\r\n// ONLY type gear if it is super useful - I have a feeling this is going to get REAL BUGGY\r\nexport enum TAG_TYPE  {\r\n  GEAR,\r\n  PLOT,\r\n  NONE\r\n}\r\n\r\n\r\nexport type Tag = {\r\n  name: string;\r\n  preference?: PREFERENCE;\r\n  type?: TAG_TYPE;\r\n  // Add all kinds of weird junk! Do it!\r\n  enemy?: boolean;\r\n  friendly?: boolean;\r\n  attributeDefault?: string;\r\n}\r\n\r\nexport type session = {\r\n\r\n}\r\n\r\nexport type Location = {\r\n  name: string;\r\n  description: string;\r\n  icon: string;\r\n  tags: Tag[];\r\n  themes: string[];\r\n}\r\n\r\nexport type EncounterEvent = {\r\n  name: string;\r\n  type: ENCOUNTER_EVENT_TYPE;\r\n  flavorText?: string;\r\n  tags?: Tag[];\r\n}\r\n\r\nexport type Encounter = {\r\n  name: string;\r\n  description: string;\r\n  icon: string;\r\n  location: Location;\r\n  tags: Tag[];\r\n  branches: Encounter[];\r\n  events: EncounterEvent[];\r\n  id: number;\r\n  combat?: Combat[];\r\n  challenge?: Challenge[];\r\n  town?: Town[];\r\n  travel?: boolean;\r\n\r\n  // npcs: NPC[]; // wheeee\r\n  // other junk\r\n}\r\n\r\nexport const enum ATTITUDE {\r\n  HATE = -1,\r\n  CONFLICTED = 0,\r\n  LIKE = 1,\r\n  NEUTRAL = 100\r\n}\r\n\r\nexport enum ATTRIBUTE_TYPE {\r\n  COMBAT = \"combat\",\r\n  MAGIC = \"magic\",\r\n  TOOLS = \"tools\"\r\n\r\n}\r\n\r\nexport enum ATTRIBUTE_CONTRIBUTOR {\r\n  RACE = \"race\",\r\n  GEAR = \"gear\",\r\n  CHARACTER_CLASS = \"character_class\",\r\n  ALL = \"all\",\r\n  NPC = \"npc\",\r\n}\r\n\r\n\r\nexport const NOTEBOOK_CATEGORY = {\r\n  ENCOUNTER: \"encounter\",\r\n  LOCATION: \"location\", \r\n  CHARACTER: \"character\",\r\n  PLAYER: \"player\",\r\n  MESSAGE:   \"message\",\r\n  TUTORIAL: \"tutorial\",\r\n  TOC: \"toc\",\r\n  GROUP: \"group\",\r\n}\r\n\r\n\r\nexport const NAV_ENTRY = {\r\n  CAMPAIGN: \"campaign\",\r\n  PLAYER_RECRUITMENT: \"player recruitment\",\r\n  CHARACTER_ASSIGNMENT: \"character assignment\",\r\n}\r\n\r\n\r\nexport type EncounterNotebookEntry = {\r\n  encounter: Encounter;\r\n  message: string;\r\n}\r\n\r\nexport type GroupNotebookEntry = {\r\n  players: Player[];\r\n  message: string;\r\n}\r\n\r\nexport type LocationNotebookEntry = {\r\n  location: Location;\r\n  message: string;\r\n}\r\n\r\nexport type CharacterNotebookEntry = {\r\n  character: Character;\r\n  message: string;\r\n}\r\n\r\nexport type PlayerNotebookEntry = {\r\n  player: Player;\r\n  message: string;\r\n}\r\n\r\nexport type TutorialNotebookEntry = {\r\n  message: string,\r\n  showNext?: number,\r\n  showPrev?: number,\r\n  icon?: string,\r\n  title: string\r\n\r\n}\r\n\r\n\r\nexport type NotebookState = {\r\n  title: string;\r\n  category: string;\r\n  content: any; // define types for the different categories\r\n}\r\n\r\nexport type Attribute = {\r\n  [ATTRIBUTE_TYPE.COMBAT]?: number;\r\n  [ATTRIBUTE_TYPE.MAGIC]?: number;\r\n  [ATTRIBUTE_TYPE.TOOLS]?: number;\r\n}\r\n\r\n\r\n// Enemey attributes can be simply multiplied by number of enemies, or use the array index\r\nexport type EnemyAttribute = {\r\n  defense: number[];\r\n  magic_defense: number[]; \r\n  health: number[];\r\n  attack: number[];\r\n}\r\n\r\nexport type EnemyAttributeInstance = {\r\n  defense: number;\r\n  magic_defense: number; \r\n  health: number;\r\n  attack: number;\r\n}\r\n\r\nexport type Gear = {\r\n    name: string;\r\n    attributes: Attribute;\r\n}\r\n\r\nexport type TutorialStep = {\r\n  title: string;\r\n  content: string[];\r\n  icons?: string[];\r\n}\r\n\r\nexport enum CHAT_TYPE {\r\n  PLAYER = \"player\",\r\n  CHARACTER = \"character\",\r\n  HELPER = \"helper\",\r\n  SYSTEM = \"system\",\r\n  DM = \"dm\"\r\n}\r\nexport type ChatSpeaker = {\r\n  type: CHAT_TYPE,\r\n  id: number;\r\n}\r\n\r\n\r\n\r\nexport type EncounterState = {\r\n  sessionState: SESSION_STATE;\r\n  eventIndex: number;\r\n}\r\n\r\nexport enum SESSION_STATE {\r\n  LOCATION_INTRO = \"location_intro\",\r\n  INTRO_EVENTS = \"intro_events\",\r\n  INTRO_MAIN = \"intro_main\",\r\n  MAIN_EVENTS = \"main_events\",\r\n  INTRO_EXIT = \"intro_exit\",\r\n  EXIT_EVENTS = \"exit_events\",\r\n  EXIT = \"exit\",\r\n}\r\n\r\nexport enum FlavorTagSource { \r\n  LOCATION = \"location\",\r\n  PLAYERS = \"players\",\r\n  QUESTS = \"quests\",\r\n  RUMOR = \"rumor\",\r\n  PLOT = \"plot\",\r\n  DM = \"dm\",\r\n  ALL = \"all\",\r\n  MAGIC_ITEM = \"magic-item\",\r\n  FORESHADOWING = \"foreshadowing\",\r\n  FORESHADOWING_RANDOM = \"foreshadowing-random\",\r\n  BACKSTORY = \"backstory\",\r\n  PLOT_HOOK = \"plot-hook\",\r\n  EXPOSITION = \"exposition\",\r\n}\r\n\r\nexport enum FlavorTagTheme {\r\n  COMEDIC = \"comedic\",\r\n  HEROIC = \"heroic\",\r\n  SERIOUS = \"serious\",\r\n  DRAMATIC = \"dramatic\",\r\n  GRIM   = \"grim\",\r\n  ROMANTIC  = \"romantic\",\r\n  FANTASY = \"fantasy\",\r\n  HORROR  = \"horror\",\r\n  NONE = \"none\",\r\n  length = \"length\",\r\n}\r\n\r\nexport type EncounterFlavorTag = {\r\n  tag: Tag;\r\n  source: FlavorTagSource;\r\n  theme: FlavorTagTheme;\r\n}\r\n\r\nexport type RPEncounterFlavorTag = {\r\n  tag?: EncounterFlavorTag;\r\n  character?: Character;\r\n  type: 'tag' | 'character' | 'treasure' | 'dmpoint';\r\n}\r\n\r\n\r\nexport enum TAGS_TYPE {\r\n  CURRENT_LOCATION,\r\n  BRANCH_LOCATION,\r\n  MAGIC_ITEM,\r\n  PLOT_HOOK,\r\n  CHARACTER_BACKSTORY,\r\n  CHARACTER_BACKSTORY_PROGRESS,\r\n  AMBUSH\r\n}\r\n\r\nexport type PerceptionTags = {\r\n  type: TAGS_TYPE;\r\n  name: string;\r\n  tags: EncounterFlavorTag[];  \r\n}\r\n\r\nexport interface ShapeConfig {\r\n  type: 'rectangle' | 'circle' | 'tree' | 'furniture' | 'wall';\r\n  minSize: number;\r\n  maxSize: number;\r\n  count: { min: number; max: number };\r\n  color: string;\r\n  rotate?: boolean;\r\n}\r\n\r\nexport interface ThemeConfig {\r\n  backgroundColor: string;\r\n  shapes: ShapeConfig[];\r\n}\r\n\r\n\r\nexport type Combat = {\r\n  enemy: Tag;\r\n  nbEnemies: number;\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\nexport type Challenge = {\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\nexport type Town = {\r\n  buildings: Building[];\r\n  nbBuildings: number[];\r\n}\r\n\r\nexport type HeroCombatant = {\r\n  character?: Character;\r\n  npcTag?: Tag;\r\n  icon: string;\r\n  name: string;\r\n}\r\n\r\n\r\n\r\nexport type CombatState = {\r\n  round: {\r\n    number: number;\r\n    phase: 'balance' | 'setup' | 'heroes_attack' | 'heroes_resolve' | 'enemies_attack' | 'enemy_resolve_damage' | 'end_combat';\r\n  }\r\n  attacker: 'heroes' | 'enemy';\r\n  currentCharacterIndex: number;\r\n  currentEnemyIndex: number;\r\n  enemyType: Tag;\r\n  enemyStats: EnemyAttribute;\r\n  nbEnemies: number;\r\n  riskCenter: number;\r\n  usedTags: boolean[];\r\n  friendlyTags: Tag[];\r\n  //usedFriendlyTags: boolean[];\r\n  hostileTags: Tag[];\r\n  npcs: Tag[];\r\n // usedHostileTags: boolean[];\r\n perilResult: number[];\r\n heroAttacks: Record<string, string>;\r\n enemyStatsInstance: EnemyAttributeInstance;\r\n barAnimating?: boolean;\r\n combatMessage?: string;\r\n rewards: number;\r\n}\r\n\r\nexport const enum PERIL_INDEX {\r\n  INDEX,\r\n  DANGER, \r\n  STRESS, \r\n  SCORE\r\n}\r\n\r\n\r\nexport const enum REWARD_TYPE {\r\n  TREASURE,\r\n  XP,\r\n  ITEM,\r\n  PLOT_HOOK,\r\n  HEALING,\r\n  BACKSTORY,\r\n  TOOLS, \r\n  MAGIC,\r\n  BACKSTORY_PROGRESS,\r\n}\r\n\r\nexport type RewardItem = {\r\n  name: string;\r\n  type: REWARD_TYPE;\r\n  value: number;\r\n  cost: number;\r\n  description: string;\r\n  tag?: Tag;\r\n\r\n}\r\n\r\nexport interface Building {\r\n  name: string;\r\n  description: string;\r\n  type: BUILDING_TYPE;\r\n  tags: Tag[];\r\n  nbTags?: number;\r\n  allowMagicItems?: boolean;\r\n  addFriendlyTags?: boolean;\r\n  effects: BuildingEffect[];\r\n}\r\n\r\n\r\nexport enum BUILDING_EFFECT_TYPE {\r\n  ADD_TENSION = \"add_tension\",\r\n  ADD_ENJOYMENT = \"add_enjoyment\",\r\n  ADD_INVOLVEMENT = \"add_involvement\",\r\n  ADD_HAPPINESS = \"add_happiness\",\r\n  ADD_REWARDS = \"add_rewards\",\r\n  REPLENISH_MAGIC = \"replenish_magic\",\r\n  REPLENISH_TOOLS = \"replenish_tools\",\r\n  ADD_BACKSTORY = \"add_backstory\",\r\n  HEAL = \"heal\",\r\n  RESURRECT = \"resurrect\",\r\n  INJURE = \"add_injury\",\r\n  USE_TOOLS = \"use_tools\",  \r\n  USE_MAGIC = \"use_magic\",\r\n  ADD_TREASURE = \"add_treasure\",\r\n  ADD_DM_POINT = \"add_dm_point\",\r\n  ADD_PLAYER_POINT = \"add_player_point\",\r\n  ADD_SCORE = \"add_score\",\r\n  NONE = 'none',\r\n}\r\n\r\nexport interface BuildingEffect {\r\n  type: BUILDING_EFFECT_TYPE;\r\n  value: number;\r\n  chance?: number;\r\n}\r\n\r\n\r\nexport enum BUILDING_TYPE {\r\n  TEMPLE = 'temple',\r\n  SHOP = 'shop',\r\n  TAVERN = 'tavern',\r\n  MARKETPLACE = 'marketplace',\r\n  GUILD_HALL = 'guild_hall',\r\n  BARRACKS = 'barracks',\r\n  LIBRARY = 'library',\r\n  FIRE = 'fire',\r\n  CONFRONTATION = 'confrontation',\r\n}\r\n\r\nexport interface TownBuilding {\r\n  building: Building;\r\n  tags: EncounterFlavorTag[];\r\n  effects: BuildingEffect[];\r\n  positionEffects: BuildingEffect[][];\r\n  isHighlighted?: boolean;\r\n  resolvedTags: Tag[];\r\n  capacity: number;\r\n  currentVisitors: Character[];\r\n  position?: { x: number; y: number };\r\n  size?: { width: number; height: number };\r\n  id?: string;\r\n  level?: number;\r\n // score: number;\r\n}\r\n\r\n\r\nexport interface EffectData {\r\n  object: Character | Player | 'party';\r\n  effects?: {\r\n    effect: string;\r\n    class: string;\r\n  }[];\r\n}\r\n\r\nexport interface TravelResultConfig {\r\n  results: EffectData[];\r\n  travelOption: TravelOption;\r\n  title: string;\r\n  description: string;\r\n  tags: EncounterFlavorTag[];\r\n  info: {\r\n    score: number;\r\n    time: number;\r\n    boredom: number;\r\n    exhaustion: number;\r\n  }\r\n}\r\n\r\nexport interface ModalOption {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  icon?: string;\r\n  callback: () => void;\r\n  level?: number;\r\n  class?: string; // for custom styling\r\n  \r\n}\r\n\r\nexport interface ModalConfig {\r\n  title: string;\r\n  options: ModalOption[];\r\n \r\n  onClose?: () => void;\r\n  type?: string;\r\n  // custom modal data\r\n  travelConfig?: TravelResultConfig;\r\n}\r\n\r\nexport enum TRAVEL_LENGTH {\r\n  SHORT = 'short',\r\n  MEDIUM = 'medium',\r\n  LONG = 'long'\r\n}\r\n\r\n\r\nexport enum TRAVEL_OPTION {\r\n  EXPLORE_CURRENT_LOCATION = 'explore_current_location',\r\n  EXPLORE_UPCOMING_LOCATION = 'explore_upcoming_location',\r\n  CHARACTER_BACKSTORY = 'character_backstory',\r\n  AMBUSH = 'ambush',\r\n  CAMP = 'camp',\r\n  TRAVEL = 'travel',\r\n  TRADERS = 'traders',\r\n  SIDE_QUEST = 'side_quest',\r\n}\r\n\r\n\r\nexport interface TravelOption {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  time: number;\r\n  tags: number;\r\n  score: number;\r\n  boredom: number;\r\n  exhaustion?: number;\r\n  travelOptionType?: TRAVEL_OPTION;\r\n  tagInstructions?: string;\r\n  tag?: Tag;\r\n  repeatable?: boolean;\r\n}\r\n\r\n","import React from 'react';\r\nimport UiManager from \"../../managers/uiManager\";\r\n\r\n// Import all images from the icons folder:\r\nimport playerIcon0 from '../../assets/playerIcons/player_0.png';\r\nimport playerIcon1 from '../../assets/playerIcons/player_1.png';\r\nimport playerIcon2 from '../../assets/playerIcons/player_2.png';\r\nimport playerIcon3 from '../../assets/playerIcons/player_3.png';\r\nimport playerIcon4 from '../../assets/playerIcons/player_4.png';\r\nimport playerIcon5 from '../../assets/playerIcons/player_5.png';\r\nimport playerIcon6 from '../../assets/playerIcons/player_6.png';\r\nimport playerIcon7 from '../../assets/playerIcons/player_7.png';\r\nimport playerIcon8 from '../../assets/playerIcons/player_8.png';\r\nimport playerIcon9 from '../../assets/playerIcons/player_9.png';\r\nimport playerIcon10 from '../../assets/playerIcons/player_10.png';\r\n\r\nimport humanIcon1 from '../../assets/characterIcons/human_1.png';\r\nimport humanIcon2 from '../../assets/characterIcons/human_2.png';\r\nimport dwarfIcon1 from '../../assets/characterIcons/dwarf_1.png';\r\nimport dwarfIcon2 from '../../assets/characterIcons/dwarf_2.png';\r\nimport elfIcon1 from '../../assets/characterIcons/elf_1.png';\r\nimport elfIcon2 from '../../assets/characterIcons/elf_2.png';\r\nimport halfOrcIcon1 from '../../assets/characterIcons/halfOrc_1.png';\r\nimport halfOrcIcon2 from '../../assets/characterIcons/halfOrc_2.png';\r\nimport halfElfIcon1 from '../../assets/characterIcons/halfElf_1.png';\r\nimport halfElfIcon2 from '../../assets/characterIcons/halfElf_2.png';\r\nimport halflingIcon1 from '../../assets/characterIcons/halfling_1.png';\r\nimport halflingIcon2 from '../../assets/characterIcons/halfling_2.png';\r\n\r\nimport combat_human from '../../assets/combat/combat_humans.png';\r\nimport combat_cultists from '../../assets/combat/combat_cultists.png';\r\nimport combat_dragons from '../../assets/combat/combat_dragons.png';\r\nimport combat_dwarves from '../../assets/combat/combat_dwarves.png';\r\nimport combat_elves from '../../assets/combat/combat_elves.png';\r\nimport combat_goblins from '../../assets/combat/combat_goblins.png';\r\nimport combat_half_orcs from '../../assets/combat/combat_half_orcs.png';\r\nimport combat_halflings from '../../assets/combat/combat_halflings.png';\r\nimport combat_humans from  '../../assets/combat/combat_humans.png';\r\nimport combat_orcs from '../../assets/combat/combat_orcs.png';\r\nimport combat_undead from '../../assets/combat/combat_undead.png';\r\nimport combat_half_elves from '../../assets/combat/combat_half_elves.png';\r\nimport combat_bandits from '../../assets/combat/combat_bandits.png';\r\nimport combat_beasts from '../../assets/combat/combat_beasts.png';\r\n\r\nimport combat_deer from '../../assets/combat/combat_deer.png'; // Used in millstone mystery\r\nimport combat_bear from '../../assets/combat/combat_bear.png'; // Used in millstone mystery\r\n\r\n\r\n\r\n\r\nimport mainMenuBG from '../../assets/fullscreen/title.png'\r\nimport defaultBg from '../../assets/fullscreen/not-implemented.png'\r\nimport campaignBg from '../../assets/fullscreen/campaign.png'\r\nimport gameroomBg from '../../assets/fullscreen/gameroom.png'\r\n\r\nimport cultOfTheDeep1 from '../../assets/campaign/cult_of_the_deep_1.png';\r\nimport trolls1 from '../../assets/campaign/trolls_1.png';\r\nimport millstoneMystery1 from '../../assets/campaign/millstone_mystery.png';\r\n\r\n//Locations \r\nimport mm_TheOldMill from '../../assets/location/theoldmill.png';\r\nimport mm_l_quarry from '../../assets/location/mm_l_quarry.png';\r\nimport mm_l_road from '../../assets/location/mm_l_road.png';\r\nimport mm_l_entrance from '../../assets/location/mm_l_entrance.png';\r\nimport mm_l_tunnel from '../../assets/location/mm_l_tunnel2.png';\r\nimport mm_l_bridge from '../../assets/location/mm_l_bridge.png';\r\nimport mm_l_beach from '../../assets/location/mm_l_beach.png';\r\nimport mm_l_townville from '../../assets/location/mm_l_townville.png';\r\n\r\nimport cd_l_underthewell from '../../assets/location/cd_l_underthewell.png';\r\nimport cd_l_lakeside from '../../assets/location/cd_l_lakeside.png';\r\nimport cd_l_lakesidebrewery from '../../assets/location/cd_l_lakesidebrewery.png';\r\nimport cd_l_lakesidecliffs from '../../assets/location/cd_l_lakesidecliffs.png';\r\nimport cd_l_sagewoodtavern from '../../assets/location/cd_l_sagewoodtavern.png';\r\nimport cd_l_sagewoodbrewery from '../../assets/location/cd_l_sagewoodbrewery.png';\r\n\r\n//Encounters\r\nimport mm_millstone from '../../assets/encounter/millstone.png';\r\nimport mm_e_road from '../../assets/encounter/mm_e_road.png';\r\nimport mm_e_quarry from '../../assets/encounter/mm_e_quarry.png';\r\nimport mm_e_tunnels from '../../assets/encounter/mm_e_tunnels.png';\r\nimport mm_e_bandits from '../../assets/encounter/mm_e_bandits.png';\r\nimport mm_e_beach from '../../assets/encounter/mm_e_beach.png';\r\nimport mm_e_shipwreck from '../../assets/encounter/mm_e_shipwreck.png';\r\nimport mm_e_fire from '../../assets/encounter/mm_e_fire.png';\r\nimport mm_e_townville from '../../assets/encounter/mm_e_townville.png';\r\n\r\nimport cd_e_breweryexploration from '../../assets/encounter/cd_e_breweryexploration.png';\r\nimport cd_e_breweryfight from '../../assets/encounter/cd_e_breweryfight.png';\r\nimport cd_e_bythelake from '../../assets/encounter/cd_e_bythelake.png';\r\nimport cd_e_lakesidecliffs from '../../assets/encounter/cd_e_lakesidecliffs.png';\r\nimport cd_e_underthewell from '../../assets/encounter/cd_e_underthewell.png';\r\nimport cd_e_sagewoodtavern from '../../assets/encounter/cd_e_sagewoodtavern4.png';\r\nimport cd_e_sagewoodbrewery from '../../assets/encounter/cd_e_sagewoodbrewery.png';\r\n\r\nimport mm_l_mountain_camp from '../../assets/location/mm_l_mountain_camp.png'; \r\nimport mm_l_elven_town from '../../assets/location/mm_l_elven_town.png';\r\n\r\nimport mm_e_up_the_mountain from '../../assets/encounter/mm_e_mountain_path.png'; \r\nimport mm_e_pointed from '../../assets/encounter/mm_e_pointed.png';\r\nimport mm_l_witch from '../../assets/location/mm_l_witch.png'; \r\nimport mm_e_cabin from '../../assets/encounter/mm_e_cabin2.png'; \r\nimport mm_l_tunnel3 from '../../assets/location/mm_l_tunnel2.png'; \r\nimport mm_e_dwarves from '../../assets/encounter/mm_e_dwarves.png';\r\nimport mm_e_fairlight from '../../assets/encounter/mm_e_fairlight.png';\r\nimport mm_l_fairlight from '../../assets/location/mm_l_fairlight.png';\r\n\r\n// icons\r\nimport icon_treasure1 from '../../assets/icons/icon_treasure.png';\r\nimport icon_dmpoint from '../../assets/icons/icon_dm.png';\r\nimport icon_playerpoint from '../../assets/icons/icon_player.png';\r\n\r\n\r\n//Messages\r\nimport imp_icon from '../../assets/chat/imp.png';\r\nimport dm_icon from '../../assets/chat/dm.png';\r\nimport chat_die from '../../assets/chat/die.png';\r\n\r\n// Tutorial\r\nimport imp from '../../assets/tutorial/imp.png';\r\n\r\nimport event_combat from '../../assets/icons/event_combat.png';\r\nimport event_roleplay from '../../assets/icons/event_roleplay.png';\r\nimport event_puzzle from '../../assets/icons/event_puzzle.png';\r\nimport event_perception from '../../assets/icons/event_perception.png';\r\nimport event_town from '../../assets/icons/event_town.png';\r\nimport event_travel from '../../assets/icons/event_travel.png';\r\nimport event_challenge from '../../assets/icons/event_challenge.png';\r\nimport event_trap from '../../assets/icons/event_trap.png';\r\nimport event_exploration from '../../assets/icons/event_exploration.png';\r\nimport event_exposition from '../../assets/icons/event_exposition.png';\r\n\r\n\r\n// Create a map of icon paths:\r\nconst imageMap: { [key: string]: string } = {\r\n    // Player Icons\r\n    player_0: playerIcon0,\r\n    player_1: playerIcon1,\r\n    player_2: playerIcon2,\r\n    player_3: playerIcon3,\r\n    player_4: playerIcon4,\r\n    player_5: playerIcon5,\r\n    player_6: playerIcon6,\r\n    player_7: playerIcon7,\r\n    player_8: playerIcon8,\r\n    player_9: playerIcon9,\r\n    player_10: playerIcon10,\r\n    // Character Icons\r\n    human_1: humanIcon1,\r\n    human_2: humanIcon2,\r\n    dwarf_1: dwarfIcon1,\r\n    dwarf_2: dwarfIcon2,\r\n    elf_1: elfIcon1,\r\n    elf_2: elfIcon2,\r\n    halfOrc_1: halfOrcIcon1,\r\n    halfOrc_2: halfOrcIcon2,\r\n    halfElf_1: halfElfIcon1,\r\n    halfElf_2: halfElfIcon2,\r\n    halfling_1: halflingIcon1,\r\n    halfling_2: halflingIcon2, \r\n     \r\n    // Fullscreens\r\n    main_menu: mainMenuBG,\r\n    default_bg: defaultBg,\r\n    campaign_bg: campaignBg,\r\n    gameroom_bg: gameroomBg,\r\n\r\n    // Campaign Icons\r\n    cult_of_the_deep_1: cultOfTheDeep1,\r\n    trolls_1: trolls1,\r\n    millstone_mystery_1: millstoneMystery1,\r\n    mountain_mystery: millstoneMystery1,\r\n\r\n    // Millstone Mystery\r\n    mm_l_oldMill: mm_TheOldMill,\r\n    mm_l_quarry: mm_l_quarry,\r\n    mm_l_road: mm_l_road,\r\n    mm_l_entrance: mm_l_entrance,\r\n    mm_l_tunnel: mm_l_tunnel,\r\n    mm_l_bridge: mm_l_bridge,\r\n    mm_l_beach: mm_l_beach,\r\n    mm_l_townville: mm_l_townville,\r\n    mm_e_millstone: mm_millstone,\r\n    mm_e_road: mm_e_road,\r\n    mm_e_quarry: mm_e_quarry,\r\n    mm_e_tunnels: mm_e_tunnels,\r\n    mm_e_bandits: mm_e_bandits,\r\n    mm_e_beach: mm_e_beach,\r\n    mm_e_shipwreck: mm_e_shipwreck,\r\n    mm_e_fire: mm_e_fire,\r\n    mm_e_townville: mm_e_townville,\r\n\r\n    // Cult of the Deep\r\n    cd_l_underthewell: cd_l_underthewell,\r\n    cd_l_lakeside: cd_l_lakeside,\r\n    cd_l_lakesidebrewery: cd_l_lakesidebrewery,\r\n    cd_l_lakesidecliffs: cd_l_lakesidecliffs,\r\n    cd_l_sagewoodtavern: cd_l_sagewoodtavern,\r\n    cd_l_sagewoodbrewery: cd_l_sagewoodbrewery,\r\n    cd_e_breweryexploration: cd_e_breweryexploration,\r\n    cd_e_breweryfight: cd_e_breweryfight,\r\n    cd_e_bythelake: cd_e_bythelake,\r\n    cd_e_lakesidecliffs: cd_e_lakesidecliffs,\r\n    cd_e_underthewell: cd_e_underthewell,\r\n    cd_e_sagewoodtavern: cd_e_sagewoodtavern,\r\n    cd_e_sagewoodbrewery: cd_e_sagewoodbrewery,\r\n    \r\n\r\n    // Mountain Mystery\r\n    mm_l_mountain_camp: mm_l_mountain_camp, // Used in mountain mystery\r\n    mm_l_elven_town: mm_l_elven_town, // Used in mountain mystery\r\n    mm_e_up_the_mountain: mm_e_up_the_mountain, // Used in mountain mystery\r\n    mm_e_pointed: mm_e_pointed,\r\n    mm_l_witch: mm_l_witch, \r\n    mm_e_cabin: mm_e_cabin, \r\n    mm_l_tunnel23: mm_l_tunnel3,\r\n    mm_e_dwarves: mm_e_dwarves, \r\n    mm_e_fairlight: mm_e_fairlight,\r\n    mm_l_fairlight: mm_l_fairlight,\r\n\r\n\r\n\r\n    // Tutorial\r\n    tutorial_mascot: imp,\r\n\r\n    // Messages\r\n    chat_imp: imp_icon,\r\n    chat_dm: dm_icon,\r\n    chat_die: chat_die,\r\n    number_die_4: chat_die,\r\n    number_die_6: chat_die,\r\n    number_die_8: chat_die,\r\n    number_die_10: chat_die,\r\n    number_die_12: chat_die,\r\n    number_die_20: chat_die,\r\n    number_die_100: chat_die,\r\n\r\n    // Combat Icons\r\n    combat_human: combat_human,\r\n    combat_cultists: combat_cultists,\r\n    combat_dragons: combat_dragons,\r\n    combat_dwarves: combat_dwarves,\r\n    combat_elves: combat_elves,\r\n    combat_goblins: combat_goblins,\r\n    combat_half_orcs: combat_half_orcs,\r\n    combat_halflings: combat_halflings,\r\n    combat_humans: combat_humans,\r\n    combat_orcs: combat_orcs,\r\n    combat_undead: combat_undead,\r\n    combat_half_elves: combat_half_elves,\r\n    combat_bandits: combat_bandits,\r\n    combat_beasts: combat_beasts,\r\n   \r\n    combat_deer: combat_deer, \r\n    combat_bear: combat_bear, \r\n\r\n    // Icons\r\n    icon_treasure1: icon_treasure1,\r\n    icon_dmpoint: icon_dmpoint, \r\n    icon_playerpoint: icon_playerpoint,\r\n\r\n    // Event Icons\r\n    event_combat: event_combat,\r\n    event_roleplay: event_roleplay,\r\n    //event_puzzle: event_puzzle,\r\n    event_perception: event_perception,\r\n    event_town: event_town,\r\n    event_travel: event_travel,\r\n    event_challenge: event_challenge,\r\n    event_trap: event_trap,\r\n    event_exposition: event_exposition,\r\n    \r\n    event_exploration: event_exploration\r\n};\r\n\r\ninterface ImageProps {\r\n    imageId: string | undefined;\r\n}\r\n\r\nconst CImage: React.FC<ImageProps> = ({ imageId }) => {\r\n    if(imageId === \"none\") return null;\r\n    const path = imageMap[imageId || ''];\r\n    if (!path) {\r\n        console.error(`No image found for imageId: ${imageId}`);\r\n        return null;\r\n    }\r\n    return (\r\n        <img src={path} alt=\"Icon\" className=\"cimage\" />\r\n    );\r\n}\r\n\r\nexport default CImage","\r\n\r\nexport const COLORS = {\r\n    STATE: {\r\n      MAIN_MENU: '#FF0000',\r\n      CAMPAIGN_SETUP: '#00FF00',\r\n      PLAYER_RECRUITMENT: '#0000FF',\r\n      CHARACTER_CREATION: '#FFFF00',\r\n      SESSION_PREP: '#00FFFF',\r\n      SESSION: '#123abc',\r\n      SCORE: '#0F0F0F'\r\n    },\r\n    STATE_CHANGE_DURATION: 1000,\r\n  }\r\n  \r\n  export enum PLACE_TYPE {\r\n    VILLAGE = 'village',\r\n    TOWN = 'town',\r\n    CITY = 'city',\r\n    ABBEY = 'abbey',\r\n    CASTLE = 'castle',\r\n    FORTRESS = 'fortress',\r\n    TEMPLE = 'temple',\r\n    SHRINE = 'shrine',\r\n    TOWER = 'tower',\r\n  }\r\n\r\n  export enum RACE {\r\n    HUMAN = 'human',\r\n    ELF = 'elf',\r\n    DWARF = 'dwarf',\r\n    HALFLING = 'halfling',\r\n    HALF_ORC = 'half-orc',\r\n    HALF_ELF = \"HALF_ELF\",\r\n    NPC = 'npc'\r\n  }\r\n\r\n  export enum CHARACTER_CLASS {\r\n  \r\n    CLERIC = 'cleric',\r\n    DRUID = 'druid',\r\n    FIGHTER = 'fighter',\r\n    PALADIN = 'paladin',\r\n    ROGUE = 'rogue',\r\n    WIZARD = 'wizard',\r\n    NPC = 'npc'\r\n  }\r\n\r\n  export enum ABILITIES {\r\n    FIGHTING = 'fighting',\r\n    MAGIC = 'magic',\r\n    STEALTH = 'stealth',\r\n    HEALING = 'healing',\r\n    SPEAKING = 'speaking',\r\n  }\r\n\r\nexport const AVAILABILITY_RANGE = {\r\n  GOOD: 65,\r\n  BAD: 30\r\n}\r\n\r\nexport const THEME_FILLED_REQ = 3;\r\n  export const MAX_CHARS_PER_PLAYER = 1;\r\n\r\n  export enum ENCOUNTER_EVENT_TYPE  {\r\n    COMBAT='combat',\r\n    ROLEPLAY='roleplay',\r\n    PUZZLE='puzzle',\r\n    PERCEPTION='perception',\r\n    TOWN='town',\r\n    TRAVEL='travel',\r\n    CHALLENGE='challenge',\r\n    TRAP='trap',\r\n    CHARACTER_BACKSTORY='character backstory',\r\n    STORY='story',\r\n    EXPLORATION='exploration',\r\n    EXPOSITION='exposition',\r\n    FINALE='finale',\r\n  }\r\n\r\n  export enum LEVELUP_OPTION {\r\n    REFRESH = 'refresh',\r\n    CHARACTER = 'character',\r\n    MAX_HAPPINESS = 'max_happiness',\r\n    MAX_ATTENTION = 'max_attention',\r\n    STRESS_BUFFER = 'stress_buffer',\r\n    PLAYER_TRAIT = 'player_trait',\r\n  }\r\n\r\n  export const PLAYER_EXP_LEVEL = [6, 6, 10, 10, 10, 20];","import { AVAILABILITY_RANGE } from '../consts/general';\nimport './playerRecruitment.scss';\n\n\n\ninterface ScheduleProps {\n    dayData: number[];\n    legend?: boolean;\n}\n\nconst daysOfWeek = [\n    { abbreviation: 'M', fullName: 'Monday' },\n    { abbreviation: 'T', fullName: 'Tuesday' },\n    { abbreviation: 'W', fullName: 'Wednesday' },\n    { abbreviation: 'R', fullName: 'Thursday' },\n    { abbreviation: 'F', fullName: 'Friday' },\n    { abbreviation: 'St', fullName: 'Saturday' },\n    { abbreviation: 'Sn', fullName: 'Sunday' },\n  ];\n\n  const availabiltyLegend = [\n    { name: 'Yes', percentage: AVAILABILITY_RANGE.GOOD + 1},\n    { name: 'Maybe', percentage: AVAILABILITY_RANGE.GOOD - 1},\n    { name: 'No', percentage: AVAILABILITY_RANGE.BAD - 1},\n  ]\n  \n  const getDayPercentage = (dayData: number[], dayIndex: number): number => {\n    return dayData[dayIndex]\n  };\n  \n  const getColorFromPercentage = (percentage: number): string => {\n    const red = Math.min(255, Math.floor((100 - percentage) * 2.55));\n    const green = Math.min(255, Math.floor(percentage * 2.55));\n    return `rgba(${red}, ${green}, 0, 0)`;\n    //return `rgb(${red}, ${green}, 0)`;\n  };\n\nconst getSymbolForPercentage = (percentage: number): string => {\n    if (percentage <= AVAILABILITY_RANGE.BAD) {\n        return 'X';\n    }\n    if (percentage > AVAILABILITY_RANGE.GOOD) {\n        return '';\n    }\n  \n    return '';\n}\n\nconst Schedule: React.FC<ScheduleProps> = ({dayData, legend = false}) => {\n    return (\n            <div className=\"week-display-days\">\n                {!legend && daysOfWeek.map((day, index) => {\n                    const percentage = getDayPercentage(dayData, index);\n                    const color = getColorFromPercentage(percentage);\n                    return (\n                    <div key={index} className=\"day-square\" style={{ backgroundColor: color }}>\n                        <div className=\"day-abbreviation\">{day.abbreviation}</div>\n                        <div className=\"day-symbol\">{getSymbolForPercentage(percentage)}</div>\n                        <div className=\"day-percentage\">{percentage}%</div>\n                    </div>\n                    );\n                })}\n                {legend && availabiltyLegend.map((legendEntry, index) => {\n                    const percentage =legendEntry.percentage;\n                    const color = getColorFromPercentage(percentage);\n                    return (\n                    <div key={index} className=\"day-square\" style={{ backgroundColor: color }}>\n                        <div className=\"day-abbreviation\">{legendEntry.name}</div>\n                        <div className=\"day-symbol\">{getSymbolForPercentage(percentage)}</div>\n                    </div>\n                    );\n                })}\n             </div>\n    )\n}\n\nexport default Schedule;","\nimport React from 'react';\nimport './globalUi.scss';\n\n\ninterface MoreInfoProps {\n   callback: () => void;\n   classname?: string;\n}\n\nconst MoreInfo: React.FC<MoreInfoProps> = ({ callback, classname='' }) => {\n    return (\n        <div className={`more-info ${classname}`} onClick={callback}>\n            <div className='more-info-text'>\n                ?\n            </div>\n        </div>\n    );\n};\n\nexport default MoreInfo;","import React, { createContext, useContext } from 'react';\nimport CharacterManager from '../managers/characterManager';\nimport AppManager from '../managers/appManager';\nimport CampaignManager from '../managers/campaignManager';\nimport PartyManager from '../managers/partyManager';\nimport UiManager from '../managers/uiManager';\nimport DataManager from '../managers/dataManager';\nimport SessionManager from '../managers/sessionManager';\nimport PlayerManager from '../managers/playerManager';\n\n\nconst AppManagerContext = createContext<AppManager | undefined>(undefined);\nconst DataManagerContext = createContext<DataManager | undefined>(undefined);\nconst CampaignManagerContext = createContext<CampaignManager | undefined>(undefined);\nconst SessionManagerContext = createContext<SessionManager | undefined>(undefined);\nconst PartyManagerContext = createContext<PartyManager | undefined>(undefined);\nconst UiManagerContext = createContext<UiManager | undefined>(undefined);\nconst CharacterManagerContext = createContext<CharacterManager | undefined>(undefined);\nconst PlayerManagerContext = createContext<PlayerManager | undefined>(undefined);\n\nexport const CharacterManagerProvider: React.FC<{ manager: CharacterManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <CharacterManagerContext.Provider value={manager}>\n      {children}\n    </CharacterManagerContext.Provider>\n  );\n};\n\nexport const PlayerManagerProvider: React.FC<{ manager: PlayerManager, children: React.ReactNode }> = ({ manager, children }) => {\n    return (\n    <PlayerManagerContext.Provider value={manager}>\n      {children}\n    </PlayerManagerContext.Provider>\n  );\n};\n\nexport const AppManagerProvider: React.FC<{ manager: AppManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <AppManagerContext.Provider value={manager}>\n      {children}\n    </AppManagerContext.Provider>\n  );\n};\n\nexport const DataManagerProvider: React.FC<{ manager: DataManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <DataManagerContext.Provider value={manager}>\n      {children}\n    </DataManagerContext.Provider>\n  );\n};\n\nexport const CampaignManagerProvider: React.FC<{ manager: CampaignManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <CampaignManagerContext.Provider value={manager}>\n      {children}\n    </CampaignManagerContext.Provider>\n  );\n};\n\nexport const SessionManagerProvider: React.FC<{ manager: SessionManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <SessionManagerContext.Provider value={manager}>\n      {children}\n    </SessionManagerContext.Provider>\n  );\n};\n\nexport const PartyManagerProvider: React.FC<{ manager: PartyManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <PartyManagerContext.Provider value={manager}>\n      {children}\n    </PartyManagerContext.Provider>\n  );\n};\n\nexport const UiManagerProvider: React.FC<{ manager: UiManager, children: React.ReactNode }> = ({ manager, children }) => {\n  return (\n    <UiManagerContext.Provider value={manager}>\n      {children}\n    </UiManagerContext.Provider>\n  );\n};\n\nexport const useCharacterManager = () => {\n  const context = useContext(CharacterManagerContext);\n  if (context === undefined) {\n    throw new Error('useCharacterManager must be used within a CharacterManagerProvider');\n  }\n  return context;\n};\n\nexport const usePlayerManager = () => {\n  const context = useContext(PlayerManagerContext);\n  if (context === undefined) {\n    throw new Error('usePlayerManager must be used within a PlayerManagerProvider');\n  }\n  return context;\n};\n\nexport const useAppManager = () => {\n    const context = useContext(AppManagerContext);\n    if (context === undefined) {\n        throw new Error('useAppManager must be used within a AppManagerProvider');\n    }\n    return context;\n    };\n\nexport const useDataManager = () => {\n    const context = useContext(DataManagerContext);\n    if (context === undefined) {\n        throw new Error('useDataManager must be used within a DataManagerProvider');\n    }\n    return context;\n    }\n\nexport const useCampaignManager = () => {\n    const context = useContext(CampaignManagerContext);\n    if (context === undefined) {\n        throw new Error('useCampaignManager must be used within a CampaignManagerProvider');\n    }\n    return context;\n    }\n\nexport const useSessionManager = () => {\n    const context = useContext(SessionManagerContext);\n    if (context === undefined) {\n        throw new Error('useSessionManager must be used within a SessionManagerProvider');\n    }\n    return context;\n    }\n\nexport const usePartyManager = () => {\n    const context = useContext(PartyManagerContext);\n    if (context === undefined) {\n        throw new Error('usePartyManager must be used within a PartyManagerProvider');\n    }\n    return context;\n    }\n\nexport const useUiManager = () => {\n    const context = useContext(UiManagerContext);\n    if (context === undefined) {\n        throw new Error('useUiManager must be used within a UiManagerProvider');\n    }\n    return context;\n    }\n    ","\nexport enum APP_STATE {\n    MAIN_MENU = 'main-menu',\n    CAMPAIGN_SETUP = 'campaign-setup',\n    PLAYER_RECRUITMENT = 'player-recruitment',\n    CHARACTER_CREATION = 'character-creation',\n    SESSION_OVERVIEW = 'session-setup',\n    SESSION = 'session',\n    SCORE = 'score',\n  }\n\n\nexport const DEFAULT_STATE_CONFIG = {\n    nextState: APP_STATE.MAIN_MENU,\n    ui: {\n        showCharacterBar: false,\n    },\n    background_image_id: 'default_bg',\n    bg_transition_mode: 'none',\n    secondary_bg_image_id: 'none',\n    secondary_image_pos: 'none',\n}\n\nexport const STATE_CONFIG = {\n    [APP_STATE.MAIN_MENU]: {\n        nextState: APP_STATE.CAMPAIGN_SETUP,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'main_menu',\n    },\n    [APP_STATE.CAMPAIGN_SETUP]: {\n        nextState: APP_STATE.PLAYER_RECRUITMENT,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'main_menu',\n        bg_transition_mode: 'slide-down',\n        secondary_bg_image_id: 'campaign_bg',\n        secondary_image_pos: 'bottom',\n    },\n    [APP_STATE.PLAYER_RECRUITMENT]: {\n        nextState: APP_STATE.CHARACTER_CREATION,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'main_menu',\n        bg_transition_mode: 'slide-right',\n    },\n    [APP_STATE.CHARACTER_CREATION]: {\n        nextState: APP_STATE.SESSION_OVERVIEW,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'main_menu',\n        bg_transition_mode: 'slide-left',\n    },\n    [APP_STATE.SESSION_OVERVIEW]: {\n        nextState: APP_STATE.SESSION,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'none',\n        bg_transition_mode: 'none',\n        secondary_bg_image_id: 'none',\n    },\n    [APP_STATE.SESSION]: {\n        nextState: APP_STATE.SCORE,\n        ui: {\n            showCharacterBar: false,\n        },\n        background_image_id: 'none',\n        secondary_bg_image_id: 'none',\n\n    },\n    [APP_STATE.SCORE]: {\n        nextState: APP_STATE.MAIN_MENU,\n        ui: {\n            showCharacterBar: false,\n        }\n    },\n}","import { Attribute, ATTRIBUTE_TYPE, Character, Gear } from \"../models\"\nimport { CHARACTER_CLASS, RACE } from \"./general\";\n\n\nexport const GEAR: Record<string, Gear> = {\n    SWORD_1: {\n        name: \"Plus 1 Sword\",\n        attributes: {\n            [ATTRIBUTE_TYPE.COMBAT]: 1\n        }\n    },\n    MIRROR_SHIELD: {\n      name: \"Mirror Shield\",\n      attributes: {\n          [ATTRIBUTE_TYPE.COMBAT]: 2,\n          [ATTRIBUTE_TYPE.TOOLS]: 2\n      }\n    },\n    WAND_5: {\n        name: \"Spellring\",\n        attributes: {\n            [ATTRIBUTE_TYPE.MAGIC]: 2\n        }\n    },\n    HELPFUL_IMP: {\n        name: \"Helpful Imp\",\n        attributes: \n        {\n            [ATTRIBUTE_TYPE.COMBAT]: 1,\n            [ATTRIBUTE_TYPE.TOOLS]: 1,\n            [ATTRIBUTE_TYPE.MAGIC]: 1,\n        }\n    },\n    STONECUTTER: {\n        name: \"Stonecutter\",\n        attributes: {\n            [ATTRIBUTE_TYPE.TOOLS]: 5\n        }\n    },\n    CLOAK_OF_LEVITATION: {\n      name: \"Cloak of Levitation\",\n      attributes: {\n          [ATTRIBUTE_TYPE.MAGIC]: 1,\n          [ATTRIBUTE_TYPE.TOOLS]: 1\n      }\n    },\n    WAND_OF_MISSILES: {\n      name: \"Wand of Missiles\",\n      attributes: {\n          [ATTRIBUTE_TYPE.MAGIC]: 2,\n          [ATTRIBUTE_TYPE.COMBAT]: 1\n      }\n    },\n    GLOVES_OF_THE_SPIDER: {\n    name: \"Gloves of the Spider\",\n    attributes: {\n        [ATTRIBUTE_TYPE.TOOLS]: 3\n    }\n  }\n\n}\n\nexport function getRaceAttributes(character: Character) {\n    switch(character.race) {\n      case RACE.DWARF:\n        return { [ATTRIBUTE_TYPE.COMBAT]: 2, \n                 [ATTRIBUTE_TYPE.MAGIC]: 0,\n                 [ATTRIBUTE_TYPE.TOOLS]: 1\n                };\n      case RACE.ELF: \n        return { [ATTRIBUTE_TYPE.COMBAT]: 1, \n                 [ATTRIBUTE_TYPE.MAGIC]: 3,\n                 [ATTRIBUTE_TYPE.TOOLS]: 0\n              };\n      case RACE.HUMAN: \n        return { [ATTRIBUTE_TYPE.COMBAT]: 1, \n                 [ATTRIBUTE_TYPE.MAGIC]: 1,\n                 [ATTRIBUTE_TYPE.TOOLS]: 1\n            };\n      case RACE.HALFLING:\n        return { [ATTRIBUTE_TYPE.COMBAT]: 1, \n                 [ATTRIBUTE_TYPE.MAGIC]: 0,\n                 [ATTRIBUTE_TYPE.TOOLS]: 3\n              };\n      case RACE.HALF_ORC: \n        return { [ATTRIBUTE_TYPE.COMBAT]: 3, \n                 [ATTRIBUTE_TYPE.MAGIC]: 0,\n                 [ATTRIBUTE_TYPE.TOOLS]: 0\n              };\n      case RACE.HALF_ELF:\n        return { [ATTRIBUTE_TYPE.COMBAT]: 1, \n                 [ATTRIBUTE_TYPE.MAGIC]: 2,\n                 [ATTRIBUTE_TYPE.TOOLS]: 0\n              };\n      case RACE.NPC:\n        return { [ATTRIBUTE_TYPE.COMBAT]: 0, \n                  [ATTRIBUTE_TYPE.MAGIC]: 0,\n                  [ATTRIBUTE_TYPE.TOOLS]: 0\n              };\n    }\n  }\n\n\nexport function getGearAttributes(character: Character) {\n  const gearAttributes = {\n    [ATTRIBUTE_TYPE.COMBAT]: 0,\n    [ATTRIBUTE_TYPE.MAGIC]: 0,\n    [ATTRIBUTE_TYPE.TOOLS]: 0,\n  };\n  \n  character.gear.forEach(gear => {  \n    gearAttributes[ATTRIBUTE_TYPE.COMBAT] += gear.attributes[ATTRIBUTE_TYPE.COMBAT] ?? 0;\n    gearAttributes[ATTRIBUTE_TYPE.MAGIC] += gear.attributes[ATTRIBUTE_TYPE.MAGIC] ?? 0;\n    gearAttributes[ATTRIBUTE_TYPE.TOOLS] += gear.attributes[ATTRIBUTE_TYPE.TOOLS] ?? 0;\n    });\n    return gearAttributes;\n}\n\nexport function getCombinedAttributes(character: Character | undefined, includeHeroState = false) {\n\n  if(!character) {\n    return { [ATTRIBUTE_TYPE.COMBAT]: 0, [ATTRIBUTE_TYPE.MAGIC]: 0, [ATTRIBUTE_TYPE.TOOLS]: 0 };\n  }\n\n  const raceAttributes = getRaceAttributes(character);\n  const gearAttributes = getGearAttributes(character);\n  const classAttributes = getCombinedClassAttributes(character);\n\n  const combinedAttributes: { [key in ATTRIBUTE_TYPE]: number } = {\n    [ATTRIBUTE_TYPE.COMBAT]: 0 +\n      raceAttributes[ATTRIBUTE_TYPE.COMBAT] + \n      classAttributes[ATTRIBUTE_TYPE.COMBAT] + \n      gearAttributes[ATTRIBUTE_TYPE.COMBAT],\n    [ATTRIBUTE_TYPE.MAGIC]: 0 +\n      raceAttributes[ATTRIBUTE_TYPE.MAGIC] + \n      classAttributes[ATTRIBUTE_TYPE.MAGIC] + \n      gearAttributes[ATTRIBUTE_TYPE.MAGIC],\n    [ATTRIBUTE_TYPE.TOOLS]: 0 +\n      raceAttributes[ATTRIBUTE_TYPE.TOOLS] + \n      classAttributes[ATTRIBUTE_TYPE.TOOLS] + \n      gearAttributes[ATTRIBUTE_TYPE.TOOLS]\n  };\n\n\n  if(includeHeroState) {\n    if (character.attributeLoss) {\n      combinedAttributes[ATTRIBUTE_TYPE.COMBAT] -= character.attributeLoss[ATTRIBUTE_TYPE.COMBAT] ?? 0;\n      combinedAttributes[ATTRIBUTE_TYPE.MAGIC] -= character.attributeLoss[ATTRIBUTE_TYPE.MAGIC] ?? 0;\n      combinedAttributes[ATTRIBUTE_TYPE.TOOLS] -= character.attributeLoss[ATTRIBUTE_TYPE.TOOLS] ?? 0;\n    }\n  }\n\n  return combinedAttributes;\n}\n\n\nexport function getCombinedClassAttributes(character: Character) {\n    const baseAttribute = {\n        [ATTRIBUTE_TYPE.COMBAT]: 0,\n        [ATTRIBUTE_TYPE.MAGIC]: 0,\n        [ATTRIBUTE_TYPE.TOOLS]: 0\n    }\n    for(let l=0; l< character.level; l++){\n        let level = l+1;\n        baseAttribute[ATTRIBUTE_TYPE.COMBAT] += getClassAttributes(character.character_class, level)[ATTRIBUTE_TYPE.COMBAT];\n        baseAttribute[ATTRIBUTE_TYPE.MAGIC] += getClassAttributes(character.character_class, level)[ATTRIBUTE_TYPE.MAGIC];\n        baseAttribute[ATTRIBUTE_TYPE.TOOLS] += getClassAttributes(character.character_class, level)[ATTRIBUTE_TYPE.TOOLS];\n    }\n    return baseAttribute;\n\n}\n\n  // This is NOT a total for all levels. It is how much a char gains for a SPECIFIC level. \nexport function getClassAttributes(characterClass: CHARACTER_CLASS, level: number) {\n  \n    const oddLevel = level % 2;\n    const evenLevel = (level +1) % 2;\n    switch(characterClass) {\n      case CHARACTER_CLASS.CLERIC: //4\n        return { [ATTRIBUTE_TYPE.COMBAT]: 1 + oddLevel, \n                 [ATTRIBUTE_TYPE.MAGIC]: 2,\n                 [ATTRIBUTE_TYPE.TOOLS]: evenLevel\n            }\n        case CHARACTER_CLASS.DRUID: //4.5\n            return { [ATTRIBUTE_TYPE.COMBAT]: 1 + evenLevel, \n                     [ATTRIBUTE_TYPE.MAGIC]: 1 + oddLevel,\n                     [ATTRIBUTE_TYPE.TOOLS]: 1 + oddLevel \n                };\n        case CHARACTER_CLASS.FIGHTER: //4\n            return { [ATTRIBUTE_TYPE.COMBAT]: 3, \n                     [ATTRIBUTE_TYPE.MAGIC]: 0,\n                     [ATTRIBUTE_TYPE.TOOLS]: 1\n                };\n        case CHARACTER_CLASS.PALADIN: //4\n            return { [ATTRIBUTE_TYPE.COMBAT]: 2 + evenLevel , \n                     [ATTRIBUTE_TYPE.MAGIC]: 1 ,\n                     [ATTRIBUTE_TYPE.TOOLS]: oddLevel\n                };\n       \n        case CHARACTER_CLASS.ROGUE: //4.5\n            return { [ATTRIBUTE_TYPE.COMBAT]: 1, \n                     [ATTRIBUTE_TYPE.MAGIC]: 0,\n                     [ATTRIBUTE_TYPE.TOOLS]: 3 + oddLevel\n                };\n    \n        case CHARACTER_CLASS.WIZARD: //4.5\n            return { [ATTRIBUTE_TYPE.COMBAT]: evenLevel, \n                     [ATTRIBUTE_TYPE.MAGIC]: 3,\n                     [ATTRIBUTE_TYPE.TOOLS]: 1\n                };\n    }\n    return { [ATTRIBUTE_TYPE.COMBAT]: 0,\n                [ATTRIBUTE_TYPE.MAGIC]: 0,\n                [ATTRIBUTE_TYPE.TOOLS]: 0\n    }\n}","import React from \"react\";\r\nimport {\r\n\tAttribute,\r\n\tATTRIBUTE_CONTRIBUTOR,\r\n\tATTRIBUTE_TYPE,\r\n\tCharacter,\r\n\tHeroCombatant,\r\n} from \"../../models\";\r\nimport {\r\n\tuseAppManager,\r\n\tuseCharacterManager,\r\n\tusePlayerManager,\r\n} from \"../managerContexts\";\r\nimport {\r\n\tgetRaceAttributes,\r\n\tgetClassAttributes,\r\n\tgetCombinedClassAttributes,\r\n\tgetGearAttributes,\r\n\tgetCombinedAttributes,\r\n} from \"../../consts/characterConsts\";\r\nimport { ENEMIES } from \"../../consts/enemies\";\r\n\r\ninterface AttributeDisplayProps {\r\n\thero: HeroCombatant | Character;\r\n\tcategory: ATTRIBUTE_CONTRIBUTOR;\r\n\tcollapsed?: boolean;\r\n\tshowAttributeLoss?: boolean;\r\n\toverviewDisplay?: boolean;\r\n}\r\n\r\nconst isHeroCombatant = (\r\n\thero: HeroCombatant | Character\r\n): hero is HeroCombatant => {\r\n\treturn \"character\" in hero || \"npcTag\" in hero;\r\n};\r\n\r\nconst AttributeDisplay: React.FC<AttributeDisplayProps> = ({\r\n\thero,\r\n\tcategory,\r\n\tcollapsed,\r\n\tshowAttributeLoss,\r\n\toverviewDisplay = false,\r\n}) => {\r\n\tconst characterManager = useCharacterManager();\r\n\tconst appManager = useAppManager();\r\n\tconst combatManager = appManager.getCombatManager();\r\n\r\n\tlet npcAttributes = {\r\n\t\t[ATTRIBUTE_TYPE.COMBAT]: 0,\r\n\t\t[ATTRIBUTE_TYPE.MAGIC]: 0,\r\n\t\t[ATTRIBUTE_TYPE.TOOLS]: 0,\r\n\t};\r\n\tlet character;\r\n\r\n\tif (isHeroCombatant(hero) && hero.npcTag) {\r\n\t\tnpcAttributes = combatManager.getNPCAttributes(hero.npcTag);\r\n\t\thero.character = characterManager.generateNPC(hero.npcTag);\r\n\r\n\t\tcategory = ATTRIBUTE_CONTRIBUTOR.NPC;\r\n\t}\r\n\r\n\tcharacter = isHeroCombatant(hero) ? (hero.character as Character) : hero;\r\n\r\n\tconst raceAttributes = getRaceAttributes(character);\r\n\tconst combinedattributesWithLoss = getCombinedAttributes(character, true);\r\n\tconst lostAttributes = character.attributeLoss || {\r\n\t\t[ATTRIBUTE_TYPE.COMBAT]: 0,\r\n\t\t[ATTRIBUTE_TYPE.MAGIC]: 0,\r\n\t\t[ATTRIBUTE_TYPE.TOOLS]: 0,\r\n\t};\r\n\tconst combinedAttributes = getCombinedAttributes(character);\r\n\r\n\tconst generateIcons = (attributeType: ATTRIBUTE_TYPE, value: number) => {\r\n\t\tconst icons = [];\r\n\t\tconst symbol = characterManager.getUFAttributeSymbol(attributeType);\r\n\t\tfor (let i = 0; i < value; i++) {\r\n\t\t\ticons.push(\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={`${attributeType}-${i}`}\r\n\t\t\t\t\tclassName={`attribute-icon ${attributeType}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{symbol}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn icons;\r\n\t};\r\n\r\n\tconst getGenericAttributesDisplay = (\r\n\t\tattributes: Attribute,\r\n\t\tlostAttributes?: Attribute\r\n\t) => {\r\n\t\tif (collapsed) {\r\n\t\t\tconst allIcons = Object.keys(attributes).flatMap((key) =>\r\n\t\t\t\tgenerateIcons(\r\n\t\t\t\t\tkey as ATTRIBUTE_TYPE,\r\n\t\t\t\t\tattributes[key as keyof Attribute] || 0\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn <div className=\"collapsed-attributes\">{allIcons}</div>;\r\n\t\t} else {\r\n\t\t\treturn Object.keys(attributes).map((key) => (\r\n\t\t\t\t<div key={key} className=\"attribute-display\">\r\n\t\t\t\t\t<div className=\"attribute-title\">\r\n\t\t\t\t\t\t<b>{characterManager.getUFAttributeName(key as ATTRIBUTE_TYPE)}</b>:\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{lostAttributes && showAttributeLoss ? (\r\n\t\t\t\t\t\t<div className=\"attribute-container\">\r\n\t\t\t\t\t\t\t<div className=\"attributes-retained\">\r\n\t\t\t\t\t\t\t\t{generateIcons(\r\n\t\t\t\t\t\t\t\t\tkey as keyof Attribute,\r\n\t\t\t\t\t\t\t\t\tattributes[key as keyof Attribute] || 0\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"attributes-lost\">\r\n\t\t\t\t\t\t\t\t{generateIcons(\r\n\t\t\t\t\t\t\t\t\tkey as keyof Attribute,\r\n\t\t\t\t\t\t\t\t\tlostAttributes[key as keyof Attribute] || 0\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"attribute-container\">\r\n\t\t\t\t\t\t\t{generateIcons(\r\n\t\t\t\t\t\t\t\tkey as keyof Attribute,\r\n\t\t\t\t\t\t\t\tattributes[key as keyof Attribute] || 0\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t));\r\n\t\t}\r\n\t};\r\n\r\n\tconst getGearAttributesDisplay = () => {\r\n\t\tif (character.gear.length === 0) {\r\n\t\t\treturn <div></div>;\r\n\t\t}\r\n\r\n\t\treturn character.gear.map((gear) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div key={gear.name} className=\"gear-attributes\">\r\n\t\t\t\t\t<div className=\"gear-title\">\r\n\t\t\t\t\t\t<b>{gear.name}: </b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{getGenericAttributesDisplay(gear.attributes)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getBackstoryElement = () => {\r\n\t\tconst backstory = character.backstory;\r\n\t\tconst nbCompleted = character.backstory.filter((bs) => bs.completed).length;\r\n\t\tconst placeholdersNeeded = 4 - backstory.length;\r\n\t\treturn (\r\n\t\t\t<div className=\"backstory-element\">\r\n\t\t\t\t<div className=\"backstory-title\">\r\n\t\t\t\t\t<b>Backstory : </b>\r\n\t\t\t\t\t{nbCompleted} / 4\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"backstory-tags\">\r\n\t\t\t\t\t{backstory.map((bs, index) => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tkey={`backstory-${index}`}\r\n\t\t\t\t\t\t\tclassName={`text-pill backstory-item ${\r\n\t\t\t\t\t\t\t\tbs.completed ? \"type-backstory\" : \"expected\"\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{bs.tag.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{[...Array(placeholdersNeeded)].map((_, index) => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tkey={`placeholder-${index}`}\r\n\t\t\t\t\t\t\tclassName=\"text-pill backstory-item expected\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst getClassAttributesDisplay = () => {\r\n\t\tconst levels = Array.from({ length: character.level }, (_, i) => i + 1);\r\n\r\n\t\treturn levels.map((level) => {\r\n\t\t\tconst classAttributes = getClassAttributes(\r\n\t\t\t\tcharacter.character_class,\r\n\t\t\t\tlevel\r\n\t\t\t);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div key={level} className=\"level-attributes\">\r\n\t\t\t\t\t<div className=\"level-title\">\r\n\t\t\t\t\t\t<b>Level {level}:</b>{\" \"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{getGenericAttributesDisplay(classAttributes)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getAttributesDisplay = () => {\r\n\t\tswitch (category) {\r\n\t\t\tcase ATTRIBUTE_CONTRIBUTOR.CHARACTER_CLASS:\r\n\t\t\t\treturn getClassAttributesDisplay();\r\n\t\t\tcase ATTRIBUTE_CONTRIBUTOR.GEAR:\r\n\t\t\t\treturn getGearAttributesDisplay();\r\n\t\t\tcase ATTRIBUTE_CONTRIBUTOR.RACE:\r\n\t\t\t\treturn getGenericAttributesDisplay(raceAttributes);\r\n\t\t\tcase ATTRIBUTE_CONTRIBUTOR.ALL:\r\n\t\t\t\tif (showAttributeLoss) {\r\n\t\t\t\t\treturn getGenericAttributesDisplay(\r\n\t\t\t\t\t\tcombinedattributesWithLoss,\r\n\t\t\t\t\t\tlostAttributes\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn getGenericAttributesDisplay(combinedAttributes);\r\n\t\t\tcase ATTRIBUTE_CONTRIBUTOR.NPC:\r\n\t\t\t\treturn getGenericAttributesDisplay(npcAttributes);\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"attribute-display-container\">\r\n\t\t\t{getAttributesDisplay()}\r\n\t\t\t{overviewDisplay && getGearAttributesDisplay()}\r\n\t\t\t{overviewDisplay && getBackstoryElement()}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AttributeDisplay;\r\n","import React from 'react';\nimport { ATTRIBUTE_CONTRIBUTOR, Character, NOTEBOOK_CATEGORY } from '../models';\nimport Cimage from './UI/cimage';\nimport './characterCard.scss';\nimport MoreInfo from './UI/moreInfoButton';\nimport { useAppManager, useCharacterManager, useUiManager } from './managerContexts';\nimport { APP_STATE } from '../consts/states';\nimport AttributeDisplay from './UI/attributeDisplay';\n\n\ninterface CharacterCardProps {\n  character: Character;\n  isSelected: boolean;\n  onSelect: () => void;\n  showAbilities: boolean;\n  collapsed?: boolean;\n  isAssigned?: boolean;\n  isAssignedToOther?: boolean;\n}\n\nconst CharacterCard: React.FC<CharacterCardProps> = ({ character, isSelected, onSelect, showAbilities, collapsed, isAssigned, isAssignedToOther }) => {\n\n  const uiManager = useUiManager();\n  const characterManager = useCharacterManager();\n  const appManager = useAppManager();\n\n\n\n  const clickedMoreInfo = () => {\n    uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.CHARACTER, character)\n  }\n\n  const showInfoOnClick = appManager.state !== APP_STATE.CHARACTER_CREATION;;\n\n  return (\n   \n    collapsed ? (\n      <div className=\"character-card collapsed\" onClick={onSelect}>\n        <div className=\"character-icon\">\n          <Cimage imageId={character.icon} />\n            <div className=\"character-initials\">{characterManager.getUFInitials(character)}</div>\n        </div>\n        <div className='character-collapsed-overlay'>\n        {showInfoOnClick ? \n          <MoreInfo \n            callback={clickedMoreInfo}\n          /> : \n          <div className=\"character-collapsed-unassign\">X</div>\n        }\n        </div>\n\n    </div>\n    ) : (\n    <div className={`character-card ${isSelected ? 'selected' : ''} ${isAssignedToOther ? 'assigned-to-other' : ''}`} onClick={onSelect}>\n      <div className={`character-card-container ${isAssigned ? 'assigned' : ''} `}>\n        <div className=\"character-card-header\">\n          <div className=\"character-info\">\n            <div className=\"character-name\">{character.name}</div>\n            <div className=\"character-details\">\n              <div className=\"character-race\">{characterManager.getUFRace(character.race)} {characterManager.getUFClass(character.character_class)}</div>\n            </div>\n            <AttributeDisplay hero={character} category={ATTRIBUTE_CONTRIBUTOR.ALL} collapsed={false} />\n          </div>\n          <div className=\"character-icon\">\n            <Cimage imageId={character.icon} />\n            <div className=\"character-level\">Level {character.level}</div>\n          </div>\n        </div>\n        {showAbilities && (\n          <div className=\"character-card-body\">\n            <div className=\"abilities-list\">\n              <ul>\n                {character.abilities.map((ability, index) => (\n                  <li key={index}>\n                    <strong>{ability}</strong>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        )}\n      </div>\n      <MoreInfo\n        callback={clickedMoreInfo}\n      />\n      {isAssigned && <div className=\"character-assigned\">Assigned</div>}\n    </div>\n    )\n\n  );\n};\n\nexport default CharacterCard;","import React from 'react';\n\ninterface FillBarProps {\n    totalSegments: number;\n    filledSegments: number;\n    theme?: string;\n    label?: string;\n    buttonWhenFilled?: boolean;\n    onClickFilled?: () => void;\n    filledLabel?: string;\n    labelStyle?: 'over' | 'normal';\n}\n\nconst FillBar: React.FC<FillBarProps> = ({ totalSegments, filledSegments, theme = '', label, buttonWhenFilled = false, onClickFilled, filledLabel, labelStyle = 'normal' }) => {\n    \n    const segments = Array.from({ length: totalSegments }, (_, index) => (\n        <div\n          key={index}\n          className={`fill-bar-segment bg-theme-${theme} ${index < filledSegments ? 'filled' : ''}`}\n        />\n      ));\n      \n    const filled = filledSegments >= totalSegments;\n    const themeClass = 'theme-' + theme;\n    if(labelStyle !== 'over') {\n        return ( \n            <div className={`fill-bar`}>\n                {label && <div className={`fill-bar-label text-theme-${theme || ''}`}>{label}</div>}\n                <div className={`fill-bar-container ${filled ? themeClass : ''}`}>\n                    {filled && buttonWhenFilled ? (\n                        <div className={`fill-bar-filled-button ${themeClass}`} onClick={onClickFilled}>{filledLabel}</div>\n                     ) : (\n                     segments\n                    )\n                    }\n                </div>\n            </div>\n            )\n    }\n\n\n \n    return (\n        <div className={`fill-bar`}>\n          <div className={`fill-bar-container ${filled ? themeClass : ''}`}>\n            {label && labelStyle === 'over' && (\n              <div className={`fill-bar-label-over text-theme-${theme || ''}`}>\n                {label}\n              </div>\n            )}\n            {filled && buttonWhenFilled ? (\n              <div className={`fill-bar-filled-button ${themeClass}`} onClick={onClickFilled}>\n                {filledLabel}\n              </div>\n            ) : (\n              segments\n            )}\n          </div>\n        </div>\n      );\n};\n    \nexport default FillBar;\n","import React, { useEffect, useState } from 'react';\r\nimport './playerCard.scss';\r\nimport { Character, NOTEBOOK_CATEGORY, Player, PlayerStats } from '../models';\r\nimport Cimage from './UI/cimage';\r\nimport Schedule from './schedule';\r\nimport CharacterCard from './characterCard';\r\nimport { useAppManager, useCharacterManager, usePlayerManager, useUiManager } from './managerContexts';\r\nimport MoreInfo from './UI/moreInfoButton';\r\nimport { APP_STATE } from '../consts/states';\r\nimport FillBar from './UI/fillBar';\r\n\r\ninterface PlayerCardProps {\r\n  player: Player;\r\n  isSelected: boolean;\r\n  showSchedule?: boolean;\r\n  showCharacters?: boolean;\r\n  showPreferences?: boolean;\r\n  onSelect: () => void;\r\n  overlayStyle?: 'assign' | 'unassign' | 'none';\r\n  parentUpdate?: () => void;\r\n  showStats?: boolean;\r\n \r\n}\r\n\r\nconst delightColors = ['#CC0000', '#CC6600', '#CCCC00', '#66CC00', '#00CC00'];\r\nconst delightBorderColors = ['#990000', '#994C00', '#999900', '#4C9900', '#009900'];\r\n\r\nconst delightColors2 = ['#FFCCCC', '#FFDDCC', '#FFFFCC', '#DDFFCC', '#CCFFCC'];\r\nconst delightBorderColors2 = ['#660000', '#663300', '#666600', '#336600', '#006600'];\r\n\r\nconst PlayerCard: React.FC<PlayerCardProps> = ({ player, parentUpdate, isSelected, onSelect, showCharacters, showSchedule, showPreferences, overlayStyle, showStats }) => {\r\n  const uiManager = useUiManager();\r\n  const appManager = useAppManager();\r\n  const [update, setUpdate] = useState(false);\r\n  const [showTooltipLikes, setShowTooltipLikes] = useState(false);\r\n  const [showTooltipHates, setShowTooltipHates] = useState(false);\r\n  const [showTooltipTraits, setShowTooltipTraits] = useState(false);\r\n  const [prevEnjoyment, setPrevEnjoyment] = useState(player.playerStats.enjoyment);\r\n  const [isFlashing, setIsFlashing] = useState(false);\r\n\r\n\r\n  const mainLike = player.preferences.reduce((prev, current) => (current[1] > prev[1] ? current : prev), player.preferences[0]);\r\n  const mainHate = player.preferences.reduce((prev, current) => (current[1] < prev[1] ? current : prev), player.preferences[0]);\r\n\r\n  const handleMouseEnterLikes = () => setShowTooltipLikes(true);\r\n  const handleMouseLeaveLikes = () => setShowTooltipLikes(false);\r\n\r\n  \r\n  const handleMouseEnterHates = () => setShowTooltipHates(true);\r\n  const handleMouseLeaveHates = () => setShowTooltipHates(false);\r\n\r\n  const handleMouseEnterTraits = () => setShowTooltipTraits(true);\r\n  const handleMouseLeaveTraits = () => setShowTooltipTraits(false);\r\n\r\n\r\n  const allLikes = player.preferences.filter(pref => pref[1] > 0);\r\n  const allHates = player.preferences.filter(pref => pref[1] < 0);\r\n \r\n\r\n  const text = overlayStyle === 'assign' ? 'Assign' : 'Remove';\r\n  const overlay = overlayStyle === 'none' ? '' : \r\n    <div className={`overlay ${overlayStyle}`}>\r\n      <div className=\"overlay-text\">\r\n        {text}  \r\n      </div>\r\n    </div>;\r\n  const characterManager = useCharacterManager();\r\n  const playerManager = usePlayerManager();\r\n\r\n  const assignedCharClicked = (character: Character) => {\r\n    if(appManager.state === APP_STATE.CHARACTER_CREATION) {\r\n      unassignCharacter(character);\r\n    }else {\r\n      \r\n      uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.CHARACTER, character);\r\n    }\r\n  }\r\n\r\n  const unassignCharacter = (character: Character) => {\r\n      playerManager.toggleSinglePlayerForCharacter(player, character);\r\n      setUpdate(!update);\r\n      if(parentUpdate){\r\n        parentUpdate();\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      if (prevEnjoyment !== player.playerStats.enjoyment) {\r\n        setIsFlashing(true);\r\n        setTimeout(() => setIsFlashing(false), 500);\r\n        setPrevEnjoyment(player.playerStats.enjoyment);\r\n      }\r\n    }, [player.playerStats.enjoyment]);\r\n    \r\n  // useEffect(() => {\r\n  //   const forceUpdate = () => {\r\n  //     setUpdate(!update);\r\n  //   }\r\n  //   uiManager.on('playerUpdate', forceUpdate);\r\n  //   return () => {\r\n  //     uiManager.off('playerUpdate', forceUpdate);\r\n  //   };\r\n\r\n  // }, [uiManager, update]);\r\n  \r\n  \r\n  const showNotebookForPlayer = () => {\r\n    uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.PLAYER, player)\r\n  }\r\n\r\n  const renderPlayerStats = () => {\r\n    if (!showStats) return null;\r\n    \r\n    return (\r\n      <div className=\"player-stats\">\r\n      \r\n        <div className=\"stat-item enjoyment\">\r\n            <div className=\"stat-item-emoji\"></div>\r\n           \r\n            {Array.from({ length: 5 }).map((_, index) => {\r\n              const isFilled = index <= player.playerStats.enjoyment;\r\n         \r\n              \r\n              return (\r\n                <span\r\n                  key={index}\r\n                  className={`delight-circle ${isFilled ? 'filled' : ''} ${isFlashing ? 'flash' : ''}`}\r\n                  style={isFilled ? {\r\n                    backgroundColor: delightColors[player.playerStats.enjoyment] || '',\r\n                    borderColor: delightBorderColors[player.playerStats.enjoyment] || '',\r\n                    boxShadow: `0 0 10px ${delightColors[player.playerStats.enjoyment] || ''}`\r\n                  } : {}}\r\n                ></span>\r\n              );\r\n            })}\r\n          <div className=\"stat-item-emoji\"></div>\r\n        </div>\r\n        <div className=\"stat-item engagement\">\r\n          <FillBar totalSegments={5} filledSegments={player.playerStats.involvement} theme=\"engagement\" label=\"ATTENTION\" />\r\n        </div>\r\n        {/* <div className=\"stat-item stress\">\r\n          <FillBar totalSegments={3} filledSegments={player.playerStats.stress} theme=\"engagement\" label=\"STRESS\" />\r\n        </div> */}\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div \r\n      className={`player-card ${isSelected ? 'selected' : ''}`} \r\n      onClick={onSelect}\r\n      style={{\r\n        backgroundColor: delightColors2[player.playerStats.enjoyment] || '',\r\n        borderColor: delightBorderColors2[player.playerStats.enjoyment] || '',\r\n     //   boxShadow: `0 0 10px ${delightColors2[player.playerStats.enjoyment] || ''}`\r\n      }}\r\n      \r\n      \r\n      >\r\n      <MoreInfo callback={showNotebookForPlayer} />\r\n      <div className=\"player-card-header\">\r\n        <div className=\"player-icon\">\r\n          <Cimage imageId={player.icon} />\r\n        </div>\r\n        <div className=\"player-upper-info\">\r\n          <div className=\"player-name\">\r\n            {player.name}\r\n          </div>\r\n          {showSchedule && (\r\n            <div className=\"player-schedule-container\">\r\n              <Schedule dayData={player.schedule} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showPreferences && (\r\n        <div className=\"player-preferences-section\">\r\n           {player.traits.length > 0 && (\r\n            <div className=\"preferences-column\">\r\n                <div className=\"preferences-title\">\r\n                  Traits\r\n                </div>\r\n                <div className=\"preferences-traits \" onMouseEnter={handleMouseEnterTraits} onMouseLeave={handleMouseLeaveTraits}>\r\n                  {player.traits.map((trait, idx) => (\r\n                    <div key={idx} className=\"trait-item text-pill trait\">\r\n                      {trait.name}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n            \r\n              {showTooltipTraits && (\r\n              <div className=\"tooltip traits\">\r\n                <div className=\"tooltip-content-single\">\r\n                  {player.traits.map((trait, idx) => (\r\n                  <div key={idx} className=\"tooltip-trait-item\">\r\n                    <b>{trait.name}</b>: {trait.description}\r\n                  </div>\r\n                ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n            </div>\r\n           )}\r\n          <div className=\"preferences-column\">\r\n            <div className=\"preferences-title\">Likes</div>\r\n            <div className=\"preferences-main\">{mainLike[0].name}</div>\r\n            <div className=\"preferences-dots\"  onMouseEnter={handleMouseEnterLikes} onMouseLeave={handleMouseLeaveLikes}>\r\n              {allLikes.map((like, idx) => (\r\n                <div key={idx} className=\"preference-dot like\" title={like[0].name} />\r\n              ))}\r\n            </div>\r\n            {showTooltipLikes && (\r\n              <div className=\"tooltip like\">\r\n                <div className=\"tooltip-content\">\r\n                  {player.preferences.filter(pref => pref[1] > 0).map((pref, idx) => (\r\n                    <div key={idx} className=\"tooltip-pill\">{pref[0].name}</div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"preferences-column\" >\r\n            <div className=\"preferences-title\">Hates</div>\r\n            <div className=\"preferences-main\">{mainHate[0].name}</div>\r\n            <div className=\"preferences-dots\" onMouseEnter={handleMouseEnterHates} onMouseLeave={handleMouseLeaveHates}>\r\n              {allHates.map((hate, idx) => (\r\n                <div key={idx} className=\"preference-dot hate\" title={hate[0].name} />\r\n              ))}\r\n            </div>\r\n            {showTooltipHates && (\r\n              <div className=\"tooltip hate\">\r\n                <div className=\"tooltip-content\">\r\n                  {player.preferences.filter(pref => pref[1] < 0).map((pref, idx) => (\r\n                    <div key={idx} className=\"tooltip-pill\">{pref[0].name}</div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        \r\n        </div>\r\n      )}\r\n      {renderPlayerStats()}\r\n      {showCharacters && (\r\n        <div className=\"character-row-container\">\r\n          <div className=\"character-row-display\">\r\n            {player.characters.map((character) => {\r\n              \r\n              return (\r\n                <CharacterCard\r\n                  key={character.id}\r\n                  character={character}\r\n                  isSelected={false}\r\n                  onSelect={() => { assignedCharClicked(character) }}\r\n                  showAbilities={false}\r\n                  collapsed={true}\r\n                />\r\n              );\r\n            })}\r\n          \r\n          </div>\r\n          </div>\r\n      )}\r\n      {overlayStyle && overlay}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlayerCard;","\r\ninterface CboxProps {\r\n  title: string;\r\n  theme?: string;\r\n  children?: React.ReactNode;\r\n}\r\nconst Cbox: React.FC<CboxProps> = ({ title, theme, children }) => {\r\n  return (\r\n    <div className={`cbox ${theme}`}>\r\n      <div className={`cbox-text ${theme}`}>\r\n        {title}\r\n      </div>\r\n      <div className=\"cbox-children\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cbox;","import React from \"react\";\r\nimport \"./notebook.scss\";\r\nimport { EncounterNotebookEntry } from \"../../models\";\r\nimport CImage from \"./cimage\";\r\nimport { useCampaignManager } from \"../managerContexts\";\r\nimport Cbox from \"./cbox\";\r\n\r\ninterface NoteBookEncounterProps {\r\n  encounterInfo: EncounterNotebookEntry;\r\n}\r\n\r\nconst NotebookEncounter: React.FC<NoteBookEncounterProps> = ({\r\n  encounterInfo,\r\n}) => {\r\n  const campaignManager = useCampaignManager();\r\n  const encounter = encounterInfo.encounter;\r\n\r\n  const combinedTags = campaignManager.getTagsForEncounter(encounter);\r\n  const encounterBranches = encounterInfo.encounter.branches;\r\n\r\n  return (\r\n    <div className=\"notebook-encounter-container\">\r\n      <div className=\"notebook-encounter-contents left\">\r\n        <Cbox title={encounter.name} theme=\"encounter-info\">\r\n          <div className=\"notebook-icon-container\">\r\n            <CImage imageId={encounter.icon} />\r\n          </div>\r\n        </Cbox>\r\n       \r\n      </div>\r\n      <Cbox title=\"DETAILS\" theme=\"details\">\r\n        <Cbox title=\"LOCATION\" theme=\"location\">\r\n          <div className=\"encounter-location\">{encounter.location.name}</div>\r\n        </Cbox>\r\n        <Cbox title=\"DESCRIPTION\" theme=\"description\">\r\n          {\" \"}\r\n          <div className=\"notebook-text encounter-description\">\r\n            {encounter.description}\r\n          </div>\r\n        </Cbox>\r\n        <Cbox title=\"ELEMENTS\" theme=\"elements\">\r\n          <div className=\"elements-features-list-container\">\r\n            {combinedTags.map((tag, index) => {\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className=\"notebook-text elements-features-list text-pill type-encounter\"\r\n                >\r\n                  {tag.name}{\" \"}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </Cbox>\r\n      </Cbox>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotebookEncounter;\r\n","import React from 'react';\r\nimport './notebook.scss';\r\nimport { ATTRIBUTE_CONTRIBUTOR, CharacterNotebookEntry } from '../../models';\r\nimport { useCharacterManager, usePlayerManager } from '../managerContexts';\r\nimport CImage from './cimage';\r\nimport AttributeDisplay from './attributeDisplay';\r\nimport FillBar from './fillBar';\r\nimport Cbox from './cbox';\r\n\r\nconst NotebookCharacter: React.FC<{ characterInfo: CharacterNotebookEntry }> = ({ characterInfo }) => {\r\n    const characterManager = useCharacterManager();\r\n    const playerManager = usePlayerManager();\r\n\r\n    const getPlayer = () => {\r\n        const player = playerManager.getPlayerAssignedCharacter(characterInfo.character);\r\n        return player ? `Assigned to ${player.name}` : 'Not assigned to any player';\r\n    }\r\n\r\n    return (\r\n        <div className=\"notebook-character\">\r\n            <div className=\"notebook-character-left\">\r\n                <Cbox title={characterInfo.character.name} theme=\"character-info\">\r\n                    <div className=\"notebook-left-top-container\">\r\n                        <div className=\"notebook-character-icon-container\">\r\n                            <CImage imageId={characterInfo.character.icon}/>\r\n                        </div>\r\n                        <div className=\"notebook-character-stats\">\r\n                            <div><b>Race:</b> {characterManager.getUFRace(characterInfo.character.race)}</div>\r\n                            <div><b>Class:</b> {characterManager.getUFClass(characterInfo.character.character_class)}</div>\r\n                            <div><b>Level:</b> {characterInfo.character.level}</div>\r\n                            <div>{getPlayer()}</div>\r\n                        </div>\r\n                        \r\n                       \r\n                            <Cbox title=\"STATUS\" theme={`health ${characterInfo.character.injury}`}>\r\n                                <div className={`health-status ${characterInfo.character.injury}`}>\r\n                                    {characterInfo.character.injury?.toUpperCase() ?? 'HEALTHY'}\r\n                                </div>\r\n                            </Cbox>\r\n                    \r\n                    </div>\r\n                </Cbox>\r\n\r\n\r\n                <Cbox title=\"ABILITIES\" theme=\"abilities\">\r\n                    <AttributeDisplay \r\n                        hero={characterInfo.character} \r\n                        category={ATTRIBUTE_CONTRIBUTOR.ALL} \r\n                    />\r\n                </Cbox>\r\n\r\n                <Cbox title=\"BACKSTORY\" theme=\"backstory\">\r\n                    <FillBar \r\n                        totalSegments={Math.max(characterInfo.character.backstory.length, 3)} \r\n                        filledSegments={characterInfo.character.backstory.filter(bs => bs.completed).length} \r\n                        theme=\"backstory\" \r\n                        label=\"Backstory Elements\" \r\n                    />\r\n                    <div className =\"notebook-backstory-tags\">\r\n                        SEEKING:\r\n                        {characterInfo.character.backstory\r\n                            .filter(bs => !bs.completed)\r\n                            .map((story, idx) => (\r\n                                <div key={idx} className=\"text-pill expected\">\r\n                                    {story.tag.name}\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                    <div className =\"notebook-backstory-tags\">\r\n                        {characterInfo.character.backstory\r\n                            .filter(bs => bs.completed).length > 0 && (\r\n                                <div>COMPLETED:</div>\r\n                            )}\r\n                        {characterInfo.character.backstory\r\n                            .filter(bs => bs.completed)\r\n                            .map((story, idx) => (\r\n                                <div key={idx} className=\"text-pill completed\">\r\n                                    {story.tag.name}\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                </Cbox>\r\n            </div>\r\n\r\n            <div className=\"notebook-character-right\">\r\n                <Cbox title=\"ABILITY DETAILS\" theme=\"ability-details\">\r\n                    <Cbox title={`${characterManager.getUFRace(characterInfo.character.race)} Abilities`} theme=\"race-abilities\">\r\n                        <AttributeDisplay \r\n                            hero={characterInfo.character} \r\n                            category={ATTRIBUTE_CONTRIBUTOR.RACE} \r\n                            collapsed={true} \r\n                        />\r\n                    </Cbox>\r\n                    \r\n                    <Cbox title={`${characterManager.getUFClass(characterInfo.character.character_class)} Abilities`} theme=\"class-abilities\">\r\n                        <AttributeDisplay \r\n                            hero={characterInfo.character} \r\n                            category={ATTRIBUTE_CONTRIBUTOR.CHARACTER_CLASS} \r\n                            collapsed={true}\r\n                        />\r\n                    </Cbox>\r\n\r\n                    {characterInfo.character.gear.length > 0 && (\r\n                        <Cbox title=\"Equipment Bonuses\" theme=\"gear-abilities\">\r\n                            <AttributeDisplay \r\n                                hero={characterInfo.character} \r\n                                category={ATTRIBUTE_CONTRIBUTOR.GEAR} \r\n                                collapsed={true} \r\n                            />\r\n                        </Cbox>\r\n                    )}\r\n                </Cbox>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotebookCharacter;","import React from \"react\";\r\nimport \"./notebook.scss\";\r\nimport { LocationNotebookEntry } from \"../../models\";\r\nimport CImage from \"./cimage\";\r\nimport Cbox from \"./cbox\";\r\n\r\ninterface NoteBookLocationProps {\r\n  locationInfo: LocationNotebookEntry;\r\n}\r\n\r\nconst NotebookLocation: React.FC<NoteBookLocationProps> = ({\r\n  locationInfo,\r\n}) => {\r\n  const location = locationInfo.location;\r\n\r\n  return (\r\n    <div className=\"notebook-location-container\">\r\n      <div className=\"notebook-location-contents left\">\r\n        <Cbox title={location.name} theme=\"location-info\">\r\n          <div className=\"notebook-icon-container\">\r\n            <CImage imageId={location.icon} />\r\n          </div>\r\n        </Cbox>\r\n      </div>\r\n\r\n      <div className=\"notebook-location-contents right\">\r\n        <Cbox title=\"DETAILS\" theme=\"location-details\">\r\n          <Cbox title=\"DESCRIPTION\" theme=\"description\">\r\n            <div className=\"notebook-text location-description\">\r\n              {location.description}\r\n            </div>\r\n          </Cbox>\r\n          <Cbox title=\"FEATURES\" theme=\"location-features\">\r\n            <div className=\"elements-features-list-container\">\r\n              {location.tags.map((tag, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"notebook-text elements-features-list text-pill type-location\"\r\n                >\r\n                  {tag.name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Cbox>\r\n        </Cbox>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotebookLocation;\r\n","import React from \"react\";\r\nimport \"./notebook.scss\";\r\nimport { PlayerNotebookEntry } from \"../../models\";\r\nimport UiManager from \"../../managers/uiManager\";\r\nimport Schedule from \"../schedule\";\r\nimport CImage from \"./cimage\";\r\nimport { useCharacterManager } from \"../managerContexts\";\r\nimport FillBar from \"./fillBar\";\r\nimport { click } from \"@testing-library/user-event/dist/click\";\r\nimport Cbox from \"./cbox\";\r\nimport { PLAYER_EXP_LEVEL } from \"../../consts/general\";\r\n\r\ninterface NoteBookPlayerProps {\r\n  playerInfo: PlayerNotebookEntry;\r\n  clickChar?: (idx: number) => void;\r\n  singleColumn?: boolean;\r\n}\r\n\r\nconst NotebookPlayer: React.FC<NoteBookPlayerProps> = ({\r\n  playerInfo,\r\n  singleColumn,\r\n  clickChar = () => {},\r\n}) => {\r\n  const characterManager = useCharacterManager();\r\n\r\n  const likesList = playerInfo.player.preferences.filter(\r\n    (preference) => preference[1] > 0\r\n  );\r\n  const hatesList = playerInfo.player.preferences.filter(\r\n    (preference) => preference[1] < 0\r\n  );\r\n\r\n  const getLikesList = () => {\r\n    return likesList.map((preference, idx) => {\r\n      return (\r\n        <div key={idx} className=\"text-pill like\">\r\n          <div className=\"player-preference\">- {preference[0].name}</div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const getHatesList = () => {\r\n    return hatesList.map((preference, idx) => {\r\n      return (\r\n        <div key={idx} className=\"text-pill hate\">\r\n          <div className=\"player-preference\">- {preference[0].name}</div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const getTraitsList = () => {\r\n    return playerInfo.player.traits.map((trait, idx) => (\r\n      <div key={idx}>\r\n        <Cbox\r\n          title={trait.name}\r\n            theme=\"trait\"\r\n        >\r\n        <div className=\"trait-description\">{trait.description}</div>\r\n        </Cbox>\r\n      </div>\r\n     \r\n    ));\r\n  };\r\n\r\n  const clickCharacter = (idx: number) => {\r\n    clickChar(idx);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"notebook-player-container\">\r\n\r\n<div className=\"player-notebook-upper\">\r\n\r\n      {!singleColumn && (\r\n        <div className=\"player-notebook-left-content\">\r\n          <div className=\"notebook-player-topbar\">\r\n            <div className=\"notebook-player-icon\">\r\n              <CImage imageId={playerInfo.player.icon} />\r\n            </div>\r\n            <div className=\"notebook-player-name\">{playerInfo.player.name}</div>\r\n          </div>\r\n\r\n          <div className=\"player-notebook-mid-content\">\r\n            <div className=\"player-notebook-mid-left\">\r\n            <Cbox\r\n                    title=\"STATS\"\r\n                        theme=\"stats\"\r\n                        >\r\n                    <div className=\"character-level\">\r\n                        <FillBar\r\n                        filledSegments={playerInfo.player.playerStats.experience}\r\n                        totalSegments={PLAYER_EXP_LEVEL[playerInfo.player.playerStats.level]}\r\n                        theme=\"player-level\"\r\n                        label={`LEVEL ${playerInfo.player.playerStats.level}`}\r\n                        />\r\n                    </div>\r\n                    <div className=\"character-attitude\">\r\n                        <FillBar\r\n                        filledSegments={playerInfo.player.playerStats.enjoyment}\r\n                        totalSegments={playerInfo.player.playerStats.maxEnjoyment}\r\n                        theme=\"player-level\"\r\n                        label={`ATTITUDE ${playerInfo.player.playerStats.enjoyment}/${playerInfo.player.playerStats.maxEnjoyment}`}\r\n                        />\r\n                    </div>\r\n                    <div className=\"character-attention\">\r\n                        <FillBar\r\n                        filledSegments={playerInfo.player.playerStats.involvement}\r\n                        totalSegments={playerInfo.player.playerStats.maxInvolvement}\r\n                        theme=\"player-level\"\r\n                        label={`ATTENTION ${playerInfo.player.playerStats.involvement}/${playerInfo.player.playerStats.maxInvolvement}`}\r\n                        />\r\n                    </div>\r\n                    <Cbox\r\n                        title=\"STRESS\"\r\n                        theme=\"stress\"\r\n                        >\r\n                        <div className=\"character-stress\">\r\n                            CURRENT STRESS{\" \"}\r\n                            {Math.max(\r\n                            0,\r\n                            playerInfo.player.playerStats.stress -\r\n                                playerInfo.player.playerStats.stressBuffer\r\n                            )}\r\n                            %\r\n                        </div>\r\n                        <div className=\"character-stress\">\r\n                            RESILIENCE{\" \"}\r\n                            {Math.min(\r\n                            playerInfo.player.playerStats.stressBuffer,\r\n                            playerInfo.player.playerStats.stress\r\n                            )}\r\n                            /{playerInfo.player.playerStats.stressBuffer}\r\n                        </div>\r\n                    </Cbox>\r\n\r\n</Cbox>\r\n\r\n                </div>\r\n\r\n                \r\n\r\n\r\n            <div className=\"player-notebook-mid-right\">\r\n            <Cbox\r\n                    title=\"PREFERENCES\"\r\n                    theme=\"preferences\"\r\n                >\r\n           \r\n            <Cbox\r\n                \r\n                    title=\"LIKES\"\r\n                    theme=\"likes\"\r\n                    >\r\n              <div className=\"player-preferences likes\">\r\n                {getLikesList()}\r\n              </div>\r\n            </Cbox>\r\n             <Cbox\r\n                    title=\"HATES\"\r\n                    theme=\"hates\"\r\n                >\r\n              <div className=\"player-preferences hates\">\r\n               \r\n                {getHatesList()}\r\n              </div>\r\n            \r\n            </Cbox>\r\n            </Cbox>\r\n            </div>\r\n\r\n            \r\n          </div>\r\n\r\n         \r\n\r\n\r\n        </div>\r\n      )}\r\n      <div className=\"player-notebook-right-content\">\r\n        {!singleColumn && playerInfo.player.characters.length > 0 && (\r\n          <Cbox \r\n            title=\"CHARACTERS\"\r\n            theme=\"characters\"\r\n          >\r\n            {playerInfo.player.characters.map((char, idx) => {\r\n              //const char = characterManager.getCharacterById(character);\r\n              return (\r\n                <div key={idx} className=\"player-character-container\" onClick={() => clickCharacter(idx)}>\r\n                  <div className={`player-character-hero-image`}>\r\n                    <div className=\"challenge-character-icon\">\r\n                      <CImage imageId={char.icon} />\r\n                    </div>\r\n                    {char.injury === \"injured\" && (\r\n                      <div className=\"player-character-hero-injury\"></div>\r\n                    )}\r\n                    {char.injury === \"dead\" && (\r\n                      <div className=\"player-character-hero-injury dead\"></div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"player-character-text-container\">\r\n                    <div className=\"player-character-name-container\">\r\n                      <div className=\"player-character-name\">{char.name}</div>\r\n                    </div>\r\n                    <div className=\"player-character-info\">\r\n                      {char.race} {char.character_class}\r\n                    </div>\r\n\r\n                    <div className=\"player-character-info\">\r\n                      Level {char.level}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </Cbox>\r\n        )}\r\n      </div>\r\n\r\n</div>\r\n\r\n      <div className=\"player-notebook-bottom\">\r\n            <Cbox \r\n             title=\"PLAYER TRAITS\"\r\n            theme=\"traits\"\r\n            >\r\n                {playerInfo.player.traits.length === 0 ? (\r\n                    <div className=\"no-traits\">\r\n                        level up to unlock traits\r\n                        </div>\r\n                        ) : (\r\n\r\n                <div className=\"player-notebook-traits\">{getTraitsList()}</div>\r\n                    \r\n                    )}\r\n            </Cbox>\r\n          </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotebookPlayer;\r\n","import React, { useEffect, useState } from 'react';\nimport './notebook.scss'; \n\nimport { useCharacterManager, usePlayerManager } from '../managerContexts';\nimport { GroupNotebookEntry, Player } from '../../models';\nimport Schedule from '../schedule';\n\n\ninterface NoteBookGroupProps {\n    groupInfo:GroupNotebookEntry;\n}\n\nconst NotebookGroup: React.FC<NoteBookGroupProps> = ({ groupInfo }) => {\n\n    const [playerGroup, setPlayerGroup] = useState<Player[]>(groupInfo.players);\n    const playerManager = usePlayerManager();\n    const [groupAttitudes, setGroupAttitudes] = useState(playerManager.getGroupAttitudes());\n    const [dayData, setDayData] = useState(playerManager.aggregateSchedule());\n\n\n    useEffect(() => {\n        const updateGroupAttitudes = () => {\n            setGroupAttitudes(playerManager.getGroupAttitudes());\n          };\n        updateGroupAttitudes();\n        setPlayerGroup(groupInfo.players);\n        setDayData(playerManager.aggregateSchedule());\n    }, [groupInfo, playerManager]);\n\n    return (\n    <div className=\"notebook-group-container\">\n       <div className = \"notebook-group-top-content\">\n            <div className=\"notebook-group-players notebook-text large\">\n                <u>Players</u>\n                <div className = \"notebook-group-players-list\">\n                    {playerGroup.length !== 0 &&  playerGroup.map((player, idx) => (\n                                <div key={idx} className=\"notebook-text player-name\">\n                                {player.name}\n                                </div>\n                            ))}\n                </div>\n            </div>\n        </div>\n\n        <div className=\"player-attitude\">\n                <div className=\"attitude-column\">\n                  <div className=\"attitude-title notebook-text large\"><u>Group Likes</u></div>\n                  {groupAttitudes.likes.map((like, index) => (\n                    <div key={index} className=\"attitude-item like\">\n                        <div className=\"attitude-item-text\">\n                      {like}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                {groupAttitudes.conflicted.length > 0 && (\n              <div className=\"attitude-column\">\n                  <div className=\"attitude-title notebook-text large\"><u>Conflicted</u></div>\n                  {groupAttitudes.conflicted.map((conflicted, index) => (\n                    <div key={index} className=\"attitude-item conflicted\">\n                       <div className=\"attitude-item-text\">\n                      {conflicted}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n                <div className=\"attitude-column\">\n                  <div className=\"attitude-title notebook-text large\"><u>Group Hates</u></div>\n                  {groupAttitudes.hates.map((hate, index) => (\n                    <div key={index} className=\"attitude-item hate\">\n                         <div className=\"attitude-item-text\">\n                      {hate}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n               \n              </div>\n             \n\n           \n           \n    </div>\n    );\n};\n\nexport default NotebookGroup;\n\n\n\n\n","import React from 'react';\nimport './groupSchedule.scss';\nimport { usePlayerManager } from '../managerContexts';\nimport Schedule from '../schedule';\n\nconst GroupSchedule: React.FC = () => {\n    const playerManager = usePlayerManager();\n    const dayData = playerManager.aggregateSchedule();\n\n    const dayDataToSymbol = (percentage: number) => {\n        if(percentage === 0) {\n            return '-';\n        } else \n        if (percentage < 33) {\n            return 'X';\n        } else if (percentage < 65) {\n            return ' ';\n        } else {\n            return '';\n        }\n    }\n\n\n\n    return (\n        <div className=\"group-schedule-container\">\n            <div className=\"group-schedule-tab\">Scheduling</div>\n            <div className=\"week-display-days\">\n                {dayData.map((percentage, index) => (\n                    <div key={index} className=\"day-box\">\n                        <div className=\"day-abbreviation\">{['M', 'T', 'W', 'R', 'F', 'St', 'Sn'][index]}</div>\n                        <div className=\"day-percentage\">{dayDataToSymbol(percentage)}</div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default GroupSchedule;","import React from 'react';\nimport './notebook.scss';\nimport './tutorial.scss';\nimport { TutorialNotebookEntry } from '../../models';\nimport CImage from './cimage';\nimport { useAppManager, useUiManager } from '../managerContexts';\n\ninterface NoteBookTutorialProps {\n    tutorialInfo: TutorialNotebookEntry;\n}\n\nconst NotebookTutorial: React.FC<NoteBookTutorialProps> = ({ tutorialInfo }) => {\n    const message = tutorialInfo.message;\n    const icon = tutorialInfo.icon;\n    const nextIndex = tutorialInfo.showNext;\n    const prevIndex = tutorialInfo.showPrev;\n\n    const uiManager = useUiManager();\n    const appManager = useAppManager();\n    const tutorialManager = appManager.getTutorialManager();\n\n    const prevClicked = () => {\n    if(prevIndex !== undefined && prevIndex >= 0)\n         uiManager.showTutorialPage(prevIndex);\n    }\n\n    const nextClicked = () => {\n        if(nextIndex !== undefined && nextIndex >= 0) {\n            uiManager.showTutorialPage(nextIndex);\n        }\n        else {\n            uiManager.closeTutorial();\n        }\n    }\n\n    const clickedDisable = () => {\n        uiManager.closeTutorial();\n        tutorialManager.disableTutorial();\n    }\n\n    const nextOrClose = !nextIndex ? 'Close' : 'Next';\n\n    return (\n        <div className=\"notebook-tutorial-container\">\n            <div className=\"notebook-tutorial-contents left\">\n                <div className=\"tutorial-title-container\">\n                    <div className=\"tutorial-title\">\n                        {tutorialInfo.title}\n                    </div>\n                </div>\n                <div className=\"notebook-icon-container\"> \n                    <CImage imageId={icon} />\n                </div>\n                <div className=\"pill-button remove\"> \n                    <div className=\"pill-button-disable\" onClick={() => clickedDisable()}>DISABLE TUTORIAL</div>\n                </div>\n            </div>\n            <div className=\"notebook-tutorial-contents right\">\n                <div className=\"tutorial-message-container\">\n                    <div className=\"tutorial-message\" dangerouslySetInnerHTML={{ __html: message }}/>\n                </div>\n                \n            \n                <div className=\"notebook-tutorial-buttons\">\n                    {(prevIndex !== undefined && prevIndex >= 0) && <div className=\"nav-button prev\" onClick={prevClicked}>Previous</div>}\n                    <div className=\"nav-button next\" onClick={nextClicked}>{nextOrClose}</div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n\nexport default NotebookTutorial;","import React, { useEffect } from 'react';\r\nimport './notebook.scss';\r\nimport { Encounter, NOTEBOOK_CATEGORY } from '../../models';\r\nimport { useUiManager } from '../managerContexts';\r\nimport NotebookEncounter from './notebookEncounter';\r\nimport NotebookCharacter from './notebookCharacter';\r\nimport NotebookLocation from './notebookLocation';\r\nimport NotebookPlayer from './notebookPlayer';\r\nimport NotebookGroup from './notebookGroup';\r\nimport GroupSchedule from './groupSchedule';\r\nimport NotebookTutorial from './notebookTutorial';\r\n\r\n\r\ninterface NoteBookProps {\r\n    notebookPages: Record<string, any>[];\r\n    singleColumn?: boolean;\r\n    pageIndex?: number;\r\n\r\n}\r\n\r\nconst Notebook: React.FC<NoteBookProps> = ({ notebookPages, singleColumn, pageIndex }) => {\r\n    const uiManager = useUiManager();\r\n    const [notebookIndex, setNotebookIndex] = React.useState(pageIndex || 0);\r\n\r\n\r\n    const closeNotebook = () => {\r\n        uiManager.closeNotebook();\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setNotebookIndex(pageIndex || 0);\r\n    }, [pageIndex]);\r\n\r\n    const currentNotebookPage = notebookPages[notebookIndex];\r\n\r\n    const removePlayerButton = () => {\r\n        setNotebookIndex(0);\r\n        uiManager.removePlayer(currentNotebookPage.content.player);\r\n    }\r\n\r\n    const getNotebookHeaderContent = () => {\r\n\r\n        if (!currentNotebookPage) {\r\n            return (\r\n                <div className={`notebook-header `} />\r\n            )\r\n        }\r\n\r\n        if (currentNotebookPage.category === NOTEBOOK_CATEGORY.ENCOUNTER || currentNotebookPage.category === NOTEBOOK_CATEGORY.LOCATION) {\r\n            return (\r\n                <div className={`notebook-header ${currentNotebookPage.category} `}>\r\n                    <button className=\"pill-button\" onClick={closeNotebook}>X</button>\r\n                    <div className=\"notebook-header-title\">{currentNotebookPage.category.toUpperCase()}</div>\r\n                    {/* <div className=\"title-bar\">\r\n                        <div className=\"title-text\">\r\n                            {currentNotebookPage.title}\r\n                        </div>\r\n                        <div className=\"features-text\">\r\n                            FEATURES\r\n                        </div>\r\n                    </div> */}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (currentNotebookPage.category === NOTEBOOK_CATEGORY.PLAYER) {\r\n            return (\r\n                <div className={`notebook-header player `}>\r\n                    {singleColumn ? (\r\n                        <button className=\"pill-button remove\" onClick={removePlayerButton}>REMOVE\r\n\r\n                        </button>\r\n                    ) : (\r\n                        <button className=\"pill-button\" onClick={closeNotebook}>X</button>\r\n                    )}\r\n                    <div className=\"notebook-header-title\">{currentNotebookPage.category.toUpperCase()}</div>\r\n                    {/* <div className={`notebook-header-container`}>\r\n                        <div className=\"title-text\">\r\n                            {currentNotebookPage.title}\r\n                        </div>\r\n                        <div className=\"player-preferences-container\">\r\n                            <div className=\"title-text player-preferences likes small\">\r\n                                Likes\r\n                            </div>\r\n                            <div className=\"title-text player-preferences hates small\">\r\n                                Hates\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (currentNotebookPage.category === NOTEBOOK_CATEGORY.CHARACTER) {\r\n            return (\r\n                <div className={`notebook-header character `}>\r\n\r\n                    <button className=\"pill-button\" onClick={closeNotebook}>X</button>\r\n                    <div className=\"notebook-header-title\">{currentNotebookPage.category.toUpperCase()}</div>\r\n                    <div className={`notebook-header-container`}>\r\n                        {/* <div className=\"title-text\">\r\n                            {currentNotebookPage.title}\r\n                        </div> */}\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        if (currentNotebookPage.category === NOTEBOOK_CATEGORY.GROUP || currentNotebookPage.category === NOTEBOOK_CATEGORY.CHARACTER) {\r\n            return (\r\n                <div className={`notebook-header player ${currentNotebookPage.category}  `}>\r\n\r\n                    <div className=\"notebook-header-title\">{currentNotebookPage.category.toUpperCase()}</div>\r\n                    <div className={`notebook-header-container`}>\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n\r\n        return (\r\n            <div className={`notebook-header  ${currentNotebookPage.category} `}>\r\n\r\n                <button className=\"pill-button\" onClick={closeNotebook}>X</button>\r\n                <div className=\"title-bar\">\r\n                    <div className=\"title-text\">\r\n                        {currentNotebookPage.title}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    // reach out to todd\r\n\r\n    const notebookTabs = notebookPages.map((page, index) => {\r\n\r\n        return (\r\n            <div className={`notebook-tab ${page.category} ${index === notebookIndex ? 'current' : ''}`} key={index} onClick={() => setNotebookIndex(index)}>\r\n                <div className=\"notebook-tab-title\">\r\n                    {page.title}\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    const getNotebookContent = () => {\r\n\r\n        if (!currentNotebookPage) {\r\n            return (\r\n                <div className=\"notebook-body\" />\r\n            )\r\n        }\r\n\r\n\r\n        switch (currentNotebookPage.category) {\r\n            case NOTEBOOK_CATEGORY.ENCOUNTER:\r\n                return (\r\n                    <NotebookEncounter\r\n                        encounterInfo={currentNotebookPage.content}\r\n                    />\r\n                )\r\n\r\n            case NOTEBOOK_CATEGORY.CHARACTER:\r\n                return (\r\n                    <NotebookCharacter\r\n                        characterInfo={currentNotebookPage.content}\r\n                    />\r\n                )\r\n\r\n\r\n            case NOTEBOOK_CATEGORY.LOCATION:\r\n                return (\r\n                    <NotebookLocation\r\n                        locationInfo={currentNotebookPage.content}\r\n                    />\r\n                )\r\n\r\n            case NOTEBOOK_CATEGORY.PLAYER:\r\n                return (\r\n                    <NotebookPlayer\r\n                        playerInfo={currentNotebookPage.content}\r\n                        singleColumn={singleColumn}\r\n                        clickChar={(idx: number) => {\r\n                            setNotebookIndex(idx+1)\r\n                         }}\r\n                    />\r\n                )\r\n\r\n            case NOTEBOOK_CATEGORY.MESSAGE:\r\n                return (\r\n                    <div className=\"notebook-category-message\">\r\n                        <div className=\"notebook-message-text\">\r\n                            {currentNotebookPage.content.message}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            case NOTEBOOK_CATEGORY.TOC:\r\n                return (\r\n                    // <NotebookTOC\r\n                    //     playerInfo = {currentNotebookPage.content}\r\n                    // />\r\n                    <div />\r\n                )\r\n            case NOTEBOOK_CATEGORY.GROUP:\r\n                return (\r\n                    <NotebookGroup\r\n                        groupInfo={currentNotebookPage.content}\r\n                    />\r\n                )\r\n            case NOTEBOOK_CATEGORY.TUTORIAL:\r\n                return (\r\n                    <NotebookTutorial\r\n                        tutorialInfo={currentNotebookPage.content}\r\n                    />\r\n                )\r\n        }\r\n    }\r\n\r\n    if (!currentNotebookPage) {\r\n        return (\r\n            <div className=\"notebook-modal\" />\r\n        );\r\n    }\r\n    return (\r\n\r\n        <div className={`notebook-modal ${singleColumn ? 'single-column' : ''} ${currentNotebookPage.category === NOTEBOOK_CATEGORY.TUTORIAL ? 'tutorial' : ''}` }\r\n        >\r\n            {/* <div className=\"notebook-content o1\">\r\n                <div className=\"notebook-header\" />\r\n            </div>\r\n            <div className=\"notebook-content o2\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"notebook-tabs\">\r\n                    {notebookTabs}\r\n                </div>\r\n                <div className=\"notebook-header\" />\r\n            </div>\r\n            <div className=\"notebook-content o3\">\r\n          \r\n                <div className=\"notebook-header\" />\r\n            </div> */}\r\n        {currentNotebookPage.category === NOTEBOOK_CATEGORY.TUTORIAL ? (\r\n            <NotebookTutorial\r\n            tutorialInfo={currentNotebookPage.content}\r\n            />\r\n            ) : (\r\n            <div className=\"notebook-container\">\r\n                 <div className=\"notebook-tabs\">\r\n                        {notebookTabs}\r\n                    </div>\r\n                <div className={`notebook-content ${currentNotebookPage.category}`} onClick={(e) => e.stopPropagation()}>\r\n                     \r\n                        {getNotebookHeaderContent()}\r\n                    <div className=\"notebook-body\">\r\n                        {getNotebookContent()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )}\r\n\r\n            {singleColumn && (\r\n                <div className=\"group-schedule-holder\">\r\n                    <GroupSchedule />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notebook;","import React from 'react';\nimport { NAV_ENTRY } from '../../models';\nimport { useAppManager } from '../managerContexts';\nimport { APP_STATE } from '../../consts/states';\n\ninterface NavBarProps {\n   buttonList: string[];\n   highlight?: string;\n}\n\nconst NavBar: React.FC<NavBarProps> = ({buttonList, highlight}) => {\n    const appManager = useAppManager();\n\n    const navClicked = (navEntry: string) => {\n        switch (navEntry) {\n          case NAV_ENTRY.PLAYER_RECRUITMENT:\n            \n            appManager.state = APP_STATE.PLAYER_RECRUITMENT;\n            break;\n          case NAV_ENTRY.CHARACTER_ASSIGNMENT:\n            appManager.state = APP_STATE.CHARACTER_CREATION;\n            break;\n          case NAV_ENTRY.CAMPAIGN:\n            appManager.state = APP_STATE.CAMPAIGN_SETUP;\n            break;\n          default:\n            console.log('No entry');\n        }\n      }\n\n\n\n    const renderButton = (buttonName: string) => {\n\n      let highlightClass = buttonName === highlight ? 'highlight' : '';\n        switch (buttonName) {\n          case NAV_ENTRY.PLAYER_RECRUITMENT:\n            return <button className={`nav-button player ${highlightClass}`} key={buttonName} onClick={() => navClicked(buttonName)} >Player Recruitment</button>;\n          case NAV_ENTRY.CHARACTER_ASSIGNMENT:\n            return <button className={`nav-button character ${highlightClass}`} key={buttonName}onClick={() => navClicked(buttonName)}>Character Assignment</button>;\n          case NAV_ENTRY.CAMPAIGN:\n            return <button className={`nav-button campaign ${highlightClass}`} key={buttonName}onClick={() => navClicked(buttonName)}>Campaign Select</button>;\n          default:\n            return null;\n        }\n      };\n    \n      return (\n        <div className=\"nav-bar-container\">\n          {buttonList.map(buttonName => renderButton(buttonName))}\n        </div>\n      );\n};\n\nexport default NavBar;\n","import React, { useEffect, useState } from 'react';\nimport './playerRecruitment.scss';\nimport AppManager from '../managers/appManager';\nimport PlayerManager from '../managers/playerManager';\nimport { NAV_ENTRY, NOTEBOOK_CATEGORY, NotebookState, Player } from '../models';\nimport PlayerCard from './playerCard';\nimport Schedule from './schedule';\n\nimport { useUiManager } from './managerContexts';\nimport NotebookGroup from './UI/notebookGroup';\nimport Notebook from './UI/notebook';\nimport NavBar from './UI/navBar';\n\ninterface PlayerRecruitmentProps {\n  appManager: AppManager; \n  playerManager: PlayerManager;\n}\n\n\nconst PlayerRecruitmentComponent: React.FC<PlayerRecruitmentProps> = ({appManager, playerManager}) => {\n  const [selectedPlayers, setSelectedPlayers] = useState<number[]>(playerManager.getSelectedPlayerIds());\n  const [groupNotebookContent, setGroupNotebookContent] = useState<NotebookState[]>([]);\n  const recruitablePlayers : Player[] = playerManager?.getRecruitablePlayers() || [];\n  const uiManager = useUiManager();\n\n  const toggleSelectPlayer = (playerId: number) => {\n    setSelectedPlayers((prevSelectedPlayers) => {\n      const newSelectedPlayers = Array.from(prevSelectedPlayers);\n\n      const index = newSelectedPlayers.indexOf(playerId);\n      if (index > -1) {\n        newSelectedPlayers.splice(index, 1);\n      } else {\n        newSelectedPlayers.push(playerId);\n      }\n      playerManager.setSelectedPlayers(newSelectedPlayers);\n\n      return newSelectedPlayers;\n    });\n    \n    const playerToShow = playerManager.getRecruitablePlayers()[playerId];\n  };\n\n  const numberOfSelectedPlayers = selectedPlayers.length;\n  const dayData = playerManager.aggregateSchedule();\n\n useEffect(() => {\n  const makeGroupNotebookContent = (players: number[]) => {\n\n    let content;\n    let notebookTitle ='';\n\n    \n    let secondaryEntries: { category: string; content: { player: Player; }; title: string; }[] = []\n    content = {players: players.map((player) => playerManager.getRecruitablePlayers()[player])};\n    notebookTitle = \"Group Info\";\n    content.players.forEach((player) => {\n      secondaryEntries.push({\n        category: NOTEBOOK_CATEGORY.PLAYER,\n        content: {player: player},\n        title: player.name.split(' ').map((n) => n[0]).join('')\n      })\n    });\n\n    const notebookState: NotebookState = {\n      category: NOTEBOOK_CATEGORY.GROUP,\n      content: content,\n      title: notebookTitle,\n    } \n\n    return [notebookState, ...secondaryEntries];\n  // return [notebookState];\n  }\n  // set selected players when the component mounts\n  playerManager.setSelectedPlayers(selectedPlayers);\n    setGroupNotebookContent(makeGroupNotebookContent(selectedPlayers));\n  }, [playerManager, selectedPlayers]);\n\n\n  useEffect(() => {\n    \n    const handleRemovePlayer = (player: Player) => {\n      setSelectedPlayers((prevSelectedPlayers) => {\n        const newSelectedPlayers = Array.from(prevSelectedPlayers);\n        const index = newSelectedPlayers.indexOf(player.id);\n        if (index > -1) {\n          newSelectedPlayers.splice(index, 1);\n        }\n        playerManager.setSelectedPlayers(newSelectedPlayers);\n        return newSelectedPlayers;\n    });\n  }\n\n    uiManager.on('removePlayer', handleRemovePlayer)\n    return () => {\n     uiManager.off('removePlayer', handleRemovePlayer);\n    } \n  \n  }, []);\n\n\n\n  return (\n\n    <div className=\"player-recruitment-mode\">\n      <div className=\"player-status-container\">\n        <div className=\"player-recruitment-left-container\">\n          <Notebook\n              notebookPages={groupNotebookContent}\n              singleColumn\n            />\n      \n        </div>\n        <NavBar buttonList={[NAV_ENTRY.CAMPAIGN, NAV_ENTRY.CHARACTER_ASSIGNMENT]} highlight={NAV_ENTRY.CHARACTER_ASSIGNMENT}/>\n      </div>\n      <div className=\"player-grid-container\">\n        <div className=\"player-recruitment-status\">\n          {numberOfSelectedPlayers === 0 ? 'Select players to recruit' : 'Click \"Accept Group\" to continue'}\n        </div>\n        <div className=\"player-grid\">\n          {recruitablePlayers.map((player) => (\n            <PlayerCard\n              key={player.id}\n              player={player}\n              isSelected={selectedPlayers.includes(player.id)}\n              onSelect={() => toggleSelectPlayer(player.id)}\n              showSchedule={true}\n              showPreferences={true}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PlayerRecruitmentComponent;\n","import React, { useEffect, useState } from 'react';\nimport './characterCreation.scss';\nimport PlayerCard from './playerCard'; // Adjust the import path as needed\nimport CharacterCard from './characterCard'; // Adjust the import path as needed\nimport { useAppManager, useCharacterManager, usePlayerManager } from './managerContexts';\nimport { Character, NAV_ENTRY, Player } from '../models';\nimport { APP_STATE } from '../consts/states';\nimport NavBar from './UI/navBar';\n\ninterface CharacterCreationProps { \n\n}\n\nconst CharacterCreation: React.FC<CharacterCreationProps> = ({}) => {\n\n  const playerManager = usePlayerManager()\n  const characterManager = useCharacterManager();\n  const appManager = useAppManager();\n\n  const [selectedPlayer, setSelectedPlayer] = useState<Player | null>(null);\n  const [players, setPlayers] = useState<Player[]>(playerManager.getPlayers());\n  const [characters, setCharacters] = useState<Character[]>(characterManager.getCharacterReferences());\n const [update, setUpdate] = useState(false);\n\n  const assignOrUnassignCharacter = (character: Character) => {\n    if(isAssignedToOtherPlayer(character)) {\n      return;\n    }\n\n    if (selectedPlayer) {\n      if (selectedPlayer.characters.includes(character)) {\n        // Unassign character\n        playerManager.removeCharacterFromPlayer(selectedPlayer, character);\n      } else if (selectedPlayer.characters.length < 4) {\n        // Assign character\n        playerManager.assignCharactersToPlayer(selectedPlayer, [character]);\n      }\n      setPlayers([...playerManager.getPlayers()]); // Update state to reflect changes\n    }\n  };\n\n\n  // Select first player on mount: \n  useEffect(() => {\n    if (!selectedPlayer && players.length) {\n      setSelectedPlayer(players[0]);\n    }\n  }, [players]);\n\n\n  const handlePlayerSelect = (player: Player) => {\n    setSelectedPlayer(player);\n  };\n\n\n  const forceRender = () => {\n    setUpdate(!update);\n  }\n  const isAssignedToOtherPlayer = (character: Character) => {\n    return players.some(player => player.id !== selectedPlayer?.id && player.characters.includes(character));\n  };\n\nreturn (\n    <div className=\"character-creation-container\">\n      <div className=\"character-creation-left-container\">\n      <NavBar buttonList={[NAV_ENTRY.PLAYER_RECRUITMENT, NAV_ENTRY.CAMPAIGN] } highlight={NAV_ENTRY.CAMPAIGN} />\n      <div className=\"player-list-container\">\n     \n\n        <div className=\"player-list\">\n          {players.map((player) => (\n            <PlayerCard \n              key={player.id}\n              player={player}\n              isSelected={selectedPlayer?.id === player.id}\n              onSelect={() => handlePlayerSelect(player)}\n              showSchedule={false}\n              showCharacters={true}\n              parentUpdate={forceRender}\n            >\n            </PlayerCard>\n          ))}\n        </div>\n      </div>\n    </div>\n      <div className=\"character-creation-right-container\">\n        <div className=\"character-grid\">\n          {characters.map((character) => (\n            <CharacterCard\n              key={character.id}\n              character={character}\n              isSelected={selectedPlayer?.characters.includes(character) ?? false}\n              onSelect={() => assignOrUnassignCharacter(character)}\n              showAbilities={true}\n              isAssigned={selectedPlayer?.characters.includes(character)}\n              isAssignedToOther={isAssignedToOtherPlayer(character)}\n\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CharacterCreation;\n","\nimport React from 'react';\nimport './encounter-display.css';\nimport { Encounter, NOTEBOOK_CATEGORY } from '../models';\nimport { useUiManager } from './managerContexts';\nimport CImage from './UI/cimage';\n\ninterface EncounterDisplayProps {\n    encounter:Encounter;\n}\n\nconst EncounterDisplay: React.FC<EncounterDisplayProps> = ({ encounter }) => {\n    const uiManager = useUiManager()\n    const handleClicked = () => {\n    uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.ENCOUNTER, encounter)\n}\n\n    return (\n        <div className={`encounter-display ${encounter.location.themes[0]}`} onClick={handleClicked}>\n           <div className=\"encounter-name\">\n                {encounter.name}\n            </div> \n            <div className = \"encounter-event-icons\">\n                {encounter.events.map((event, index) => (\n                    <div key={index} className=\"encounter-event-icon\">\n                        <CImage imageId={uiManager.getEventIcon(event.type)} />\n                    </div>\n                ))}\n            </div>\n            {/* <MoreInfo\n                callback={handleClickedMoreInfo}\n            /> */}\n        </div>\n    );\n};\n\nexport default EncounterDisplay;","import React from 'react';\nimport './campaign-display-body.css';\nimport EncounterDisplay from './encounter-display';\nimport { Encounter } from '../models';\n\ninterface CampaignDisplayBodyProps {\n    processedEncounters: Encounter[][];\n}\n\nconst CampaignDisplayBody: React.FC<CampaignDisplayBodyProps> = ({ processedEncounters }) => {\n    \n    if(!processedEncounters){\n        return <div>No encounters!</div>\n    }\n    return (\n        <div className=\"campaign-display-body\">\n            {processedEncounters.map((encounterRow, rowIndex) => (\n                <div key={rowIndex} className=\"encounter-row\">\n                    {encounterRow.map((encounter, encounterIndex) => (\n                       <EncounterDisplay \n                        key={encounterIndex}\n                        encounter={encounter} />\n                    ))}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default CampaignDisplayBody;\n\n\n","import React from 'react';\nimport './campaign-display-body.css';\nimport { Campaign } from '../models';\nimport Cimage from './UI/cimage';\n\ninterface CampaignDisplayHeaderProps {\n    campaign: Campaign;\n}\n\nconst CampaignDisplayBody: React.FC<CampaignDisplayHeaderProps> = ({ campaign }) => {\n    \n    return (\n        <div className='campaign-display-header'>\n        <div className=\"campaign-icon\">\n          <Cimage imageId={campaign.icon} />\n        </div>\n        <div className=\"campaign-info\">\n          <div className=\"campaign-name\"><strong>{campaign.name}</strong></div>\n          <div className=\"campaign-description\">{campaign.description}</div>\n        </div>\n        <div className=\"campaign-extra\">\n          <div>{campaign.nbCharacters[0]} - {campaign.nbCharacters[1]} characters</div>\n          <div>{campaign.nbSessions[0]} - {campaign.nbSessions[1]} sessions</div>\n        </div>\n      </div>\n    );\n};\n\nexport default CampaignDisplayBody;","import React from 'react';\nimport { Campaign } from '../models';\nimport './campaignDisplay.scss';\nimport CampaignDisplayBody from './campaign-display-body';\nimport CampaignDisplayHeader from './campaign-display-header';\nimport Cimage from './UI/cimage';\n\n\n\ninterface CampaignDisplayProps {\n  campaign: Campaign;\n  onSelect?: () => void;\n  collapsed?: boolean;\n  iconOnly?: boolean;\n  onAccept?: () => void; \n  onCancel?: () => void;\n  acceptText?: string;\n}\n\nconst CampaignDisplay: React.FC<CampaignDisplayProps> = ({ campaign, onSelect, collapsed, iconOnly, onAccept, onCancel, acceptText = 'ACCEPT' }) => {\n\n  \n  return (\n    <>\n      {iconOnly ? (\n        <div className={`campaign-display ${campaign.theme || ''} icon-only`} onClick={onSelect}>\n          <div className=\"campaign-name\">{campaign.name}</div>\n          <div className=\"campaign-icon solo\">\n            <Cimage imageId={campaign.icon} />\n          </div>\n        </div>\n      ) : collapsed ? (\n        <div className={`campaign-display ${campaign.theme || ''} collapsed pill-shaped`} onClick={onSelect}>\n          <CampaignDisplayHeader campaign={campaign} />\n        </div>\n      ) : (\n        <div className={`campaign-display ${campaign.theme || ''} full`}>\n          <CampaignDisplayHeader campaign={campaign} />\n          <CampaignDisplayBody processedEncounters={campaign.processedEncounters} />\n          <div className='campaign-display-footer'>\n            <div className=\"ui-actions\">\n              <button className={`campaign-button cancel ${onCancel ? '' : ' hidden' }`} onClick={onCancel}>Cancel</button>\n              <button className=\"campaign-button accept\" onClick={onAccept}>{acceptText}</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n};\n\nexport default CampaignDisplay;","import React, { useEffect, useState } from 'react';\nimport './campaignSetup.scss';\nimport { APP_STATE } from '../consts/states';\nimport { Player, Campaign, NAV_ENTRY } from '../models';\nimport { usePlayerManager, useAppManager, useCampaignManager } from './managerContexts';\nimport PlayerCard from './playerCard';\nimport CampaignDisplay from './campaignDisplay';\nimport NavBar from './UI/navBar';\n\ninterface CampaignSetupProps {\n  openCampaign?: number;\n}\n\nconst CampaignSetupComponent: React.FC<CampaignSetupProps> = ({openCampaign}) => {\n\n  const playerManager = usePlayerManager()\n  const appManager = useAppManager();\n  const campaignManager = useCampaignManager();\n\n\n  const [availableCampaigns] = useState<Campaign[]>(campaignManager.getAvailableCampaigns());\n  const [selectedCampaign, setSelectedCampaign] = useState<number | undefined>(openCampaign);\n\n  const [players] = useState<Player[]>(playerManager.getPlayers());\n\nconst unsetSelectedCampaign = () => {\n  setSelectedCampaign(undefined);\n}\n\nconst setMySelectedCampaign = (index: number) => {\n  \n  setSelectedCampaign(index);\n}\n\n  const handleAcceptCampaign = (campaignId: number) => {\n    campaignManager.startCampaign(campaignId);\n    if(playerManager.readyForGame()){\n      appManager.state = APP_STATE.SESSION;\n    }\n  }\n\n\n  useEffect(() => {\n    \n  }, [selectedCampaign]);\n\n  return (\n    <div className=\"campaign-setup-container\">\n      <div className=\"player-list-container\">\n      <NavBar buttonList={[NAV_ENTRY.PLAYER_RECRUITMENT, NAV_ENTRY.CHARACTER_ASSIGNMENT]} />\n\n        <div className=\"player-list\">\n          {players.map((player) => (\n            <PlayerCard \n              key={player.id}\n              player={player}\n              isSelected={false}\n              onSelect={() => {}}\n              showCharacters={true}\n              showSchedule={false}\n            >\n            </PlayerCard>\n          ))}\n        </div>\n      </div>\n      <div className=\"campaign-display-container\">\n        <div className=\"campaign-list-container\"> \n            <div className=\"campaign-list\">\n              {availableCampaigns.map((campaign, index) => (\n                <CampaignDisplay\n                  key={index} \n                  collapsed={selectedCampaign !== index}\n                  campaign={campaign}\n                  onSelect={() => setMySelectedCampaign(index)}\n                  onAccept={() => handleAcceptCampaign(index)}\n                  onCancel={() => unsetSelectedCampaign()}\n                />\n              ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CampaignSetupComponent;\n","import { ScriptElementKindModifier } from \"typescript\"\r\nimport { PREFERENCE, Tag } from \"../models\"\r\n\r\nexport const TAG: Record<string, Record<string, Tag>> = {\r\n  RACE: {\r\n    HUMANS: { name: \"humans\", preference: PREFERENCE.MAIN, friendly: true},\r\n    ELVES: { name: \"elves\", preference: PREFERENCE.MAIN,  friendly: true},\r\n    DWARVES: { name: \"dwarves\", preference: PREFERENCE.MAIN,  friendly: true },\r\n    ORCS: { name: \"orcs\", preference: PREFERENCE.MAIN,  friendly: true },\r\n    HALFLINGS: { name: \"halflings\", preference: PREFERENCE.MAIN,  friendly: true },\r\n    HALF_ORCS: { name: \"half-orcs\", preference: PREFERENCE.MAIN,  friendly: true },\r\n    HALF_ELVES: { name: \"half-elves\", preference: PREFERENCE.MAIN,  friendly: true },\r\n    HUNTERS: { name: \"hunters\",  friendly: true },\r\n  },\r\n  MONSTERS: {\r\n    GOBLINS: { name: \"goblins\",  enemy: true  },\r\n    GNOMES: { name: \"gnomes\",  enemy: true  },\r\n    DRAGONS: { name: \"dragons\",  enemy: true  },\r\n    UNDEAD: { name: \"undead\" , preference: PREFERENCE.MAIN,  enemy: true },\r\n    BEASTS: { name: \"beasts\" ,  enemy: true },\r\n    CULTISTS: { name: \"cultists\",  enemy: true},\r\n    BANDITS: { name: \"bandits\",  enemy: true },\r\n    MONSTERS: { name: \"monsters\",  enemy: true },\r\n  },\r\n\r\n  // Game attributes\r\n  GAME: {\r\n    EXPOSITION: { name: \"exposition\" },\r\n    FIGHTING: { name: \"fighting\" , preference: PREFERENCE.MAIN},\r\n    PUZZLES: { name: \"puzzles\" , preference: PREFERENCE.MAIN},\r\n    SOCIALIZING: { name: \"socializing\" },\r\n    STRATEGY: { name: \"strategy\" },\r\n    TOWN: { name: \"town\", preference: PREFERENCE.START },\r\n    EXPLORATION: { name: \"exploration\" },\r\n    TREASURE_HUNTING: { name: \"treasure hunting\" },\r\n    POLITICS: { name: \"politics\" },\r\n    SCARY: { name: \"scary\" },\r\n    MAGIC: { name: \"magic\", preference: PREFERENCE.START },\r\n    TOOLS: { name: \"tools\" },\r\n    TECHNOLOGY: { name: \"technology\" },\r\n    RELIGION: { name: \"religion\" },\r\n    ECONOMICS: { name: \"economics\" },\r\n    CRAFTING: { name: \"crafting\" },\r\n    TRADING: { name: \"trading\" },\r\n    FARMING: { name: \"farming\" },\r\n    TRAVEL: { name: \"travel\", preference: PREFERENCE.START },\r\n    BORING_THINGS: { name: \"boring things\" },\r\n    GOSSIP: { name: \"gossip\" },\r\n    HEALING: { name: \"healing\" },\r\n   // LEVEL_UP: { name: \"level up\" },\r\n    CURSE: { name: \"curse\" },\r\n    ARCHERY: { name: \"archery\" },\r\n    EVIL : { name: \"evil\"},\r\n    MACHINES: { name: \"machines\" },\r\n    TRAPS: { name: \"traps\" },\r\n    MYSTERY: { name: \"mystery\"},\r\n  },\r\n  TREASURE: { // TODO: assign some of these to Characters 'likes' (and maybe a monster or two to LIKE or HATE fighting? NPC races?)\r\n    TREASURE: {name: \"treasure\"},\r\n    WEAPONS: { name: \"weapons\"},\r\n    ARMOR: {name: \"armor\"},\r\n    KNOWLEDGE: {name: \"knowledge\"},\r\n    SPELLS: {name: \"spells\"},\r\n    GLORY: {name: \"glory\"},\r\n    GOLD: {name: \"gold\"},\r\n  },\r\n  LOCATION: {\r\n    DUNGEON: { name: \"dungeons\"},\r\n    CITIES: { name: \"cities\" },\r\n    WILDERNESS: { name: \"the wilderness\"},\r\n    UNDERGROUND: { name: \"underground\" , preference: PREFERENCE.START},\r\n    MOUNTAINS: { name: \"mountains\" },\r\n    FORESTS: { name: \"forests\" , preference: PREFERENCE.START},\r\n    DESERTS: { name: \"deserts\"},\r\n    SWAMPS: { name: \"swamps\" },\r\n    OCEANS: { name: \"oceans\" },\r\n    ISLANDS: { name: \"islands\" },\r\n    VILLAGES: { name: \"villages\" },\r\n    RUINS: { name: \"ruins\" , preference: PREFERENCE.START},\r\n    CASTLES: { name: \"castles\", preference: PREFERENCE.START },\r\n    CAVE: { name: \"caves\",preference: PREFERENCE.START },\r\n    PLAINS: { name: \"plains\" },\r\n    TAVERNS: { name: \"taverns\" },\r\n   \r\n    \r\n    BEACHES: { name: \"beaches\"},\r\n    BRIDGES: { name: \"bridges\"},\r\n    BUILDINGS: { name: \"buildings\"},\r\n    CAMP: { name: \"camp\"},\r\n    TOWER: { name: \"tower\"},\r\n    CABIN: { name: \"cabin\"},\r\n  },\r\n  TRAVEL: {\r\n    SHIPS: { name: \"ships\"},\r\n    ROADS: { name: \"roads\"},\r\n    HORSES: { name: \"horses\"},\r\n  },\r\n  PROPS: {\r\n    FURNITURE: { name: \"furniture\", attributeDefault: \"furniture\"},\r\n    BARRELS: { name: \"barrels\", attributeDefault: \"furniture\" },\r\n    BOOKS: { name: \"books\", attributeDefault: \"furniture\" },\r\n    CANDLES: { name: \"candles\", attributeDefault: \"furniture\" },\r\n    FOOD: { name: \"food\", attributeDefault: \"food\" },\r\n    DRINKS: { name: \"drinks\", attributeDefault: \"food\" },\r\n    BEER: { name: \"beer\", attributeDefault: \"food\" },\r\n    WINE: { name: \"wine\", attributeDefault: \"food\" },\r\n    BELL: { name: \"bell\", attributeDefault: \"furniture\" }, \r\n    COULDRON: { name: \"couldron\", attributeDefault: \"furniture\" },\r\n    ROPE: { name: \"rope\", attributeDefault: \"furniture\" },\r\n    STATUES: { name: \"statues\"},\r\n    RUNES: { name: \"runes\"},\r\n  },\r\n \r\n  EVENTS: {\r\n    FESTIVALS: { name: \"festivals\" },\r\n    BATTLES: { name: \"battles\" },\r\n    TOURNAMENTS: { name: \"tournaments\" },\r\n    QUESTS: { name: \"quests\" , preference: PREFERENCE.START},\r\n    MYSTERIES: { name: \"mysteries\" },\r\n    DISASTERS: { name: \"disasters\" },\r\n    CELEBRATIONS: { name: \"celebrations\" },\r\n    RITUALS: { name: \"rituals\" },\r\n    NOBILITY: { name: \"nobility\" },\r\n  },\r\n  ELEMENTS: {\r\n    FIRE: { name: \"fire\"},\r\n    DARKNESS: { name: \"darkness\"},\r\n    WATER: { name: \"water\"},\r\n    FOLIAGE: { name: \"foliage\"},\r\n    FOG: { name: \"fog\"},\r\n    SMOKE: { name: \"smoke\"}, \r\n  },\r\n  SCENERY: {\r\n    TREES: { name: \"trees\"},\r\n    MOUNTAINS: { name: \"mountains\"},\r\n    RIVERS: { name: \"rivers\"},\r\n    LAKES: { name: \"lakes\"},\r\n    CAVES: { name: \"caves\"},\r\n    BOULDERS: { name: \"boulders\"}, \r\n  },\r\n  ANIMALS: {\r\n    CHICKENS: { name: \"chickens\"},\r\n    COWS: { name: \"cows\"},\r\n    DEER: { name: \"deer\"},\r\n    BEARS: { name: \"bears\"},\r\n  },\r\n  SOUNDS: {\r\n    CLICKING: { name: \"clicking\"},\r\n  }\r\n\r\n}","export const THEME = {\n    TOWN: \"town\",\n    TAVERN: \"tavern\",\n    BUILDING: \"building\",\n    DUNGEON: \"dungeon\",\n    WATER: \"water\",\n    FOREST: \"forest\",\n    MOUNTAIN: \"mountain\",\n    HEROIC: \"heroic\",\n    DARK: \"dark\",\n    EPIC: \"epic\",\n    ADVENTURE: \"adventure\",\n    MYSTERY: \"mystery\",\n    CAVE: \"cave\",\n    FIELD: \"field\",\n    CASTLE: \"castle\",\n    PLAINS: \"plains\",\n    PARK: \"park\",\n    VILLAGE: \"village\",\n    RUINS: \"ruins\",\n}","import { EncounterEvent } from \"../../models\";\nimport { ENCOUNTER_EVENT_TYPE } from \"../general\";\n\nexport const GENERIC_ENCOUNTER_EVENTS: Record<string, EncounterEvent> = {\n    COMBAT: {\n        name: 'Combat',\n        type: ENCOUNTER_EVENT_TYPE.COMBAT\n    },\n    ROLEPLAY: {\n        name: 'Roleplay',\n        type: ENCOUNTER_EVENT_TYPE.ROLEPLAY\n    },\n    EXPLORATION: {\n        name: 'Exploration',\n        type: ENCOUNTER_EVENT_TYPE.EXPLORATION\n    },\n    PUZZLE: {\n        name: 'Puzzle',\n        type: ENCOUNTER_EVENT_TYPE.PUZZLE\n    },\n    PERCEPTION: {\n        name: 'Perception Check',\n        type: ENCOUNTER_EVENT_TYPE.PERCEPTION\n    },\n    TOWN: {\n        name: 'Town',\n        type: ENCOUNTER_EVENT_TYPE.TOWN\n    },\n    TRAVEL: {\n        name: 'Travel',\n        type: ENCOUNTER_EVENT_TYPE.TRAVEL\n    },\n    CHALLENGE: {\n        name: 'Challenge',\n        type: ENCOUNTER_EVENT_TYPE.CHALLENGE\n    },\n    TRAP: {\n        name: 'Trap',\n        type: ENCOUNTER_EVENT_TYPE.TRAP\n    },\n    CHARACTER_BACKSTORY: {\n        name: 'Character Backstory',\n        type: ENCOUNTER_EVENT_TYPE.CHARACTER_BACKSTORY\n    },\n    STORY: {\n        name: 'Story',\n        type: ENCOUNTER_EVENT_TYPE.STORY\n    }  ,\n    EXPOSITION: {\n        name: 'Exposition',\n        type: ENCOUNTER_EVENT_TYPE.EXPOSITION\n    }  \n}","import { Building, BUILDING_EFFECT_TYPE, BUILDING_TYPE, Campaign, CHAT_TYPE, Encounter, Location, Tag } from \"../../models\";\r\nimport { BUILDINGS } from \"../buildings\";\r\nimport { ENCOUNTER_EVENT_TYPE } from \"../general\";\r\nimport { TAG } from \"../tags\";\r\nimport { THEME } from \"../themes\";\r\nimport { GENERIC_ENCOUNTER_EVENTS } from \"./generticEncounterEvents\";\r\n\r\nconst CAMPAIGN_TAG: Record<string, Tag> = {\r\n    BREWER_KEVIN: {\r\n        name: 'Kevin the Brewer',\r\n    },\r\n    KIDNAPPING: {\r\n        name: 'Kidnapping',\r\n    },\r\n    OLD_LAKE: {\r\n        name: 'Old Lake',\r\n    },\r\n    // GOBLIN_SHAMAN:\r\n    // {\r\n    //     name: 'Goblin Shaman',\r\n    // },\r\n    CULT_LEADER: {\r\n        name: 'Cult Leader',\r\n    }\r\n}\r\n\r\nexport const CAMPAIGN_BUILDINGS: Record<string,Building> = {\r\n    \"TEMPLE\": {\r\n        name: \"Sagewood Temple\",\r\n        type: BUILDING_TYPE.TEMPLE,\r\n        description: \"Heal wounds, or resurrect fallen heroes.\",\r\n        tags: [CAMPAIGN_TAG.CULT_LEADER, TAG.GAME.RELIGION],\r\n        nbTags: 1,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.HEAL, value: 99}, {type: BUILDING_EFFECT_TYPE.RESURRECT, value: 1}]\r\n    },\r\n    \"SHOP\": {\r\n        name: \"Ricky's Shop\",\r\n        type: BUILDING_TYPE.SHOP,\r\n        description: \"Magic items, goods, and an attitude...\",\r\n        tags: [TAG.TREASURE.ARMOR, TAG.TREASURE.WEAPONS],\r\n        allowMagicItems: true,\r\n        nbTags:3,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_TOOLS, value: 1}, {type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: 5}]\r\n    },\r\n    \"MARKETPLACE\": {\r\n        name: \"Marketplace\",\r\n        type: BUILDING_TYPE.SHOP,\r\n        description: \"Replenish tools and talk with townsfolk.\",\r\n        tags: [TAG.GAME.TOOLS],\r\n        addFriendlyTags: true,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_TOOLS, value: 99}]\r\n       // allowMagicItems: true,\r\n       \r\n    },\r\n    \"TAVERN\": {\r\n        name: \"Tavern\",\r\n        type: BUILDING_TYPE.TAVERN,\r\n        description: \"Gossip, rumors, and conversation.\",\r\n        tags: [TAG.PROPS.DRINKS, TAG.PROPS.BARRELS, TAG.RACE.HUMANS, TAG.RACE.HALFLINGS],\r\n        addFriendlyTags: true,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_ENJOYMENT, value: 1}]\r\n    },\r\n    \r\n    \"GUILD_HALL\": {\r\n        name: \"Adventurer's Guild\",\r\n        type: BUILDING_TYPE.GUILD_HALL,\r\n        description: \"Replenish Magic, Level Up, and find magic items.\",\r\n        tags: [TAG.GAME.LEVEL_UP],\r\n        allowMagicItems: true,\r\n        nbTags: 3,\r\n        addFriendlyTags: true,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_MAGIC, value: 99}]\r\n    },\r\n    \"CONFRONTATION\":{\r\n        name: \"Tense Standoff\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"Hostile strangers walk the streets of Sagewood... \",\r\n        tags: [TAG.MONSTERS.CULTISTS, CAMPAIGN_TAG.CULT_LEADER],\r\n        nbTags: 1,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: 10}]\r\n    },\r\n    \"CONFRONTATION2\":{\r\n        name: \"Slums\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"The heroes stumble into a bad part of town... \",\r\n        tags: [],\r\n        nbTags: 0,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: 10}]\r\n    }\r\n}\r\n\r\nconst LOCATIONS: Record<string, Location> = {\r\n    SAGEWOOD_TAVERN: {\r\n        name: 'Sagewood Tavern',\r\n        description: 'A cozy tavern in the heart of Sagewood. Two halfling barmids serve drinks to a variety of customers. Locals gossip and are usually up for a friendly game of dice or a dance with outsiders. A fire crackles on the hearth.',\r\n        icon: 'cd_l_sagewoodtavern',\r\n        tags: [TAG.PROPS.BARRELS, TAG.ELEMENTS.FIRE, TAG.RACE.HUMANS, TAG.RACE.HALFLINGS, TAG.PROPS.DRINKS],\r\n        themes: [THEME.TOWN, THEME.TAVERN],\r\n    },\r\n    UNDER_THE_WELL: {\r\n        name: 'Under the Well',\r\n        description: 'A huge underground cavern with a deep pool in the center. The opening to the town well looms above.',\r\n        icon: 'cd_l_underthewell',\r\n        tags: [TAG.LOCATION.DUNGEON, TAG.GAME.SCARY],\r\n        themes: [THEME.DUNGEON,THEME.WATER]\r\n    }, \r\n    LAKESIDE_BREWERY: {\r\n        name: 'Lakeside Brewery',\r\n        description: 'A small brewery on the edge of the lake. Something sinister has happened here.',\r\n        icon: 'cd_l_sagewoodbrewery',\r\n        tags: [TAG.PROPS.BEER, TAG.ELEMENTS.WATER, TAG.PROPS.BARRELS],\r\n        themes: [THEME.TOWN]\r\n    },\r\n  \r\n    LAKESIDE: {\r\n        name: 'Lakeside',\r\n        description: 'A forested area along a quiet lake. The water is dark and still.',\r\n        icon: 'cd_l_lakeside',\r\n        tags: [TAG.LOCATION.WILDERNESS, TAG.ELEMENTS.WATER, TAG.ELEMENTS.FOLIAGE],\r\n        themes: [THEME.FOREST]\r\n    },\r\n    LAKESIDE_CLIFFS: {\r\n        name: 'Lakeside Cliffs',\r\n        description: 'A series of cliffs overlooking the lake. Signs of Goblins are about.',\r\n        icon: 'cd_l_lakesidecliffs',\r\n        tags: [TAG.LOCATION.CAVE, TAG.MONSTERS.GOBLINS, TAG.ELEMENTS.WATER, TAG.ELEMENTS.FOLIAGE],\r\n        themes: [THEME.MOUNTAIN, THEME.FOREST]\r\n    },\r\n}\r\n\r\nconst ENCOUNTERS: Record<string, Encounter> = {\r\n    SAGEWOOD: {\r\n        id: 1,\r\n        name: 'Cultist Conspiracy', \r\n        description: 'The party arrives at a tavern on the ouskirts of Sagewood just as the sun sets. They each have their own reasons for being there, but for this evening they all have one thing in common... they are the only strangers in the tavern. Some locals seem friendly, while others gather in small clusters around the smoky common room and glare at the party. The barmaids offer the party drinks and food. The party may overhear gossip about Kevin the Brewer, or notice strange tattoos on some of the locals. They may uncover clues to a mysterious goblin treasure by the old lake, or discover that several townspeople have gone missing recently. The party may take part in a dance competition with the locals if they like. A group of the locals with odd tattoos will use any excuse to start a fight with the party. ',\r\n        icon: 'cd_e_sagewoodtavern',\r\n        location: LOCATIONS.SAGEWOOD_TAVERN,\r\n        tags: [TAG.EVENTS.MYSTERIES, TAG.MONSTERS.CULTISTS, CAMPAIGN_TAG.BREWER_KEVIN, CAMPAIGN_TAG.KIDNAPPING],\r\n        branches: [],\r\n        events: \r\n            [{\r\n                name: 'Gossip and Rumors',\r\n                type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n                flavorText: 'The party chats with locals in the tavern. They may hear interesting rumors.',\r\n            },\r\n            \r\n             {\r\n                name: 'Dance Competition',\r\n                type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n                flavorText: 'The party is challenged to a danceoff. Maybe they\\'ll notice something strange about the locals...',\r\n                tags: [TAG.RACE.HALFLINGS, TAG.RACE.HUMANS]\r\n             },\r\n             { \r\n                name: 'Tavern Brawl',\r\n                type: ENCOUNTER_EVENT_TYPE.COMBAT,\r\n                flavorText: 'The party is ambushed in the tavern.',\r\n                \r\n            },\r\n           \r\n            GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n            {\r\n                name: 'Sagewood',\r\n                type: ENCOUNTER_EVENT_TYPE.TOWN,\r\n                flavorText: 'Shop, rest, and gather information in the town of Sagewood.',\r\n            }\r\n        ],\r\n        combat: [\r\n            {\r\n                name: 'Bar Brawl',\r\n                description: 'Things get out of hand in the Sagewood Tavern.',\r\n                enemy: TAG.MONSTERS.CULTISTS,\r\n                nbEnemies: 2,\r\n            }\r\n        ],\r\n        challenge: [\r\n            {\r\n                name: 'Dance-off in the Tavern',\r\n                description: 'The party is challenged to a dance-off by some of the locals. The winner gets a free drink.',\r\n            }\r\n        ],\r\n        town: [\r\n            {\r\n                buildings: [CAMPAIGN_BUILDINGS.TAVERN, CAMPAIGN_BUILDINGS.SHOP, CAMPAIGN_BUILDINGS.GUILD_HALL, CAMPAIGN_BUILDINGS.MARKETPLACE, CAMPAIGN_BUILDINGS.TEMPLE, CAMPAIGN_BUILDINGS.CONFRONTATION, CAMPAIGN_BUILDINGS.CONFRONTATION2],\r\n                nbBuildings: [5, 6]\r\n            }\r\n        ]\r\n    },\r\n    UNDER_THE_WELL: {\r\n        id: 2,\r\n        name: 'Fishy Finale!',\r\n        description: 'The heroes stumble into the Cultists Lair. They were set up under the old well in the center of town all along. Their fish-based magic will be put to the test during this long combat-based finale!.',\r\n        icon: 'cd_e_underthewell',\r\n        location: LOCATIONS.UNDER_THE_WELL,\r\n        tags: [TAG.GAME.FIGHTING, TAG.GAME.SCARY, TAG.MONSTERS.CULTISTS, TAG.MONSTERS.MONSTERS],\r\n        branches: [],\r\n        events: []\r\n    },\r\n    BREWERY_FIGHT: {\r\n        id: 3,\r\n        name: 'Brewery Battle',\r\n        description: 'The party investigates a local brewery. The Brewer, Kevin, hasn\\'t been seen in town recently and barrel deliveries to the local tavern have been ...off. The party may be aware of a cult hiding in the brewery, so be sure to adjust the difficulty if the party takes the time to examine thier surroundings to see how best to approach. In any case, the Cult Leaders will attack when they notice the party. While in the brewery, characters may notice a tunnel leading underground towards the old lake and they might even discover signs that indicate some of the kidnapped townspeople had been taken that direction. ',\r\n        icon: 'cd_e_sagewoodbrewery',\r\n        location: LOCATIONS.LAKESIDE_BREWERY,\r\n        tags: [TAG.GAME.FIGHTING, CAMPAIGN_TAG.CULT_LEADER, TAG.PROPS.BEER], \r\n        branches: [],\r\n        events: \r\n        [{\r\n            name: 'Interrogation',\r\n            type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n            flavorText: 'The party corners a scared cultist and demands some information....',\r\n        },\r\n        \r\n         {\r\n            name: 'Drinking Competition',\r\n            type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n            flavorText: 'While we are here...',\r\n            tags: [TAG.PROPS.BEER]\r\n         },\r\n         { \r\n            name: 'Cult, Culter, Cultist',\r\n            type: ENCOUNTER_EVENT_TYPE.COMBAT,\r\n            flavorText: 'The party confronts the Cult Leader and his followers.',\r\n            \r\n        },\r\n        GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n        GENERIC_ENCOUNTER_EVENTS.EXPOSITION\r\n    ],\r\n    combat: [\r\n        {\r\n            name: 'Bar Brawl',\r\n            description: 'Things get out of hand in the Sagewood Tavern.',\r\n            enemy: TAG.MONSTERS.CULTISTS,\r\n            nbEnemies: 2,\r\n        }\r\n    ],\r\n    challenge: [\r\n        {\r\n            name: 'Dance-off in the Tavern',\r\n            description: 'The party is challenged to a dance-off by some of the locals. The winner gets a free drink.',\r\n        }\r\n    ]\r\n    }, \r\n    BREWERY_EXPLORATION: {\r\n        id: 4,\r\n        name: 'Brewery Exploration',\r\n        description: 'The party investigates the Lakeside Brewery and finds evidence of the cults activities.',\r\n        icon: 'cd_e_breweryexploration',\r\n        location: LOCATIONS.LAKESIDE_BREWERY,\r\n        tags: [TAG.GAME.EXPLORATION, TAG.EVENTS.MYSTERIES], \r\n        branches: [],\r\n        events: []\r\n    },\r\n    BY_THE_LAKE: {\r\n        id: 5,\r\n        name: 'By the Lake',\r\n        description: 'The party discovers signs of goblins by the lake.',\r\n        icon: 'cd_e_bythelake',\r\n        location: LOCATIONS.LAKESIDE,\r\n        tags: [TAG.TREASURE.TREASURE, TAG.MONSTERS.GOBLINS, TAG.GAME.RELIGION], \r\n        branches: [],\r\n        events: \r\n        [{\r\n            name: 'Explore the Forest',\r\n            type: ENCOUNTER_EVENT_TYPE.PERCEPTION,\r\n            flavorText: 'The party checks in the forest near the lake...',\r\n        },\r\n        {\r\n            name: 'Explore the Lakeshore',\r\n            type: ENCOUNTER_EVENT_TYPE.PERCEPTION,\r\n            flavorText: 'The party checks the lakeshore...',\r\n        },\r\n         {\r\n            name: 'What\\'s in that tree?!',\r\n            type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n            flavorText: 'A creepy totem hangs in a clearing. The players attempt to cut it down.',\r\n         },\r\n         {\r\n            name: 'Now where is that treasure?!',\r\n            type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n            flavorText: 'The party search for the hidden treasure.',\r\n         },\r\n         { \r\n            name: 'Goblin Ambush',\r\n            type: ENCOUNTER_EVENT_TYPE.COMBAT,\r\n            flavorText: 'Goblins rush from the forest and attack!',\r\n            \r\n        }],\r\n        combat: [\r\n            {\r\n                name: 'Goblin Ambush',\r\n                description: 'Goblins rush from the trees!',\r\n                enemy: TAG.MONSTERS.GOBLINS,\r\n                nbEnemies: 2,\r\n            }\r\n        ],\r\n        challenge: [\r\n            {\r\n                name: 'Cut down creepy totem',\r\n                description: 'An ominous, and magial feeling eminates from a totem hanging from a tree. It will take some thought and some care to cut it down.',\r\n            }\r\n        ]\r\n    \r\n    },\r\n    LAKESIDE_CLIFFS: {\r\n        id: 6,\r\n        name: 'Cliff Catastrophe',\r\n        description: 'The party encounters a crazy goblin shaman in the Lakeside Cliffs.',\r\n        icon: 'cd_e_lakesidecliffs',\r\n        location: LOCATIONS.LAKESIDE_CLIFFS,\r\n        tags: [TAG.GAME.FIGHTING, TAG.MONSTERS.GOBLINS], \r\n        branches: [],\r\n        events: []\r\n    },\r\n}\r\n\r\n\r\n\r\nENCOUNTERS.SAGEWOOD.branches.push(ENCOUNTERS.BREWERY_FIGHT);\r\nENCOUNTERS.SAGEWOOD.branches.push(ENCOUNTERS.BY_THE_LAKE);\r\n\r\nENCOUNTERS.BREWERY_FIGHT.branches.push(ENCOUNTERS.BREWERY_EXPLORATION);\r\nENCOUNTERS.BREWERY_FIGHT.branches.push(ENCOUNTERS.BY_THE_LAKE);\r\n\r\nENCOUNTERS.BY_THE_LAKE.branches.push(ENCOUNTERS.LAKESIDE_CLIFFS);\r\n\r\nENCOUNTERS.LAKESIDE_CLIFFS.branches.push(ENCOUNTERS.UNDER_THE_WELL);\r\n\r\nconst processedEncounters =  \r\n    [\r\n        [ENCOUNTERS.SAGEWOOD],\r\n        [ENCOUNTERS.BREWERY_FIGHT, ENCOUNTERS.BY_THE_LAKE],\r\n        [ENCOUNTERS.BREWERY_EXPLORATION, ENCOUNTERS.LAKESIDE_CLIFFS],\r\n        [ENCOUNTERS.UNDER_THE_WELL]\r\n    ];\r\n\r\n    \r\n\r\n\r\nexport const cultOfTheDeep: Campaign = {\r\n    name: 'Cult of the Deep',\r\n    id: 0,\r\n    description: 'Townsfolk are acting strange. Something is moving in the lake. The Cult of the Deep is rising.',\r\n    icon: 'cult_of_the_deep_1',\r\n    startingEncounter: ENCOUNTERS.SAGEWOOD,\r\n    finaleEncounter: ENCOUNTERS.UNDER_THE_WELL,\r\n    theme: 'dark',\r\n    nbCharacters: [2, 4],\r\n    nbSessions: [2, 3],\r\n    encounters: Object.values(ENCOUNTERS),\r\n    processedEncounters: processedEncounters,\r\n    plotHooks: [\r\n        'The party finds fish 1',\r\n        'The party figures out the cultists and goblins are connected',\r\n        'The party discovers the cultists are kidnapping people',\r\n        'The party learns of a crab-monster eating people',\r\n    ],\r\n    tooltipTags: {\r\n        [ENCOUNTERS.SAGEWOOD.name]: {\r\n            [TAG.MONSTERS.CULTISTS.name]: \"mention the group of weirdos in the corner\",\r\n            [TAG.EVENTS.MYSTERIES.name]: 'hint at an overheard secret',\r\n            [TAG.MONSTERS.GOBLINS.name]: 'mention goblins by the lake',\r\n            [CAMPAIGN_TAG.BREWER_KEVIN.name]: 'there\\'s a rumor about Kevin',\r\n            [CAMPAIGN_TAG.KIDNAPPING.name]: 'someone mentions a recent kidnapping',\r\n            [TAG.PROPS.DRINKS.name]: 'describe the beer',\r\n            [CAMPAIGN_TAG.OLD_LAKE.name]: 'A rumor about a nearby lake',\r\n            [TAG.ELEMENTS.FIRE.name]: 'The fireplace comes up',\r\n            [TAG.PROPS.BARRELS.name]: 'a player notices an ale barrel',\r\n            [TAG.RACE.HALFLINGS.name]: 'mention the halfling barmaids',\r\n            [TAG.RACE.HUMANS.name]: 'describe the human patrons',\r\n            [TAG.PROPS.BEER.name]: 'converse about beer',\r\n            [TAG.TREASURE.TREASURE.name]: 'mention the treasure',\r\n            [TAG.GAME.RELIGION.name]: 'mention the goblins religion',\r\n            [TAG.GAME.FIGHTING.name]: 'make sure they realize there will be combat at the brewery',\r\n        }\r\n    },\r\n\r\n    chatTriggers: {\r\n        [ENCOUNTERS.SAGEWOOD.name]: {\r\n            [TAG.MONSTERS.CULTISTS.name]: 'You notice a group of humans in red robes and with a strange octopus tattoo. They seem to be eyeing you suspiciously.',\r\n            [TAG.EVENTS.MYSTERIES.name]: 'You overhear someone speak about a goblin treasure. Someone else interrupts and claims that they saw a goblin camp near the old lake.',\r\n            [TAG.MONSTERS.GOBLINS.name]: 'A table of townspeople loudly argue nearby. They seem to be discussing goblins, but quiet down when they notice you listening.',\r\n            [CAMPAIGN_TAG.BREWER_KEVIN.name]: 'The bartender mentions that Kevin the Brewer hasn\\'t been seen in days and that strange people have been delivering the beer.',\r\n            [CAMPAIGN_TAG.KIDNAPPING.name]: 'A man says he doesn\\'t recognize you and cautions you to be careful. He goes on to explain that several people have gone missing recently.',\r\n            [CAMPAIGN_TAG.CULT_LEADER.name]: {\r\n                message: 'With all these cultists, I bet there\\'s a cult LEADER around... maybe at the brewery!',\r\n                speaker: {\r\n                    type: CHAT_TYPE.PLAYER,\r\n                    id: 1\r\n                }\r\n            },\r\n            [TAG.PROPS.DRINKS.name]:'The beer is supposed to be the best in the region, but it tastes awful. When you ask the barmaid about it she says you should complain to Kevin at the Brewery',\r\n            [CAMPAIGN_TAG.OLD_LAKE.name]: 'A young couple loudly complain to some friends, they are trying to find a place to picnic but they indicate that the old lake is now teeming with goblins.',\r\n            [TAG.PROPS.BARRELS.name]: {\r\n                message: 'Hey look at this ale-barrel! It\\'s got an octopus symbol on it. Octobrew..?',\r\n                speaker: {\r\n                    type: CHAT_TYPE.CHARACTER,\r\n                    id: 1\r\n                },\r\n            },\r\n            [TAG.ELEMENTS.FIRE.name]: {\r\n                message: 'I walk to the fire and warm my frigid digits. Fridgits.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.CHARACTER,\r\n                    id: 0\r\n                }\r\n            },\r\n            [TAG.RACE.HALFLINGS.name]: {\r\n                message: 'I want to chat with the halfling barmaids. See if they know what\\'s good to eat here.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.CHARACTER,\r\n                    id: 2\r\n                }\r\n            },\r\n            [TAG.RACE.HUMANS.name]: 'Most of the locals are humans. Some seem friendly but others are clearly hostile.',\r\n            [TAG.PROPS.BEER.name]: 'Some of the locals say that if you want decent beer you should go to the brewery by the lake.',\r\n            [TAG.TREASURE.TREASURE.name]: 'The bartender says some adventurers came through recently and said he overheard them talking about a treasure they had buried out by the old lake.',\r\n            [TAG.GAME.RELIGION.name]: 'The party asks a priest about the local religious customs. He describes normal enough things, but says a goblin religion seems to have become popular in town...they worship a strange fish god in the nearby lake.',\r\n            [TAG.GAME.FIGHTING.name]: {\r\n                message: 'Hey guys, I can see the DM notes that say \"Brewery Battle\". I think we can expect combat if we go there...I\\'m just getting that vibe.', \r\n                speaker: {\r\n                    type: CHAT_TYPE.PLAYER,\r\n                    id: 0\r\n                }\r\n            }\r\n          \r\n        }\r\n    }\r\n}\r\n  \r\n","import { Campaign, Encounter, Location } from \"../../models\";\nimport { TAG } from \"../tags\";\nimport { THEME } from \"../themes\";\n\n\nconst LOCATIONS: Record<string, Location> = {\n    OLD_MILL: {\n        name: 'The Old Mill',\n        description: 'An old family-owned mill on the edge of town.',\n        icon: 'mm_l_oldMill',\n        tags: [TAG.LOCATION.STARTING_LOCATION, TAG.GAME.TOWN],\n        themes: [THEME.TOWN],\n    },\n    QUARRY: {\n        name: 'The Quarry',\n        description: 'A large quarry where stone is mined.',\n        icon: 'mm_l_quarry',\n        tags: [TAG.LOCATION.WILDERNESS],\n        themes: [THEME.MOUNTAIN],\n    },\n    ROAD: {\n        name: 'Road',\n        description: 'A long wide road',\n        icon: 'mm_l_road',\n        tags: [TAG.LOCATION.ROAD, TAG.GAME.TRAVEL],\n        themes: [THEME.TOWN]\n    },\n    UNDER_THE_MOUNTAIN: {\n        name: 'Under the Mountain',\n        description: 'A hidden entrance leads into the gnomish mines.',\n        icon: 'mm_l_entrance',\n        tags: [TAG.LOCATION.CAVE],\n        themes: [THEME.MOUNTAIN],\n    },\n    TUNNELS: {\n        name: 'Gnome Tunnels',\n        description: 'Cramped tunnels deep underground.',\n        icon: 'mm_l_tunnel',\n        tags: [TAG.LOCATION.CAVE, TAG.GAME.TRAVEL],\n        themes: [THEME.MOUNTAIN],\n    },\n    BRIDGE: {\n        name: 'The Old Bridge',\n        description: 'A rickety old bridge over a deep chasm.',\n        icon: 'mm_l_bridge',\n        tags: [TAG.LOCATION.WILDERNESS],\n        themes: [THEME.FOREST],\n    },\n    BEACH: {\n        name: 'The Beach',\n        description: 'A long stretch of beach.',\n        icon: 'mm_l_beach',\n        tags: [TAG.LOCATION.BEACH, TAG.GAME.TRAVEL],\n        themes: [THEME.WATER],\n    },\n    TOWNVILLE: {\n        name: 'TOWNVILLE',\n        description: 'A mid-sized village.',\n        icon: 'mm_l_townville',\n        tags: [TAG.GAME.TOWN, TAG.LOCATION.STARTING_LOCATION, TAG.LOCATION.FINALE_LOCATION, TAG.RACE.HUMANS],\n        themes: [THEME.TOWN]\n    }\n}\n\n\n// What if during the game, tags came up and these could come from the locations linked, or the current place or something and \n// you could choose what to DO with those tags, like assign them to locations - which might cause the players to want to GO there or AVOID there. But \n// we should keep track of any tags assigned to a place that the players choose because then you have to HOPE one of those tags shows up! \n// maybe there are some wild-tags that could be used to cover up some unwanted tags.... \n\n// maybe TAGS have a lot of smaller taglike things? (so a big one would be 'ELVES' but then little ones would be elf-related? hmm sounds corny and\n// a lot of work coming up with related shit. Maybe the tags have a strength and need to be satisfied by X amounts when assigned or for other reasons\n// but those strengths will also affect the amount that players like or hate them.\n\n// maybe after every session players adjust their LIKES and HATES in accordance with the game they just played!!\n\n\nconst ENCOUNTERS: Record<string, Encounter> = {\n    INTRO_IN_TOWN: {\n        id: 0,\n        name: 'Intro in Townville',\n        description: \"It's a peaceful day in Townville. The Heroes can spend some time buying Gear or Roleplaying. Suddenly the alarm sounds! The Miller has run all the way from the old mill shouting about thieves!\",\n        icon: 'mm_e_townville',\n        location: LOCATIONS.TOWNVILLE,\n        tags: [TAG.RACE.HUMANS, TAG.EVENTS.MYSTERIES, TAG.GAME.SOCIAL],\n        branches: [],\n        events: []\n    },\n    INTRO_AT_MILL: {\n        id: 1,\n        name: 'Missing Millstone',\n        description: 'The Millstone is missing. The Miller hires the Heroes to travel to the old quarry and transport a new one. There are also some clues around the Old Mill which may reveal more about what happened. This could be the sarting Encounter if you want to shorten the campaign, or to avoid Town.',\n        icon: 'mm_e_millstone',\n        location: LOCATIONS.OLD_MILL,\n        tags: [TAG.RACE.HUMANS, TAG.EVENTS.MYSTERIES, TAG.GAME.SOCIAL],\n        branches: [],\n        events: []\n\n    },\n    ROAD_TO_QUARRY: {\n        id: 2,\n        name: 'Road to Quarry',\n        description: 'A long boring trek to the Quarry.',\n        icon: 'mm_e_road',\n        location: LOCATIONS.ROAD,\n        tags: [TAG.GAME.TRAVEL, TAG.GAME.BORING],\n        branches: [],\n        events: []\n    },\n    QUARRY_INVESTIGATION: {\n        id: 2,\n        name: 'Quarry',\n        description: 'A large quarry where stone is mined. The millstone might be here.',\n        icon: 'mm_e_quarry',\n        location: LOCATIONS.QUARRY,\n        tags: [TAG.RACE.HUMANS, TAG.GAME.SOCIAL, TAG.MONSTERS.GNOMES],\n        branches: [],\n        events: []\n      \n    },\n    MOUNTAIN_ENTRANCE: {\n        id: 3,\n        name: 'Cave Entrance',\n        description: 'A hidden entrance in the wall of the quarry leads into the gnomish mines.',\n        icon: 'mm_e_cave',\n        location: LOCATIONS.UNDER_THE_MOUNTAIN,\n        tags: [TAG.MONSTERS.GNOMES, TAG.GAME.COMBAT, TAG.GAME.EXPLORATION],\n        branches: [],\n        events: []\n    },\n    EXPLORING_THE_TUNNELS: {\n        id: 4,\n        name: 'Gnomish Tunnel Exploration',\n        description: 'Tunnels leading to the South. Towards townville?',\n        icon: 'mm_e_tunnels',\n        tags: [TAG.MONSTERS.GNOMES, TAG.GAME.TRAVEL],\n        location: LOCATIONS.TUNNELS,\n        branches: [],\n        events: []\n    },\n    BANDITS_ON_THE_BRIDGE: {\n        id: 5,\n        name: 'Bridge Bandits',\n        description: 'Bandits guard the far end. They demand payment!',\n        icon: 'mm_e_bandits',\n        tags: [TAG.RACE.HUMANS, TAG.GAME.COMBAT, TAG.GAME.ROLEPLAY],\n        location: LOCATIONS.BRIDGE,\n        branches: [],\n        events: []\n    },\n    BEACH_TRAVEL: {\n        id: 6,\n        name: 'Beach Travel',\n        description: 'Traveling along the beach',\n        icon: 'mm_e_beach',\n        tags: [TAG.GAME.TRAVEL],\n        location: LOCATIONS.BEACH,\n        branches: [],\n        events: []\n    },\n    EXPLORE_SHIPWRECK: {\n        id: 7,\n        name: 'SHIPWRECK',\n        description: 'A ship. Has wrecked! Someone is looting it!',\n        icon: 'mm_e_shipwreck',\n        tags: [TAG.RACE.HUMANS, TAG.GAME.COMBAT, TAG.GAME.EXPLORATION],\n        location: LOCATIONS.BEACH,\n        branches: [],\n        events: []\n    },\n    TOWNVILLE_FIRE: {\n        id: 8,\n        name: 'Townville Fire',\n        description: 'The town of townville is on fire!',\n        icon: 'mm_e_fire',\n        tags: [TAG.RACE.HUMANS, TAG.EVENTS.DISASTERS, TAG.ELEMENTS.FIRE],\n        location: LOCATIONS.TOWNVILLE,\n        branches: [],\n        events: []\n    }\n}\n\nENCOUNTERS.INTRO_IN_TOWN.branches.push(ENCOUNTERS.INTRO_AT_MILL);\nENCOUNTERS.INTRO_AT_MILL.branches.push(ENCOUNTERS.ROAD_TO_QUARRY);\n\nENCOUNTERS.ROAD_TO_QUARRY.branches.push(ENCOUNTERS.QUARRY_INVESTIGATION);\n\nENCOUNTERS.QUARRY_INVESTIGATION.branches.push(ENCOUNTERS.MOUNTAIN_ENTRANCE);\nENCOUNTERS.QUARRY_INVESTIGATION.branches.push(ENCOUNTERS.BEACH_TRAVEL);\nENCOUNTERS.QUARRY_INVESTIGATION.branches.push(ENCOUNTERS.BANDITS_ON_THE_BRIDGE);\n\nENCOUNTERS.MOUNTAIN_ENTRANCE.branches.push(ENCOUNTERS.EXPLORING_THE_TUNNELS);\n\nENCOUNTERS.EXPLORING_THE_TUNNELS.branches.push(ENCOUNTERS.TOWNVILLE_FIRE);\n\nENCOUNTERS.BEACH_TRAVEL.branches.push(ENCOUNTERS.EXPLORE_SHIPWRECK);\n\nENCOUNTERS.EXPLORE_SHIPWRECK.branches.push(ENCOUNTERS.TOWNVILLE_FIRE);\n\nENCOUNTERS.BANDITS_ON_THE_BRIDGE.branches.push(ENCOUNTERS.TOWNVILLE_FIRE);\n\n//ENCOUNTERS.TOWNVILLE_FIRE.branches.push(ENCOUNTERS.TOWNVILLE_FIRE); // This is the end of the line! \n\n\n//MAXIM - HEre is where we differentiate campaignNodes and encounters! \n// CAmpaign nodes should/could also have details like \"The party decided to follow the gnomes under the mountain\"\n// which can be part of the linking here, like: NODES.OLD_MILL.pathNodes.push([NODES.UNDER_THE_MOUNTAIN, \"The party decided to....\"])!!!\nconst processedEncounters =  [\n    [ENCOUNTERS.INTRO_IN_TOWN],\n    [ENCOUNTERS.INTRO_AT_MILL],\n    [ENCOUNTERS.ROAD_TO_QUARRY],\n    [ENCOUNTERS.QUARRY_INVESTIGATION],\n    [ENCOUNTERS.MOUNTAIN_ENTRANCE, ENCOUNTERS.BEACH_TRAVEL, ENCOUNTERS.BANDITS_ON_THE_BRIDGE],\n    [ENCOUNTERS.EXPLORING_THE_TUNNELS, ENCOUNTERS.EXPLORE_SHIPWRECK],\n    [ENCOUNTERS.TOWNVILLE_FIRE]\n];\n\n\nexport const millstoneMystery: Campaign = {\n    name: 'Millstone Mystery',\n    id: 0,\n    description: 'The Millstone has mysteriously gone missing! While investigating what happened, the heroes may be delving into gnomish caves, or fighting scavengers along the beach.',\n    icon: 'millstone_mystery_1',\n    theme: 'adventure',\n    nbCharacters:[2,4],\n    nbSessions:[4,6],\n    startingEncounter: ENCOUNTERS.INTRO_IN_TOWN,\n    finaleEncounter: ENCOUNTERS.TOWNVILLE_FIRE,\n    encounters: Object.values(ENCOUNTERS),\n    processedEncounters: processedEncounters\n};","\r\nimport { Building, BUILDING_EFFECT_TYPE, BUILDING_TYPE, Campaign, CHAT_TYPE, Encounter, Location, Tag } from \"../../models\";\r\nimport { BUILDINGS } from \"../buildings\";\r\nimport { ENCOUNTER_EVENT_TYPE } from \"../general\";\r\nimport { TAG } from \"../tags\";\r\nimport { THEME } from \"../themes\";\r\nimport { GENERIC_ENCOUNTER_EVENTS } from \"./generticEncounterEvents\";\r\n\r\nconst CAMPAIGN_TAG: Record<string, Tag> = {\r\n    VILLAGE_ELDER: {\r\n        name: 'Village Elder',\r\n    },\r\n    DANCING: {\r\n        name: 'Dancing',\r\n    },\r\n  ELVEN_PRIEST: {\r\n        name: 'Elven Priest',\r\n    },\r\n}\r\n\r\nexport const CAMPAIGN_BUILDINGS: Record<string,Building> = {\r\n    \"ELDERS_HOME\": {\r\n        name: \"Elder Rose's Hut\",\r\n        type: BUILDING_TYPE.TEMPLE,\r\n        description: \"Heal wounds, or resurrect fallen heroes.\",\r\n        tags: [CAMPAIGN_TAG.VILLAGE_ELDER],\r\n        nbTags: 2,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.HEAL, value: 99}, {type: BUILDING_EFFECT_TYPE.RESURRECT, value: 1}]\r\n    },\r\n    \"SHOP\": {\r\n        name: \"Vilage Goods\",\r\n        type: BUILDING_TYPE.SHOP,\r\n        description: \"Basic goods and supplies.\",\r\n        tags: [TAG.GAME.TOOLS],\r\n        addFriendlyTags: true,\r\n        nbTags:3,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_TOOLS, value: 99}]\r\n    },\r\n    \"SPECIAL_SHOP\": {\r\n        name: \"Adventuring Goods\",\r\n        type: BUILDING_TYPE.SHOP,\r\n        description: \"Replenish tools and talk with townsfolk.\",\r\n        tags: [TAG.TREASURE.ARMOR, TAG.TREASURE.WEAPONS],\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_TOOLS, value: 99}],\r\n        allowMagicItems: true,\r\n       \r\n    },\r\n    \"TAVERN\": {\r\n        name: \"Tavern\",\r\n        type: BUILDING_TYPE.TAVERN,\r\n        description: \"Drinks, food, and gossip.\",\r\n        tags: [TAG.ELEMENTS.FOG, TAG.RACE.HUMANS, TAG.RACE.HALFLINGS, TAG.PROPS.BEER],\r\n        addFriendlyTags: true,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_ENJOYMENT, value: 1}]\r\n    },\r\n    \r\n    \"CONFRONTATION\":{\r\n        name: \"Fog Peril\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"Tendrils of fog seem to follow the hero...they are unsettling \",\r\n        tags: [TAG.ELEMENTS.FOG],\r\n        nbTags: 1,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: 10}]\r\n    },\r\n    \"CONFRONTATION2\":{\r\n        name: \"Haggle\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"The heroes waste time trying to get a better price...cmon! \",\r\n        tags: [],\r\n        nbTags: 0,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_INVOLVEMENT, value: -1}]\r\n    },\r\n    // -- ELVEN TOWN\r\n    \"ELVEN_TEMPLE\": {\r\n        name: \"Grand Temple\",\r\n        type: BUILDING_TYPE.TEMPLE,\r\n        description: \"Heal wounds, or resurrect fallen heroes.\",\r\n        tags: [CAMPAIGN_TAG.ELVEN_PRIEST],\r\n        nbTags: 2,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.HEAL, value: 99}, {type: BUILDING_EFFECT_TYPE.RESURRECT, value: 1}]\r\n    },\r\n    \"ELVEN_SHOP\": {\r\n        name: \"Elven Goods\",\r\n        type: BUILDING_TYPE.SHOP,\r\n        description: \"Normal goods, but pointier.\",\r\n        tags: [TAG.GAME.TOOLS],\r\n        addFriendlyTags: true,\r\n        nbTags:3,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_TOOLS, value: 99}],\r\n        allowMagicItems: true,\r\n    },\r\n    \"MASSAGE\": {\r\n        name: \"Treetop Spa\",\r\n        type: BUILDING_TYPE.TAVERN,\r\n        description: \"Massage, healing, and luxury.\",\r\n        tags: [],\r\n        addFriendlyTags: true,\r\n        nbTags:2,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.REPLENISH_MAGIC, value: 99}, {type: BUILDING_EFFECT_TYPE.ADD_ENJOYMENT, value: 1}, {type: BUILDING_EFFECT_TYPE.HEAL, value: 1}],\r\n       \r\n    },\r\n    \"GATHERING_AREA\": {\r\n        name: \"Suspended Plaza\",\r\n        type: BUILDING_TYPE.MARKETPLACE,\r\n        description: \"Shaded outdoor lounge with magic vendors.\",\r\n        tags: [],\r\n        addFriendlyTags: true,\r\n        allowMagicItems: true,\r\n        nbTags:2,\r\n        effects: [],\r\n       \r\n    },\r\n    \"NASTY_FALL\": {\r\n        name: \"Nasty Fall\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"The treetop bridges are narrow and falls are always a danger...\",\r\n        tags: [TAG.SCENERY.TREES],\r\n        nbTags: 1,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.INJURE, value: 1}]\r\n    },\r\n    \"SLUMS\": {\r\n        name: \"Elven Slums\",\r\n        type: BUILDING_TYPE.CONFRONTATION,\r\n        description: \"The heroes wander into a bad tree...\",\r\n        tags: [TAG.RACE.ELVES],\r\n        nbTags: 1,\r\n        effects: [{type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: 10}]\r\n    }\r\n}\r\n\r\nconst LOCATIONS: Record<string, Location> = {\r\n    FAIRLIGHT: {\r\n        name: 'Fairlight Village',\r\n        description: 'A cozy village nestled at the base of the Windy Mountains. Known for it\\'s annual Fairlight Festival and nothing else, this village is mainly just a hangout for peasants, chickens, cows, and the occasional adventurer setting out on a quest into the mountains.',\r\n        icon: 'mm_l_fairlight',\r\n        tags: [TAG.RACE.HUMANS, TAG.RACE.HALFLINGS, TAG.ANIMALS.CHICKENS, TAG.LOCATION.BUILDINGS, TAG.ELEMENTS.FOG],\r\n        themes: [THEME.TOWN],\r\n    },\r\n    WINDY_MOUNTAIN_PATH: {\r\n        name: 'Up the Windy Mountain',\r\n        description: 'A long and widing path up the Windy Mountains. Beginning in the small village of Fairlight, the path leads up the Windy Mountains through dense forest and is known to be dangerous, but also mysterious.',\r\n        icon: 'mm_l_mountain_camp',\r\n        tags: [TAG.SCENERY.TREES, TAG.SCENERY.BOULDERS, TAG.RACE.HUNTERS, TAG.TRAVEL.ROADS, TAG.ELEMENTS.FOG],\r\n        themes: [THEME.MOUNTAIN]\r\n    }, \r\n    ELVEN_VILLAGE: {\r\n        name: 'Elven Tree-Village',\r\n        description: 'A beautiful village in and amongst the trees. Rope-bridges share the canopy with the vines and birds as Elves go about their daily business. The only part of the village that stands out is the Temple, a huge tree with ornate doors and windows growing directly from the bark.',\r\n        icon: 'mm_l_elven_town',\r\n        tags: [TAG.SCENERY.TREES, TAG.RACE.ELVES, TAG.LOCATION.BUILDINGS, TAG.ELEMENTS.FOG],\r\n        themes: [THEME.FOREST]\r\n    },\r\n  \r\n    WITCH_CABIN: {\r\n        name: 'Witch\\'s Cabin',\r\n        description: 'A small stone cabin on the side of the mountain in the midst of a dense forest. The cabin is spewing out thick, almost-purple smoke. Inside, a couldron bubbles over a smoky fire, an imp in a cage chatters, and a pentagram inscribed on the floor glows eerily.',\r\n        icon: 'mm_e_cabin',\r\n        tags: [TAG.ELEMENTS.FOG, TAG.LOCATION.CABIN, TAG.PROPS.COULDRON, TAG.PROPS.BOOKS, TAG.GAME.MAGIC, TAG.ELEMENTS.SMOKE],\r\n        themes: [THEME.BUILDING]\r\n    },\r\n\r\n    DWARVEN_TUNNEL: {\r\n        name: 'Tunnel 23',\r\n        description: 'An unassuming door in the side of the mountain leads to a small, but well-constructed corridor which feeds into an impressively huge tunnel with a wide paved road and lined by shops and homes.',\r\n        icon: 'mm_l_tunnel',\r\n        tags: [TAG.ELEMENTS.FOG, TAG.PROPS.RUNES, TAG.RACE.DWARVES],\r\n        themes: [THEME.DUNGEON]\r\n    },\r\n    SMOKEY_CAVE: {\r\n        name: 'Smokey Cave',\r\n        description: 'A dark and smokey cave. The fog clings to the walls and reaches out with evil tenticles. The ground is littered with bones of recently slain dwarves, and a clicking sound can be heard throught.',\r\n        icon: 'cd_l_underthewell',\r\n        tags: [TAG.ELEMENTS.FOG, TAG.RACE.DWARVES],\r\n        themes: [THEME.CAVE]\r\n    },\r\n}\r\n\r\nconst ENCOUNTERS: Record<string, Encounter> = {\r\n    FAIRLIGHT_FESTIVAL: {\r\n        id: 1,\r\n        name: 'Fairlight Festival', \r\n        description: 'The annual Fairlight Festival in the village of Fairlight is a week-long celebration of the harvest. The Mourning Mountain seems to loom above the town, and some hunters from the mountain have come to take part in the festivities. There are dancing competitions, archery contests, and plenty of drinking. All is not perfect, however, as recently an evil, poisonous fog has been spreading down from the mountain and is now even coming close to the town! The Village Elder, Rose will ask the heroes to assist.',\r\n        icon: 'mm_l_fairlight',\r\n        location: LOCATIONS.FAIRLIGHT,\r\n        tags: [TAG.EVENTS.FESTIVALS, TAG.GAME.CURSE, CAMPAIGN_TAG.VILLAGE_ELDER, TAG.GAME.GOSSIP],\r\n        branches: [],\r\n        events: \r\n            [{\r\n                name: 'Gossip and Rumors',\r\n                type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n                flavorText: 'The party can mingle with the townfolk, listen to gossip, and take part in some games.',\r\n            },\r\n            \r\n             {\r\n                name: 'Festival Games',\r\n                type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n                flavorText: 'The festival games are open to all, the heroes can try any number of games.',\r\n                tags: [CAMPAIGN_TAG.DANCING, TAG.GAME.ARCHERY, TAG.GAME.CRAFTING]\r\n             },\r\n             {\r\n                name: 'Farm Country Travel',\r\n                type: ENCOUNTER_EVENT_TYPE.TRAVEL,\r\n                flavorText: 'Chickens? Check. Horses? Check. Corn? Check. Wheat? Chex.',\r\n             },\r\n           \r\n\r\n            GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n            {\r\n                name: 'Fairlight',\r\n                type: ENCOUNTER_EVENT_TYPE.TOWN,\r\n                flavorText: 'Shop, rest, and gather information in the village of Fairlight .',\r\n            }\r\n        ],\r\n       \r\n        town: [\r\n            {\r\n                buildings: [CAMPAIGN_BUILDINGS.ELDERS_HOME, CAMPAIGN_BUILDINGS.SHOP, CAMPAIGN_BUILDINGS.SPECIAL_SHOP, CAMPAIGN_BUILDINGS.TAVERN, CAMPAIGN_BUILDINGS.CONFRONTATION, CAMPAIGN_BUILDINGS.CONFRONTATION2],\r\n                nbBuildings: [4, 5]\r\n            }\r\n        ],\r\n        challenge: [\r\n            {\r\n                name: 'Fesitvalname',\r\n                description: 'festivalscription',\r\n            }\r\n        ],\r\n      \r\n    },\r\n    UP_THE_MOUNTAIN: {\r\n        id: 2,\r\n        name: 'Mountain Path',\r\n        description: 'blah blah, fog. hunters',\r\n        icon: 'mm_e_up_the_mountain',\r\n        location: LOCATIONS.WINDY_MOUNTAIN_PATH,\r\n        tags: [TAG.LOCATION.CAMP, TAG.ANIMALS.DEER, TAG.ANIMALS.BEARS],\r\n        branches: [],\r\n        events: [\r\n            {\r\n                name: 'Hunter Chatterers',\r\n                type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n                flavorText: 'The party chats with some hunters and share a meal at their camp.',\r\n             },\r\n           \r\n\r\n            GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n            {\r\n                name: 'Deerfight',\r\n                type: ENCOUNTER_EVENT_TYPE.COMBAT,\r\n                flavorText: 'Some deer step out of the fog...but they seem somehow evil. They attack the party!',\r\n            },\r\n            {\r\n                name: 'Bearfight',\r\n                type: ENCOUNTER_EVENT_TYPE.COMBAT,\r\n                flavorText: 'A huge ugly bear with fog streaming from it\\'s head rears up!',\r\n            },\r\n            {\r\n                name: 'Up up up the road',\r\n                type: ENCOUNTER_EVENT_TYPE.TRAVEL,\r\n                flavorText: 'The way up the road is long.',\r\n            }\r\n        ],\r\n        combat: [\r\n            {\r\n                name: 'Deerfighter',\r\n                description: 'Deerscription',\r\n                enemy: TAG.ANIMALS.DEER,\r\n                nbEnemies: 2,\r\n            }, {\r\n                name: 'Bearfighter',\r\n                description: 'Bearrrrrscription',\r\n                enemy: TAG.ANIMALS.BEAR,\r\n                nbEnemies: 1,\r\n            },\r\n        \r\n        \r\n        ]\r\n    },\r\n    POINTED_CONVERSATIONS: {\r\n        id: 3,\r\n        name: 'Pointed Conversations',\r\n        description: 'blah blah, fog. elves',\r\n        icon: 'mm_e_pointed',\r\n        location: LOCATIONS.ELVEN_VILLAGE,\r\n        tags: [TAG.LOCATION.TOWER, CAMPAIGN_TAG.ELVEN_PRIEST, TAG.PROPS.WINE], \r\n        branches: [],\r\n        events: \r\n        [{\r\n            name: 'Treetop Town',\r\n            type: ENCOUNTER_EVENT_TYPE.TOWN,\r\n            flavorText: 'The party corners a scared cultist and demands some information....',\r\n        },\r\n        \r\n         {\r\n            name: 'Wine Competition',\r\n            type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n            flavorText: 'Elven wine is some of the winey-est wine. The party can try to win a wine competition.',\r\n            tags: [TAG.PROPS.WINE, TAG.RACE.ELVES]\r\n         },\r\n         { \r\n            name: 'Priest Chat',\r\n            type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n            flavorText: 'The party has a conversation with the Elven Priest.',\r\n            \r\n        },\r\n        GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n    ],\r\n        town: [\r\n            {\r\n                buildings: [CAMPAIGN_BUILDINGS.ELVEN_TEMPLE, CAMPAIGN_BUILDINGS.ELVEN_SHOP, CAMPAIGN_BUILDINGS.MASSAGE, CAMPAIGN_BUILDINGS.GATHERING_AREA, CAMPAIGN_BUILDINGS.NASTY_FALL, CAMPAIGN_BUILDINGS.SLUMS],\r\n                nbBuildings: [4, 5]\r\n            }\r\n    ],\r\n\r\n},\r\n    BELL_SMOKE: {\r\n        id: 4,\r\n        name: 'Bells and Smoke',\r\n        description: 'As the players approach the Witch\\'s Cabin, they will notice that the fog appears to avoid a species of tree growing near the cabin. The owner of the cabin, Fred Witch, is a friendly and relaxed gnome with a traditional red hat and a green thumb. He is proud of his garden and is happy to chat about the fog. He will lead the party to the Dwarven Tunnel if they ask. There is a bell inside the cabin which he seems completely unaware of but which is making a regular deep ringing. Each time it tolls, the characters will become confused. Kevin may ask the party to help with a _____ PUZZLE OF SOME KIND.',\r\n        icon: 'mm_l_witch',\r\n        location: LOCATIONS.WITCH_CABIN,\r\n        tags: [TAG.SCENERY.TREES, TAG.PROPS.BELL, TAG.ELEMENTS.SMOKE], \r\n        branches: [],\r\n        events: \r\n        [\r\n         {\r\n            name: 'Approach the Bell',\r\n            type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n            flavorText: 'Disable, or silence the bell to clear your head.',\r\n            tags: [TAG.GAME.MAGIC, TAG.PROPS.BELL, TAG.PROPS.ROPE]\r\n         },\r\n         { \r\n            name: 'Kevin Witch',\r\n            type: ENCOUNTER_EVENT_TYPE.ROLEPLAY,\r\n            flavorText: '\"The Witch\" is Kevin Witch, a gardener-gnome',\r\n        },\r\n        { \r\n            name: 'Cabin Snares',\r\n            type: ENCOUNTER_EVENT_TYPE.TRAP,\r\n            flavorText: 'The area around the cabin is full of traps.',\r\n            \r\n        },\r\n        { \r\n            name: 'Witch book is witch?',\r\n            type: ENCOUNTER_EVENT_TYPE.PUZZLE,\r\n            flavorText: 'Kevin asks for a hand with something...',\r\n            \r\n        },\r\n        GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n    ],\r\n },\r\n TUNNEL_23: {\r\n    id: 5,\r\n    name: 'Dwarven Tunnel',\r\n    description: 'The entrance to the Dwarven Tunnel lies along a path up the mountain into a cleft in the rock and then deep into the mountain itself. The entrance is lined with statues and traps. It appears to be recently abandoned and no signs of life can be seen. The fog appears to billow out from deep within the mountain. This clearly leads to it\\'s source.',\r\n    icon: 'mm_e_dwarves',\r\n    location: LOCATIONS.DWARVEN_TUNNEL,\r\n    tags: [TAG.GAME.TRAPS, TAG.PROPS.STATUES, TAG.GAME.MYSTERY], \r\n    branches: [],\r\n    events: \r\n    [\r\n    \r\n     {\r\n        name: 'Trap1',\r\n        type: ENCOUNTER_EVENT_TYPE.TRAP,\r\n        flavorText: 'trap1.',\r\n     },\r\n     {\r\n        name: 'Trap2',\r\n        type: ENCOUNTER_EVENT_TYPE.TRAP,\r\n        flavorText: 'trap2.',\r\n     },\r\n      GENERIC_ENCOUNTER_EVENTS.PERCEPTION,\r\n      {\r\n        name: 'Skill Challenge',\r\n        type: ENCOUNTER_EVENT_TYPE.CHALLENGE,\r\n        flavorText: '',\r\n       // tags: [TAG.GAME.MAGIC, TAG.GAME.BOOKS]\r\n     },\r\n],\r\n\r\n},\r\nSMOKEY: {\r\n    id: 6,\r\n    name: 'Source of Evil',\r\n    description: 'blah blah, fog. Crabs',\r\n    icon: 'cd_l_underthewell',\r\n    location: LOCATIONS.SMOKEY_CAVE,\r\n    tags: [TAG.MONSTERS.MONSTERS, TAG.SOUNDS.CLICKING, TAG.GAME.EVIL], \r\n    branches: [],\r\n    events: \r\n    [\r\n    \r\n     {\r\n        name: 'Finale',\r\n        type: ENCOUNTER_EVENT_TYPE.FINALE,\r\n        flavorText: 'Finale.',\r\n     },\r\n    \r\n],\r\n\r\n}\r\n};\r\n\r\n\r\n// TOWN\r\nENCOUNTERS.FAIRLIGHT_FESTIVAL.branches.push(ENCOUNTERS.UP_THE_MOUNTAIN);\r\n//MOUNTAIN\r\nENCOUNTERS.UP_THE_MOUNTAIN.branches.push(ENCOUNTERS.POINTED_CONVERSATIONS);\r\nENCOUNTERS.UP_THE_MOUNTAIN.branches.push(ENCOUNTERS.BELL_SMOKE);\r\n// ELF TOWN\r\nENCOUNTERS.POINTED_CONVERSATIONS.branches.push(ENCOUNTERS.TUNNEL_23); \r\nENCOUNTERS.BELL_SMOKE.branches.push(ENCOUNTERS.TUNNEL_23); \r\n//WITCH CABIN\r\nENCOUNTERS.TUNNEL_23.branches.push(ENCOUNTERS.SMOKEY); \r\n\r\n\r\n\r\n\r\nconst processedEncounters =  \r\n    [\r\n        [ENCOUNTERS.FAIRLIGHT_FESTIVAL],\r\n        [ENCOUNTERS.UP_THE_MOUNTAIN],\r\n        [ENCOUNTERS.POINTED_CONVERSATIONS, ENCOUNTERS.BELL_SMOKE],\r\n        [ENCOUNTERS.TUNNEL_23],\r\n        [ENCOUNTERS.SMOKEY]\r\n ];\r\n\r\nexport const mountainMystery: Campaign = {\r\n    name: 'Dragonsbreath Quest',\r\n    id: 623,\r\n    description: 'blah blah fog',\r\n    icon: 'missing_icon',\r\n    startingEncounter: ENCOUNTERS.FAIRLIGHT_FESTIVAL,\r\n    finaleEncounter: ENCOUNTERS.BELL_SMOKE,\r\n    theme: 'dark',\r\n    nbCharacters: [2, 4],\r\n    nbSessions: [2, 3],\r\n    encounters: Object.values(ENCOUNTERS),\r\n    processedEncounters: processedEncounters,\r\n    plotHooks: [\r\n        'PLOT HOOK FLAVOR TEXT 1',\r\n        'PLOT HOOK FLAVOR TEXT 2',\r\n        'PLOT HOOK FLAVOR TEXT 3',\r\n        'PLOT HOOK FLAVOR TEXT 4',\r\n    ],\r\n    tooltipTags: {\r\n        [ENCOUNTERS.FAIRLIGHT_FESTIVAL.name]: {\r\n            [CAMPAIGN_TAG.VILLAGE_ELDER.name]: \"the village elder appears to be waiting to speak with the party\",\r\n            [TAG.RACE.HUMANS.name]: 'describe the humans in the village',\r\n            [TAG.RACE.HALFLINGS.name]: 'mention the halflings',\r\n            [TAG.ELEMENTS.FOG.name]: 'Talk about the fog!',\r\n            [TAG.ANIMALS.CHICKENS.name]: 'go into great detail about some chichens',\r\n            [TAG.LOCATION.BUILDINGS.name]: 'describe the village huts',\r\n            \r\n            [TAG.ANIMALS.DEER.name]: 'bring up the deer in the forest',\r\n            [TAG.ANIMALS.BEARS.name]: 'bring up the story about the bear...',\r\n            [TAG.LOCATION.CAMP.name]: 'mention the hunter\\'s camp',\r\n            [TAG.RACE.HUNTERS.name]: 'Bring up the hunters',\r\n            [TAG.GAME.CURSE.name]: 'mention the curse...',\r\n            [TAG.GAME.GOSSIP.name]: 'the party wants to listen in on some gossip',\r\n\r\n        },\r\n        [ENCOUNTERS.UP_THE_MOUNTAIN.name]: {\r\n         \r\n            [TAG.RACE.HUNTERS.name]: 'See what the hunters have to say...',\r\n            [TAG.ELEMENTS.FOG.name]: 'Maybe the players are curious about the fog?\"',\r\n          \r\n            \r\n            [TAG.ANIMALS.DEER.name]: 'Describe the creepy weirdo horrible deer',\r\n            [TAG.ANIMALS.BEARS.name]: 'The players ask about the Bear that might be on the mountain...',\r\n            [TAG.LOCATION.CAMP.name]: 'Bring up the hunters camp...',\r\n            [TAG.RACE.HUNTERS.name]: 'Focus on one specific hunter...',\r\n      \r\n            [TAG.SCENERY.BOULDERS.name]: 'Talk about the boulders',\r\n            [TAG.TRAVEL.ROADS.name]: 'Describe the road...',\r\n            [TAG.SCENERY.TREES.name]: 'It\\'s a forest after all....but there is something to be mentioned about the trees...',\r\n\r\n            [TAG.LOCATION.TOWER.name]: 'Talk about the tower in the distance...',\r\n            [CAMPAIGN_TAG.ELVEN_PRIEST.name]: 'Reference the priest that was recently in the area...',\r\n            [TAG.PROPS.WINE.name]: 'everyone loves chatting about wine',\r\n\r\n            [TAG.PROPS.BELL.name]: 'Describe the bell which keeps ringing in the distance...',\r\n            [TAG.ELEMENTS.SMOKE.name]: 'there is a lot of smoke that appears distinct from the fog...',\r\n      \r\n            },\r\n        [ENCOUNTERS.BELL_SMOKE.name]: {\r\n            [TAG.ELEMENTS.FOG.name]: '...of course we need to bring up the fog...',\r\n            [TAG.PROPS.BELL.name]: 'Describe the Bell',\r\n            [TAG.ELEMENTS.SMOKE.name]: 'Talk about the smoke',\r\n            [TAG.LOCATION.CABIN.name]: 'Give details about the cabin',\r\n            [TAG.PROPS.COULDRON.name]:'Bring up the couldron',\r\n            [TAG.PROPS.BOOKS.name]:'Describe the bookshelf',\r\n            [TAG.GAME.MAGIC.name]: 'Magic is evident everywhere...',\r\n            [TAG.SCENERY.TREES.name]: 'The trees are different here...',\r\n        },\r\n        [ENCOUNTERS.POINTED_CONVERSATIONS.name]: {\r\n            [TAG.LOCATION.TOWER.name]: \"Describe the Elven Temple's Spire\",\r\n            [CAMPAIGN_TAG.ELVEN_PRIEST.name]: \"Remind the Players about the Elven Priest...\",\r\n            [TAG.PROPS.WINE.name]: \"perhaps the players are cusrious about the wine?\",\r\n            [TAG.SCENERY.TREES.name]: \"talk about the trees\",\r\n            [TAG.RACE.ELVES.name]: \"describe some basic elves in the village\",\r\n            [TAG.LOCATION.BUILDINGS.name]: \"bring up how the buildings are trees\",\r\n            [TAG.ELEMENTS.FOG.name]: \"continue to remind about the whole fog sitch\",\r\n        },\r\n        // NO ROLEPLAY EVENT - THIS MAY NOT BE NEEDED UNLESS SOMETHING ELSE WANTS TOOLTIPS....\r\n        // [ENCOUNTERS.TUNNEL_23.name]: {\r\n        //     [TAG.GAME.TRAPS.name]: \"\",\r\n        //     [TAG.RACE.DWARVES.name]: \"\",\r\n        //     [TAG.GAME.MYSTERY.name]: \"\",\r\n        //     [TAG.ELEMENTS.FOG.name]: \"\",\r\n        //     [TAG.PROPS.STATUES.name]: \"\",\r\n            \r\n        // },\r\n        [ENCOUNTERS.SMOKEY.name]: {\r\n            [TAG.MONSTERS.MONSTERS.name]: \"\",\r\n            [TAG.SOUNDS.CLICKING.name]: \"\",\r\n            [TAG.GAME.EVIL.name]: \"\",\r\n            [TAG.ELEMENTS.FOG.name]: \"\",\r\n            [TAG.RACE.DWARVES.name]: \"\",\r\n            [TAG.ELEMENTS.FOG.name]: \"\",\r\n            [TAG.RACE.DWARVES.name]: \"\",\r\n        },\r\n\r\n\r\n    },\r\n\r\n    chatTriggers: {\r\n        [ENCOUNTERS.FAIRLIGHT_FESTIVAL.name]: {\r\n            [CAMPAIGN_TAG.VILLAGE_ELDER.name]: [{\r\n                message: 'The Village Elder is waiting to speak with the party...',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Let\\'s not keep her waiting!',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'She asks the party to investigate the fog and its source in the mountains. It will require journeying up the mountain...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }\r\n                }, {\r\n                    message: 'Sounds like we have an adventure on our hands!',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 1\r\n                }},\r\n            ],\r\n            [TAG.EVENTS.FESTIVALS.name]: [{\r\n                message: 'The Fairlight Festival is a day-long celebration of the village\\'s harvest season.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Isn\\'t this place being attacked by demon fog or someting? Are they really celebrating still?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'Despite the fog, the Village Elder - Elder Rose, has decided to go ahead with the festival. You hear she wants to speak with the party.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }\r\n                }\r\n            ],\r\n\r\n            [TAG.ANIMALS.CHICKENS.name]: [{\r\n                message: 'You watch as a chicken scratches around in the dirt. Nearby a tentacle of fog stretches out and almost touches it.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Noooo! Chicky!',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'The chicken is startled by your yell and notices the fog. It runs away',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }\r\n                }\r\n            ],\r\n\r\n            \r\n            [TAG.GAME.CURSE.name]: 'A smith in town complains that the village is cursed. An Evil Fog has been spreading from the mountains lately...',\r\n            [TAG.GAME.GOSSIP.name]: 'All the townsfolk talk about is the fog. Some mention their dying pets or crops. Some wonder if they will have to move.',\r\n\r\n        \r\n           \r\n            [TAG.RACE.HUMANS.name]: 'The townfolk are mainly humans, but a few halflings live here as well.',\r\n            [TAG.RACE.HALFLINGS.name]: 'Making up about a quarter of the town\\'s population, the halflings are well-represented at the festival, particularly the dancing contest.',\r\n            \r\n        \r\n            [TAG.LOCATION.BUILDINGS.name]: 'The village has a few buildings, most prominently the tavern and the bakery. ',\r\n            \r\n            [TAG.ANIMALS.DEER.name]: 'Some villagers mention that they saw evil-looking deer up the mountain path.',\r\n            [TAG.ANIMALS.BEARS.name]: 'A huge bear has been seen up the mountain. It appears to be hiding in the fog.',\r\n            [TAG.LOCATION.CAMP.name]: 'The party learns of a Hunters Camp up the mountain. It may be a good place to rest and get information about the mountain.',\r\n            [TAG.RACE.HUNTERS.name]: 'A hunter is in town for the festival. He invites the party to the camp up the mountain. ',\r\n\r\n            [TAG.GAME.ARCHERY.name]: 'Archery is a pretty popular sport in town, so its no surprise that there is an archery ompetition at the fair.',\r\n            [TAG.GAME.CRAFTING.name]: 'Basket Weaving, Pottery, and Carving competitions are all part of the festival. ',\r\n            [CAMPAIGN_TAG.DANCING.name]:  'You aren\\'t sure how these things are judged, but it\\'s fun to dance with some of the locals anyways. ',\r\n            [TAG.ELEMENTS.FOG.name]:  [{\r\n                message: 'The festival is going well. People are laughing, and enjoying the games. Suddenly the games, laughter, and chatter stop as an ear-splitting scream stills the crowd.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: '\"What\\'s happened?!\" I\\'ll shout heorically and run towards the source of the scream and pull my weapon. \"Out of the way, you fithly peasants!\"',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'The crowd parts for you, though you get some odd looks for your rudeness. Ahead a woman is pulling an unconsious child from a bank of low-hanging fog.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }\r\n                },\r\n                {\r\n                    message: 'As a pair of halflings help the woman take her child away, some of the townsfolk explain that a poisonous fog has recently been seen in the town. Sometimes it almost seems alive.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }\r\n                }\r\n            ]\r\n\r\n        },\r\n        [ENCOUNTERS.UP_THE_MOUNTAIN.name]: {\r\n                //Location\r\n            [TAG.ELEMENTS.FOG.name]: 'The fog appears to be thicker as you climb the mountain. The tendrils seem more and more dangerous and feel thicker and more substantial. You sometimes see shapes moving in the fog...',\r\n    \r\n            //Encounter\r\n            [TAG.ANIMALS.DEER.name]: 'The deer dart in and out out of the fog and even appear to be playing in it. Occasionally though, you see one glaring at you with evil intent...it\\'s only a matter of time before they attack!',\r\n            [TAG.ANIMALS.BEARS.name]: 'In the fog you see an enormous shape lumbering towards you. A huge head resolves out of the fog and the bear exhales a long clous of mist. It looks angry...',\r\n            [TAG.LOCATION.CAMP.name]: 'The hunters camp is a well-established mountain base. There are some servicable tents, a firepit, and a few hunters. They are willing to chat but seem to be on edge due to the fog.',\r\n        \r\n            [TAG.RACE.HUNTERS.name]: 'You talk with some hunters on the mountain near the camp. They say the Fog has been getting worse and worse. They think it is coming from the mountain itself!',\r\n      \r\n            [TAG.SCENERY.BOULDERS.name]: 'The area is littered with large boulders',\r\n            [TAG.TRAVEL.ROADS.name]: 'The mountain road is a well-beaten path but occasionally dwindwles to a narrow trail. You doubt a cart could make it up here.',\r\n            [TAG.SCENERY.TREES.name]: 'The trees and foliage here is thick and green, but some darker...almost \"stickier\" looking species of shrub can be found. The forest to the east appears to contain more and more of these. The hunters say they were planted by \"some Witch\"',\r\n\r\n            [TAG.LOCATION.TOWER.name]: 'A tower can be seen above the trees. The local hunters say it is the spire of a temple from an Elven Village farther up the mountain. They say the village is friendly and a Priest there is known to be wise. Perhaps they will know about this fog',\r\n            [CAMPAIGN_TAG.ELVEN_PRIEST.name]:'The hunters say that there is an Elven Village up the mountain. Some of the fog is coming from that direction...there is a prominane Elven Priest there...perhpas he will have some answers.',\r\n            [TAG.PROPS.WINE.name]: 'Hunters along the trail share some amazing wine. They say they got it from the Elven Village farther along the path.',\r\n\r\n            [TAG.PROPS.BELL.name]: 'There has been a bell ringing in the distance for a while now. The party finally determines that the direction is coming from the same direction as a Witch\\'s Cabin that the hunters mentioned...',\r\n            [TAG.ELEMENTS.SMOKE.name]: 'Mixed with the fog is a thick, almost purple smoke. It appears to have similar poperties to the fog and its curling tenticles seem to beckon the party in a certain direction...',\r\n\r\n        },\r\n\r\n        // WITCH CABIN -------------------------------------------------------------------------------------\r\n\r\n        [ENCOUNTERS.BELL_SMOKE.name]: {\r\n          \r\n            [TAG.ELEMENTS.FOG.name]: 'The fog appears to be much thinner as you approach the cabin. However, instead of the fog, the air here is thick with smoke coming from the cabin..',\r\n            [TAG.PROPS.BELL.name]:\r\n\r\n            [{\r\n                message:  'There is a large bell hanging from a thick purple rope. It\\'s ringing regularly and makes you feel odd for a moment each time it tolls.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'What is causing it to ring?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 6\r\n                }},\r\n                {\r\n                    message: 'And what do you mean \"odd\"?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 1\r\n                    }\r\n                },\r\n                {\r\n                    message: 'It\\'s not clear what is causing the bell to ring, it is likely magical. Every time it rings it makes your head foggy for a moment. The effect gets worse the closer you get.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'Dungggggg... Dunggggg... Dungggggg...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 2\r\n                    }},\r\n            ],\r\n\r\n\r\n            [TAG.ELEMENTS.SMOKE.name]: 'As you approach the cabin it is impossible to miss the smoke. It is pouring from the chimney of the cabin, but insteads of rising into the air it seems to spill out of the chimney and cascades to the ground where it sits in smoky clumps',\r\n            [TAG.LOCATION.CABIN.name]: 'The cabin is made of stone and sits on the side of the mountain. Thick purplish smoke pours from the chimney. It\\'s not clearly occupied...',\r\n            [TAG.PROPS.COULDRON.name]:'A bubbling couldron sits in the center of the cabin. A large bell-like hood covers it and seems to direct the smoke to the chinmey stack.',\r\n            [TAG.PROPS.BOOKS.name]:'An ornate bookshelf sits on one wall, a glass door covers the shelves. A strange locking mechanism is evident on the door.',\r\n            [TAG.GAME.MAGIC.name]: 'Everything about this area has at least a subtle hint of magic. Some things more than others...',\r\n            [TAG.SCENERY.TREES.name]:   [{\r\n                message: 'The trees around the cabin nestled here in the mountain give way to what appear to be cultivated shrubs. They give off a slight not-unpleasant odor - and the fog appears to avoid them.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: '...I\\'ll collect a few of them. They may come in handy later.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 0\r\n                }}\r\n            ]\r\n        \r\n          \r\n        \r\n        },\r\n\r\n        // POINTED CONVERSATIONS ------------------------------------------------------------------------\r\n\r\n        [ ENCOUNTERS.POINTED_CONVERSATIONS.name]: {\r\n            [CAMPAIGN_TAG.ELVEN_PRIEST.name]: [{\r\n                message: 'You speak with the Elven Priest. He says that the fog arrived at the same time that he began to sense a great evil presense deep within the mountain. ',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Is he about to blame the dwarves? I bet he is. That seems a little...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'cliche?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 1\r\n                    }\r\n                },\r\n                {\r\n                    message: '..racist',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'The elven priest ignores your rudeness and continues to explain that while the Dwarves are probably not personally involved, they have a tunnel nearby that may lead the heroes to the source of this evil and fog.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }},\r\n            ],\r\n            [TAG.LOCATION.TOWER.name]: 'The Grand Temple\\'s Tower is a glittering spire rising high above the trees. The Elven Priest has been informed of the party\\'s arrival, and has asked to chat. He has a stern demeanor, and an odd lisp which makes him hard to understand.',\r\n            [TAG.PROPS.WINE.name]:'You have arrived just at the time of year for the Elven Wine Festival. They invite you to partake and maybe even help judge the competition?',\r\n            [TAG.SCENERY.TREES.name]: 'The trees in this part of the mountain grow tall and wide along a deep ravine. The trees act as vertical homes and temples for the Elves, with winding rope bridges leading high up into the boughs.',\r\n            [TAG.RACE.ELVES.name]: 'The Elves rarely see outsiders and they are firendly - if perhaps over-curious about the party. Elves of all ages and persuasions can be seen among the trees, doing Elvish stuff.',\r\n            [TAG.LOCATION.BUILDINGS.name]:  [{\r\n                message: 'The Elves use the trees as their \"buildings\" and mostly live high above the forest floor.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Notable structures include the Grand Temple, and a beautiful plaza suspended high in the trees that looks ideal for a rest...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }},\r\n                {\r\n                    message: '...what do they use for bathrooms up there? Do they have \"treetop treepotties\"? ',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},{\r\n                    message: '...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }}],\r\n            [TAG.ELEMENTS.FOG.name]: 'Even in the Elven Village the fog is present, but lies close to the ground and so the Elves don\\'t seem much bothered by it. Those who venture onto the ground seem to have holy-charms which ward it off...',\r\n            [TAG.GAME.MYSTERY.name]: [{\r\n                message: '',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 1\r\n                }},\r\n                {\r\n                    message: 'Well too bad. There aren\\'t any Dwarves here in this Dwarven tunnel.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }},\r\n                {\r\n                    message: 'Haha. Oh you are serious. No Dwarves? Well... why not?! What happened to the Dwarves?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},{\r\n                    message: 'It\\'s not clear. The homes lining the tunnel appear to be abandoned, but valuables and goods are clearly visible in shops and forges.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }}],\r\n        },\r\n        [ENCOUNTERS.TUNNEL_23.name]: {\r\n            [TAG.GAME.TRAPS.name]: \"The road leading into the tunnel is paved with large stones and lined with statues. As one of you steps forward, a stone depresses slightly and a large axe swings from the wall. Runes on statues glow menacingly. It is clear there are traps around...\",\r\n            [TAG.RACE.DWARVES.name]: \"Though the tunnel is lined with shops, forges, and Dwarf-Sized homes, there are no Dwarves to be seen. The tunnel appears to be abandoned.\",\r\n            [TAG.GAME.MYSTERY.name]: [{\r\n                message: 'I\\'m looking forward to talking with some Dwarves.',\r\n                speaker: {\r\n                    type: CHAT_TYPE.CHARACTER,\r\n                    id: 1\r\n                }},\r\n                {\r\n                    message: 'Well too bad. There aren\\'t any Dwarves here in this Dwarven tunnel.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }},\r\n                {\r\n                    message: 'Haha. Oh you are serious. No Dwarves? Well... why not?! What happened to the Dwarves?',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},{\r\n                    message: 'It\\'s not clear. The homes lining the tunnel appear to be abandoned, but valuables and goods are clearly visible in shops and forges.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                    }}],\r\n            [TAG.ELEMENTS.FOG.name]: \"The fog trails in a clear stream from farther along the tunnel. It's clearly coming from inside the mountain via whatever is deeper along the tunnel. You must cover your mouths to keep from breathing it in.\",\r\n            [TAG.PROPS.STATUES.name]: \"The boulevard, tunnel, road...whatever you want to call it is lined with tall statues of Dwarven Heroes. Indecipherable Runes can be seen on the base of each statue, although something tells you that you shouldn't get too close...\",\r\n            [TAG.PROPS.RUNES.name]: [{\r\n                message: 'The runes on the statues glow faintly as you approach. They a-',\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'I poke one with a stick!',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 2\r\n                }},\r\n                {\r\n                    message: 'Stop it! No we dont do anything...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 1\r\n                    }},\r\n                    {\r\n                        message: 'Ok fine. I cautiously approach it...holding a stick still but ready to poke',\r\n                        speaker: {\r\n                            type: CHAT_TYPE.PLAYER,\r\n                            id: 2\r\n                    }},\r\n                    {\r\n                        message: 'The runes glow as you approach. If you had to guess, they list the names and titles of the Dwarves on the statues. However, as you lean in to examine one closer there is a mechanical click and the statues axe swings down swiftly. You narrowly avoid being split in twain!',\r\n                        speaker: {\r\n                            type: CHAT_TYPE.DM,\r\n                            id: 0\r\n                        }}\r\n                ],\r\n            [TAG.GAME.EVIL.name]: \r\n            [{\r\n                message: \"The door to a large meeting-hall is open and you can see a large map on the wall inside...\",\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Let\\'s go in. I\\'m going in.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 2\r\n                }},\r\n                {\r\n                    message: 'In Character please...',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: 'What have we here then? Some sort of ye-olde mappe? Let us hither to better espy it-',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 2\r\n                }},\r\n                {\r\n                    message: 'Better. You enter the hall cautiously, but it is clearly not occupied or trapped. The map on the wall appears to be a map of the tunnels just ahead in the mountain. One branch near the entrance has a large black X and a word newly-scribbled in coal: EVIL! ',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                }}\r\n            ],\r\n            [TAG.SOUNDS.CLICKING.name]: \"There's a moment in when the wind in the tunnel dies down and there is a period of relative silence. Thats when you hear it. From somewhere deep ahead in the dark tunnel...a rhythmic clicking sound! Click! Cli-Click!\",\r\n            [TAG.MONSTERS.MONSTERS.name]:  [{\r\n                message: \"You see a dead dwarf lying slumped with his back to a fountain...\",// ,\",\r\n                speaker: {\r\n                    type: CHAT_TYPE.DM,\r\n                    id: 0\r\n                }},\r\n                {\r\n                    message: 'Ew',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.PLAYER,\r\n                        id: 0\r\n                }},\r\n                {\r\n                    message: '...as you approach-',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0,\r\n                       \r\n                },      \r\n                },\r\n                {\r\n                    message: 'WHY WOULD WE APPROACH?! ... Ok sorry. We approach him. Go on. Sorry.',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.CHARACTER,\r\n                        id: 2\r\n                }},\r\n                {\r\n                    message: 'As you approach, you realize that he is still alive - but barely. He weakly lifts his head when you approach and beckons you over with a nod. With a shaky hand he points down the tunnel and whispers... \"MONSTERS!\"',\r\n                    speaker: {\r\n                        type: CHAT_TYPE.DM,\r\n                        id: 0\r\n                }}\r\n            ],\r\n            \r\n            \r\n            \r\n            \r\n           \r\n        },\r\n        [ENCOUNTERS.SMOKEY.name]: {\r\n            [TAG.MONSTERS.MONSTERS.name]: \"\",\r\n            [TAG.SOUNDS.CLICKING.name]: \"\",\r\n            [TAG.GAME.EVIL.name]: \"\",\r\n            [TAG.ELEMENTS.FOG.name]: \"\",\r\n            [TAG.RACE.DWARVES.name]: \"\",\r\n         \r\n        },\r\n    },\r\n}\r\n  \r\n//  [CAMPAIGN_TAG.ELVEN_PRIEST.name]: 'The Elven Priest is waiting to speak with the party...',","import { Campaign } from \"../models\";\r\nimport { cultOfTheDeep } from \"./campaigns/cultOfTheDeep\";\r\nimport { millstoneMystery } from \"./campaigns/millstoneMystery\";\r\nimport { mountainMystery } from \"./campaigns/mountainMystery\";\r\n\r\nexport const CAMPAIGNS: Campaign[] = [\r\n    mountainMystery,\r\n    cultOfTheDeep,\r\n    millstoneMystery,\r\n  \r\n    \r\n    \r\n    // {\r\n    //     name: 'TROLLS',\r\n    //     id: 1,\r\n    //     description: 'Trolls are attacking the town. The mayor has put out a call for heroes.',\r\n    //     icon: 'trolls_1',\r\n    //     startingEncounter:POPMINOU_PARK, \r\n    //     finaleEncounter: TROLLS_FINALE,\r\n    //     theme: TAG.THEMES.HEROIC,\r\n    //     nbCharacters:[2,4], \r\n    // },\r\n    // {\r\n    //     name: 'The Millstone Mystery',\r\n    //     id: 2,\r\n    //     description: 'Shipwreck! Goblins! Adventure awaits!',\r\n    //     icon: 'millstone_mystery_1',\r\n    //     startingEncounter:SEASIDE_TOWN, \r\n    //     finaleEncounter: GOBLIN_GLADE,\r\n    //     theme: TAG.THEMES.ADVENTURE,\r\n    //     nbCharacters:[1,3], \r\n    // }\r\n]; \r\n\r\nexport const NB_EXPECTED_ENCOUNTER_TAGS = 4;","import React, { useEffect, useMemo, useState } from 'react';\r\nimport './notebook.scss';\r\nimport CImage from './cimage';\r\nimport { useCampaignManager, useUiManager } from '../managerContexts';\r\nimport FillBar from './fillBar';\r\nimport { CAMPAIGNS, NB_EXPECTED_ENCOUNTER_TAGS } from '../../consts/campaigns';\r\nimport UiManager from '../../managers/uiManager';\r\nimport MoreInfo from './moreInfoButton';\r\nimport { EncounterEvent, NOTEBOOK_CATEGORY } from '../../models';\r\nimport { EventType } from '@testing-library/react';\r\nimport { ENCOUNTER_EVENT_TYPE } from '../../consts/general';\r\nimport CampaignDisplay from '../campaignDisplay';\r\n\r\nconst EncounterOverview: React.FC = () => {\r\n\r\n    const campaignManager = useCampaignManager();\r\n    const uiManager = useUiManager();\r\n    const [encounter, setEncounter] = useState(campaignManager.getCurrentEncounter());\r\n    const [expectedEncounterTags, setExpectedEncounterTags] = useState(campaignManager.getExpectedEncounterTags());\r\n    const [establishedEncounterTags, setEstablishedEncounterTags] = useState(campaignManager.getResolvedTagsForBranch());\r\n    const [locationTagsEstablished, setLocationTagsEstablished] = useState(campaignManager.getWeightedLocationTagsEstablished());\r\n    const [locationTags, setLocationTags] = useState(campaignManager.getEncounterLocationTags());\r\n    const [completedEvents,setCompletedEvents ] = useState(campaignManager.getCompletedEvents());\r\n    const [campaignModalVisible, setCampaignModalVisible] = useState(false);\r\n    const [canTakeBreak, setCanTakeBreak] = useState(campaignManager.canTakeBreak());\r\n    const [campaignScore, setCampaignScore] = useState(campaignManager.getCampaignScore());\r\n\r\n    const setSceneTags = useMemo(() => encounter?.location.tags.sort() || [], [encounter?.location.tags]);\r\n\r\n\r\n    useEffect(() => {\r\n        const updateEncounterState = () => {\r\n            setCompletedEvents(campaignManager.getCompletedEvents());\r\n            setExpectedEncounterTags(campaignManager.getExpectedEncounterTags());\r\n            setEstablishedEncounterTags(campaignManager.getResolvedTagsForBranch());\r\n            setLocationTags(campaignManager.getEncounterLocationTags());\r\n            setLocationTagsEstablished(campaignManager.getWeightedLocationTagsEstablished());\r\n            setCanTakeBreak(campaignManager.canTakeBreak());\r\n            setEncounter(campaignManager.getCurrentEncounter());\r\n        };\r\n    \r\n        campaignManager.on('encounterUpdated', updateEncounterState);\r\n\r\n        return () => {\r\n            campaignManager.off('updateEncounterState', updateEncounterState);\r\n        };\r\n    }, [encounter]);\r\n\r\n    const sortedSetSceneTags = useMemo(() => {\r\n        return [...setSceneTags].sort((a, b) => a.name.localeCompare(b.name));\r\n    }, [setSceneTags]);\r\n  \r\n    if (!encounter) {\r\n        return <div className=\"encounter-overview-container\">No Encounter</div>;\r\n    }\r\n    const uniqueEventTypes = Array.from(new Set(encounter.events.map(event => event.type)));\r\n    const currentLocationTheme = encounter.location.themes[0];\r\n    const combinedTags = campaignManager.getTagsForEncounter(encounter);\r\n    //const encounterBranches = encounter.branches;\r\n \r\n    const useBreak = () => {\r\n        campaignManager.useBreak();\r\n        setCanTakeBreak(false);\r\n    }\r\n\r\n   \r\n\r\n\r\n    const clickEvent = (index: number) => {\r\n        campaignManager.encounterEventSelected(index);\r\n        completedEvents.push(index);\r\n        setCompletedEvents([...completedEvents]);\r\n    }\r\n\r\n\r\n    const getEventDescription = (eventType: ENCOUNTER_EVENT_TYPE) => {\r\n        switch (eventType) {\r\n           case ENCOUNTER_EVENT_TYPE.COMBAT:\r\n            return 'Combat'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.ROLEPLAY:\r\n            return 'Roleplaying'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.PUZZLE:\r\n            return 'Puzzle'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.PERCEPTION:\r\n            return 'Perception Check'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.TOWN:\r\n            return 'Town Stuff'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.TRAVEL:\r\n            return 'Travel'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.CHALLENGE:\r\n            return 'Skill Challenge'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.TRAP:\r\n            return 'Trap'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.CHARACTER_BACKSTORY:\r\n            return 'Backstory'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.STORY:\r\n            return 'Story'; \r\n          \r\n           case ENCOUNTER_EVENT_TYPE.EXPLORATION:\r\n            return 'Exploration'\r\n        }\r\n    }\r\n\r\n    const eventsList = () => {\r\n        if (encounter.events.length === 0) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"encounter-eventlist\">\r\n                {encounter.events.map((event, index) => (\r\n                    <div \r\n                        key={index} \r\n                        className={`event-entry ${event.type} ${completedEvents.includes(index) ? 'completed' : ''}`}\r\n                        onClick={() => clickEvent(index)}\r\n                    >\r\n                        <div className=\"event-icon\">\r\n                            <CImage imageId={uiManager.getEventIcon(event.type)} />\r\n                        </div>\r\n                        <div className=\"event-name\">{event.name}</div>\r\n                        {/* <div className=\"event-description\">{getEventDescription(event)}</div> */}\r\n                       \r\n                        {event.flavorText && (\r\n                            <div className=\"event-flavor-text\">{event.flavorText}</div>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    \r\n  const campaignDisplay = () => {\r\n    return (\r\n      <div className=\"session-control-campaign\">\r\n          <div className={`campaign-display header ${CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].theme} icon-only`} onClick={() => setCampaignModalVisible(true)}> \r\n          <div className=\"campaign-score-info overview\">\r\n              <div className=\"score-label\">CAMPAIGN SCORE</div>\r\n              <div className=\"score-value\">{campaignScore}</div>\t\r\n            </div>\r\n            <div className={'campaign-info left'}>\r\n              <div className=\"campaign-info\">{CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].name}</div>\r\n              <div className=\"campaign-info hooks\">PLOT HOOKS</div>\r\n              <div className=\"circle-display\">\r\n                {Array.from({ length: 4 }, (_, index) => (\r\n                  <div\r\n                    key={index+'circle'}\r\n                    className={`circle ${index < campaignManager.getCampaignProgress() ? 'filled' : ''}`}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"campaign-icon solo\">\r\n              <CImage imageId={CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].icon} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  const getReadiness = (nbExpectedTags: number) => {\r\n    if(nbExpectedTags=== NB_EXPECTED_ENCOUNTER_TAGS)    {\r\n        return \"WELL PREPARED\";\r\n    }else if(nbExpectedTags === NB_EXPECTED_ENCOUNTER_TAGS - 1) {\r\n        return \"READY\";\r\n    }else if(nbExpectedTags === NB_EXPECTED_ENCOUNTER_TAGS - 2) {\r\n        return \"INFORMED\";\r\n    }\r\n\r\n    return \"NOT READY\";\r\n  }\r\nconst hackToBranch = ( branch: any) => {\r\n    campaignManager.advanceEncounter(branch);\r\n}\r\n\r\nconst advanceEncounter = () => {\r\n    campaignManager.advanceEncounter();\r\n}\r\n\r\n    return (\r\n        <div className=\"encounter-overview-container\">\r\n           \r\n            <div className=\"encounter-icon-container\">\r\n                <CImage imageId={encounter.icon} />\r\n            </div>\r\n            {!campaignModalVisible && (\r\n                <div className={`encounter-overview-nonmodal `}>\r\n                    <div className = {`encounter-overview-exposition-button`} onClick={() => campaignManager.handleExpositionClicked()}>\r\n                        <div className=\"encounter-overview-exposition-label\">\r\n                            EXPOSITION\r\n                        </div>\r\n                        <div className=\"encounter-overview-exposition-effect\">\r\n                            {campaignManager.getEncounterExpositionText()}\r\n                        </div>\r\n                    </div>\r\n                    <div className = {`encounter-overview-break ${canTakeBreak ? '' : ' hidden'}`} onClick={useBreak}>\r\n                        <div className=\"encounter-overview-break-label\">\r\n                            BREAK\r\n                        </div>\r\n                        <div className=\"encounter-overview-break-effect\">\r\n                            Reduce exhaustion, tension, attention\r\n                        </div>\r\n                    </div>\r\n            \r\n                     {campaignDisplay()}\r\n                    <div className=\"encounter-overview-contents\">\r\n                \r\n            \r\n                \r\n                <div className = \"encounter-overview-info-column\">\r\n                        <div className=\"encounter-overview-encounter-info\">\r\n                            <div className=\"encounter-header\">\r\n                                <MoreInfo callback={() => uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.ENCOUNTER, encounter)} classname=\"encounter\"/>\r\n                                {encounter.name}\r\n                            </div>\r\n                            {<FillBar totalSegments={establishedEncounterTags.length + expectedEncounterTags.length} filledSegments={establishedEncounterTags.length} theme={currentLocationTheme} label={`encounter elements`} />}\r\n                            <div className=\"encounter-overview-encounter-info-tags-row\">\r\n                                \r\n                                <div className=\"encounter-overview-encounter-info-tags\">\r\n                                    {establishedEncounterTags.map((tag, index) => (\r\n                                        <div key={`established-${index}`} className={`encounter-flavor-tag text-pill type-location`}>\r\n                                            {tag.name}\r\n                                        </div>\r\n                                    ))}  \r\n                                </div>\r\n                                <div className=\"encounter-overview-encounter-info-tags\">\r\n                                    {expectedEncounterTags.map((tag, index) => (\r\n                                        <div key={`expected-${index}`} className={`encounter-flavor-tag text-pill`}>\r\n                                            {tag.name}\r\n                                        </div>\r\n                                    ))}  \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                \r\n                    <div className = \"encounter-overview-info-column\">\r\n                        <div className=\"encounter-overview-encounter-info\">\r\n                            <div className=\"encounter-header\">\r\n                                <MoreInfo callback={() => uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.ENCOUNTER, encounter)} classname=\"location\"/>\r\n                                {encounter.location.name}\r\n                            </div>\r\n                            <div className=\"encounter-overview-encounter-info\">\r\n                                {<FillBar totalSegments={locationTags.length} filledSegments={locationTagsEstablished} theme={currentLocationTheme} label={`LOCATION ELEMENTS`} />}\r\n                                <div className=\"encounter-overview-encounter-info-tags-row\">\r\n                                    <div className=\"encounter-overview-encounter-info-tags\">\r\n                                        {sortedSetSceneTags.map((tag, index) => (\r\n                                            <div key={index} className={`encounter-flavor-tag text-pill  ${campaignManager.getCollectedLocationTags().includes(tag) ? 'type-location': ''}`}>\r\n                                                {tag.name}\r\n                                            </div>\r\n                                        ))}  \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"encounter-overview-events-container\">\r\n                    <div className=\"encounter-overview-event-header\">\r\n                        ENCOUNTER EVENTS\r\n                    </div>\r\n                    <div className=\"encounter-overview-events-row\">\r\n                        <div className=\"encounter-overview-legend\">\r\n                        {uniqueEventTypes.map((event, index) => (\r\n                            <div key={index} className=\"event-legend-entry\">\r\n                                <div className=\"event-icon\">\r\n                                    <CImage imageId={uiManager.getEventIcon(event)} />\r\n                                </div>\r\n                                \r\n                                <div className=\"event-name\">{getEventDescription(event)}</div>\r\n                                {/* <div className=\"event-description\">{getEventDescription(event)}</div> */}\r\n                            </div>\r\n                        ))}\r\n                        </div>\r\n                        {eventsList()}\r\n                    </div>\r\n                </div>\r\n            {encounter.branches && encounter.branches.length > 0 && (\r\n                <div className=\"encounter-overview-bottom-container\">\r\n                    \r\n                    \r\n                        <div className=\"encounter-overview-upcoming-branches-container\">\r\n                            <div className={`encounter-overview-upcoming-branches-header`}>UPCOMING ENCOUNTERS</div>\r\n                            <div className=\"encounter-overview-upcoming-upcoming-branches\">\r\n                                {encounter.branches.map((branch, index) => (\r\n                                <div key={index} className={`encounter-overview-upcoming-branch text-theme-${branch.location.themes[0]}`}>\r\n                                    <div className=\"encounter-overview-upcoming-branch-header\">\r\n                                    <div className=\"encounter-overview-upcoming-travel-header-text encounter\" onClick={() => hackToBranch(branch)}>\r\n                                                {branch.name}\r\n                                        </div>\r\n                                        <div className=\"encounter-overview-upcoming-travel-header-text\">\r\n                                                {branch.location.name}\r\n                                        </div>\r\n                                    </div>\r\n                                        <FillBar totalSegments={4} filledSegments={Math.min(4 ,campaignManager.getExpectedTagsForBranch(branch.name).length)}  theme={branch.location.themes[0]} label={branch.name} />\r\n                                        \r\n                                \r\n                                    <div className=\"encounter-overview-upcoming-branch-tags\">\r\n                                        {(() => {\r\n                                            const expectedTags = campaignManager.getExpectedTagsForBranch(branch.name);\r\n                                            const authoredTags = campaignManager.getAuthoredEncounterTags(branch.name).filter((tag) => !expectedTags.includes(tag));\r\n                                            const totalSlots = NB_EXPECTED_ENCOUNTER_TAGS - (authoredTags.length + expectedTags.length);\r\n                                            const fillerTags = Array(totalSlots)\r\n                                              .fill({ name: \"?\" });\r\n                                              return [...authoredTags.map((tag, index) => (\r\n                                                <div key={`authored-${index}`} className={`encounter-flavor-tag text-pill expected`}>\r\n                                                  {tag.name}\r\n                                                </div>\r\n                                              )),\r\n                                              ...expectedTags.map((tag, index) => (\r\n                                                <div key={`expected-tag-${index}`} className={`encounter-flavor-tag text-pill type-foreshadowing`}>\r\n                                                {tag.name}\r\n                                                </div>\r\n                                            )), ...fillerTags.map((tag, index) => (\r\n                                                <div key={index} className={`encounter-flavor-tag text-pill type-foreshadowing expected large-text`}>\r\n                                                {tag.name}\r\n                                            </div>\r\n                                            ))]\r\n                                        })()}\r\n                                    </div>\r\n                                    <div className=\"encounter-overview-upcoming-footer\">\r\n                                        <div className=\"encounter-overview-upcoming-travel-footer-text\">\r\n                                            {getReadiness(campaignManager.getExpectedTagsForBranch(branch.name).length)}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"encounter-overview-advance-container\">\r\n                            <div className=\"encounter-overview-advance-text\">ADVANCE ENCOUNTER</div>\r\n                            <div className=\"encounter-overview-advance-button\" onClick={advanceEncounter}>\r\n                            <div className=\"encounter-overview-advance-button-text\">PLAYERS CHOOSE</div>\r\n                            <div className=\"encounter-overview-advance-info\">{campaignManager.getEncounterAdvanceReadinessText()}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                </div>\r\n            )}\r\n        \r\n        {campaignModalVisible && (\r\n            <CampaignDisplay\r\n                campaign = {CAMPAIGNS[campaignManager.getCurrentCampaign() || 0]}\r\n                collapsed = {false}\r\n                onAccept = {() => setCampaignModalVisible(false)}\r\n                acceptText = 'Close'\r\n            />\r\n        )}\r\n        \r\n        </div>\r\n        \r\n       \r\n    );\r\n};\r\n\r\nexport default EncounterOverview;","\n\nimport './gameRoom.scss';\n\nimport { Encounter, EncounterFlavorTag, Tag } from '../../models';\nimport { useState } from 'react';\nimport { useCampaignManager, useUiManager } from '../managerContexts';\n\n\n\ninterface GameEncounterIntroProps {\n\tencounter: Encounter;\n}\n\nconst GameEncounterIntro: React.FC<GameEncounterIntroProps> = ({ encounter }) => {\n\n\tconst uiManager = useUiManager();\n\tconst campaignManager = useCampaignManager();\n\tconst [expectedEncounterTags, ] = useState<Tag[]>(campaignManager.getExpectedEncounterTags());\n\tconst [locationsTags, ] = useState<Tag[]>(campaignManager.getEncounterLocationTags());\n\tconst [dmTricks, ] = useState<EncounterFlavorTag[]>(campaignManager.getDmTricks());\n\n\t  const instructions_plot = \"Keep your players thinking about what's to come by giving clues about upcoming encounters, and the Campaign Plot\";\n\t  const instructions_expected_prev = \"Based on what you've told them about the current situation in Sagewood, they expect to encounter:\";\n\t  const instructions_set_scene = 'Most of this encounter takes place in Sagewood Tavern. Describe the scene to them by exposing the following elements:';\n\t  const dm_tricks = 'Elements you have pre readied (miniatures, maps, etc.) to use for improvisation:';\n\n\n\t  const gameElements = [campaignManager.getCampaignName(), ...(campaignManager.getCurrentEncounter()?.branches?.map((branch) => branch.name) || [])];\n\n\n\n\t  return (\n\t\t<div className=\"encounter-intro-container\">\n\t\t  \t<div className=\"encounter-intro-title\">{encounter.name}</div>\n\t\t  \t<div className=\"encounter-intro-instructions\">{instructions_set_scene}</div>\n\t\t\t<div className=\"encounter-intro-location\">{encounter.location.name}</div>\n\t\t\n\t\t\t<div className=\"encounter-intro-tags location\">\n\t\t\t{locationsTags.map((tag, index) => (\n\t\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={`encounter-flavor-tag text-pill type-location`}\n\t\t\t\t>\n\t\t\t\t{tag.name}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t</div>\n\t\n\t\t<div className=\"encounter-intro-instructions expect\">{instructions_expected_prev}</div>\n\t\t{expectedEncounterTags.length > 0 &&\t(\n\t\t\t<div>\n\t\t \n\t\t\t<div className=\"encounter-intro-tags expected\">\n\t\t\t{expectedEncounterTags.map((tag, index) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={index}\n\t\t\t\t\tclassName={`encounter-flavor-tag text-pill expected`}\n\t\t\t\t>\n\t\t\t\t\t{tag.name}\n\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)}\n\n\t\t<div className=\"encounter-intro-instructions plot\">{instructions_plot}</div>\n\t\t  <div className=\"encounter-intro-tags plot\">\n\t\t  {gameElements.map((name, index) => (\n\t\t\t  <div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={`text-encounter text-theme-${campaignManager.getColorForEncounterByName(name)} `}\n\t\t\t  >\n\t\t\t<u>\t{name}</u>\n\t\t\t  </div>\n\t\t\t))}\n\n\t\t  </div>\n\t\t \n\t\t\n\t\t\n\t\t\n\t  </div>\n\t  );\n\t};\n\nexport default GameEncounterIntro;","import { EncounterEvent } from \"../../models\";\n\n// Create new EncounterEvent component\ninterface EncounterEventDisplayProps {\n  event: EncounterEvent;\n  \n}\n\nconst EncounterEventDisplay: React.FC<EncounterEventDisplayProps> = ({\n  event,\n}) => {\n  return (\n    <div className={`encounter-event`}>\n      <div className=\"event-content\">\n        {event.name}\n      </div>\n    </div>\n  );\n};\n\nexport default EncounterEventDisplay;","import { useEffect, useState } from \"react\";\nimport { Encounter, EncounterEvent } from \"../../models\";\nimport { useCampaignManager, useUiManager } from \"../managerContexts\";\nimport EncounterEventDisplay from \"./encounterEventDisplay\";\n\n\ninterface GameEncounterOverviewProps {\n    encounter: Encounter;\n}\n\n\nconst GameEncounterOverview: React.FC<GameEncounterOverviewProps> = ({encounter}) => {\n\n  const [events, setEvents] = useState<EncounterEvent[]>(encounter.events);\n  const [update, setUpdate] = useState(false);\n  const campaignManager = useCampaignManager();\n  const uiManager = useUiManager();\n\n\n \n\n  const renderEventColumn = () => {\n\n    return events.map((event, eventIndex) => (\n          <EncounterEventDisplay\n            key={`${eventIndex}`}\n            event={event}\n          />\n        ))}\n      \n\n  return (\n        <div className='table-encounter-divisions'>\n          <div className=\"event-column open\">\n            {renderEventColumn()}\n            <div className=\"event-column-label\">\n               \n            </div>\n          </div>\n         \n        </div>\n  );\n};\n\nexport default GameEncounterOverview;","import { FlavorTagTheme } from \"../../models\";\n\ninterface RangeCardProps {\n    min: number;\n    max: number;\n    totalSegments: number;\n    isGrim?: boolean;\n  }\n  \n  const RangeCard: React.FC<RangeCardProps> = ({ min, max, totalSegments, isGrim }) => {\n    \n    max++;\n    const leftPosition = ((min / totalSegments) * 100) -1;\n    const width = (((max - min) / totalSegments) * 100) +1.5;\n  \n    return (\n     \n      <div \n        className={`range-card`} \n        style={{\n          left: `${leftPosition}%`,\n          width: `${width}%`\n        }}\n      >\n         <div className=\"combat-bar-label peril\">PERIL</div>\n         <div className=\"combat-bar-label stress\">TENSION</div>\n         <div className=\"combat-bar-label engagement\">{isGrim ? 'GRIM ' : ' '}SCORE</div>\n      </div>\n    );\n  };\n\n  export default RangeCard;","import React from 'react';\nimport CImage from './cimage';\n\ninterface NumberDieProps {\n    baseDie: number;\n    displayNumber: number | string;\n    onClick?: () => void;\n}\n\nconst NumberDie: React.FC<NumberDieProps> = ({baseDie, displayNumber, onClick}) => {\n    \n\n    const imageId = `number_die_${baseDie}`;\n   \n    \n    return ( \n        <div className=\"number-die\" onClick={ onClick }>\n            <CImage imageId={imageId} />\n            <div className = \"number-die-text\">\n            {displayNumber}\n            </div>\n      </div>\n    )\n};\n    \nexport default NumberDie;\n","import React, { useState } from 'react';\nimport CombatBar from './combatBar';\nimport NumberDie from '../UI/numderDie';\nimport { useAppManager, useCampaignManager } from '../managerContexts';\nimport { CombatState, Tag } from '../../models';\n\n\ninterface CombatModifiersProps {\n  modifierCallback: (modifier: number, side: 'heroes' | 'enemies', flavor :Tag, index: number) => void;\n    side:'heroes' | 'enemies';\n    combatState: CombatState;\n    disabled?: boolean;\n  }\n  \n  const CombatModifiers: React.FC<CombatModifiersProps> = ({ modifierCallback, side, combatState, disabled }) => {\n    \n    const campaignManager = useCampaignManager();\n    const appManager = useAppManager();\n    const combatManager = appManager.getCombatManager();\n    const [locationTags, setLocationTags] = useState(campaignManager.getCollectedLocationTags(false));\n    // usedTags should ONLY keep track of the used-tags for THIS component, because it determines if THIS component activated it. \n  \n   \n    \n    const dmDie = () => {\n      campaignManager.spendDMPoints(1);\n      modifierCallback(1, side, {name: 'DM'}, 0);\n    }\n\n    const onTagClick = (index: number) => {\n      if(!combatState.usedTags) {\n        combatState.usedTags = locationTags.map(() => false);\n      }\n      const tagSet = !combatState.usedTags[index];\n      modifierCallback(tagSet ? 1 : -1, side, locationTags[index], index);\n    }\n\n    const getLocationTags = () => {\n\n      return (\n        <div className={`location-tags ${side}`}>\n         {locationTags.map((tag, index) => {\n          return (\n            <div key={index} className={`text-pill type-location ${combatState.usedTags[index] ? 'expected' : ''}`} onClick={()=>onTagClick(index)}>\n              {tag.name}\n            </div>\n          )})}\n        </div>\n      )\n\n    }\n\n\n\n    return (\n      <div className={`combat-modifiers ${side}`}>\n        <div className=\"combat-modifiers-label\">\n          Assist {side === 'heroes' ? 'Heroes' : 'Enemies'} \n        </div>\n        <div className = \"combat-modifier-row\">\n          <div className=\"combat-modifiers-tags\">\n            {getLocationTags()}\n          </div>\n          <div className = {`combat-modifiers-die ${disabled ? 'disabled' : ''}`}>\n            <NumberDie \n              baseDie={20}\n              displayNumber={'1'}\n              onClick={() => dmDie()}/>\n          </div>\n        </div>\n       \n      </div>\n    )\n  };\n\n  export default CombatModifiers;","import React, { useState } from 'react';\nimport NumberDie from '../UI/numderDie';\nimport { CombatState, Tag } from '../../models';\n\n\ninterface AddCombatantsProps {\n    combatantCallback: (side: string, combatant :Tag, index: number) => void;\n    side:'heroes' | 'enemies';\n    combatState: CombatState;\n  }\n  \n  const AddCombatants: React.FC<AddCombatantsProps> = ({ combatantCallback, side, combatState }) => {\n    \n    const onFriendlyTagClick = (index: number) => {\n      combatantCallback(side, combatState.friendlyTags[index], index);\n    }\n\n    const onHostileTagClick = (index: number) => {\n      combatantCallback(side, combatState.hostileTags[index], index);\n    }\n\n    const getCombatantTags = () => {\n\n\n     if(side === 'heroes' && combatState.friendlyTags.length <= 0) {\n      return (\n        <div className=\"combatant-tags\">\n          <div className=\"none-available\">No valid established NPC Races available.</div>\n        </div>\n      )\n     } else if(side === 'enemies' &&  combatState.friendlyTags.length <= 0 && combatState.hostileTags.length <= 0) {\n      return (\n        <div className=\"combatant-tags\">\n          <div className=\"none-available\">No valid established Enemy Races available.</div>\n        </div>\n      )\n    }\n\n\n\n      return (\n        <div className={`combatant-tags ${side}`}>\n         {combatState.friendlyTags.map((tag, index) => {\n          return (\n            <div key={index} className={`text-pill combatant ${side}`} onClick={()=>onFriendlyTagClick(index)}>\n              {tag.name}\n            </div>\n          )})}\n           {side === \"enemies\" && combatState.hostileTags.map((tag, index) => {\n          return (\n            <div key={index} className={`text-pill combatant ${side}`} onClick={()=>onHostileTagClick(index)}>\n              {tag.name}\n            </div>\n          )})}\n        </div>\n      )\n    }\n\n    return (\n      <div className={`combat-combatants ${side}`}>\n        <div className=\"combat-combatants-label\">\n          {side === 'heroes' ? 'Add allied Combatants' : 'Swap Enemies'} \n        </div>\n        <div className = \"combat-combatants-row\">\n          <div className=\"combat-combatants-tags\">\n            {getCombatantTags()}\n          </div>\n        </div>\n       \n      </div>\n    )\n  };\n\n  export default AddCombatants;","import { useEffect, useRef, useState } from \"react\";\r\nimport { useAppManager } from \"../managerContexts\";\r\nimport { CombatState, Tag } from \"../../models\";\r\nimport RangeCard from \"./rangeCard\";\r\nimport CombatModifiers from \"./combatModifiers\";\r\nimport ModeContainer from \"../modecontainer\";\r\nimport AddCombatants from \"./addCombatants\";\r\nimport { THEME_FILLED_REQ } from \"../../consts/general\";\r\n\r\n\r\ninterface CombatBarProps {\r\n    combatState: CombatState;\r\n}\r\n\r\n\r\nconst dangerLabels_default = [ 0, 0, 5, 10, 15, 25, 50, 75, 100];\r\nconst stressLabels_default = [ 0, 0, 1, 5, 5, 5, 10, 10, 20];  \r\nconst engagementBase = [-10, -1, +5, +10, +20, +10, +5, -1, -5];\r\n\r\nconst CombatBar: React.FC<CombatBarProps> = ({combatState}) => {\r\n\r\n\r\n   \r\n    const combatBarArrayLength = engagementBase.length;\r\n    const appManager = useAppManager();\r\n    const combatManager = appManager.getCombatManager();\r\n    const partyManager = appManager.getPartyManager();\r\n    const chatManager = appManager.getChatManager();\r\n\r\n    const campaignManager = appManager.getCampaignManager();\r\n    \r\n    const getRange = (combatState: CombatState) => {\r\n        const riskCenter = combatState.riskCenter;\r\n        const range = [Math.max(riskCenter - combatState.nbEnemies, 0), Math.min(riskCenter + combatState.nbEnemies, combatBarArrayLength-1)];\r\n        return range;\r\n    }\r\n    \r\n    const themes = campaignManager.getCollectedThemes();\r\n\r\n    const [stressLabels, setStressLabels] = useState(stressLabels_default);\r\n    const [dangerLabels, setDangerLabels] = useState(dangerLabels_default);\r\n    const [engagementLabels, setEngagementLabels] = useState<number[]>([]);\r\n  //  const [enemy, setEnemy] = useState(ENEMIES[combatState.enemyType.name]);\r\n    const [range, setRange] = useState(getRange(combatState));\r\n\r\n    const [highlightedSegment, setHighlightedSegment] = useState<number | null>(null);\r\n    const [isAnimating, setIsAnimating] = useState(false);\r\n    const [combatResultIndex, setCombatResultIndex] = useState<number | null>(null);\r\n    const [randomResult, setRandomResult] = useState<number | null>(null);\r\n\r\n    const applyGrimEffect = !!(themes.grim && themes.grim === THEME_FILLED_REQ);\r\n\r\n    const labelsRef = useRef({\r\n        danger: dangerLabels,\r\n        stress: stressLabels,\r\n        engagement: engagementLabels\r\n      });\r\n      \r\n      useEffect(() => {\r\n        labelsRef.current = {\r\n          danger: dangerLabels,\r\n          stress: stressLabels,\r\n          engagement: engagementLabels\r\n        };\r\n      }, [dangerLabels, stressLabels, engagementLabels]);\r\n    useEffect(() => {\r\n        combatManager.setCombatBarAnimating(isAnimating);\r\n        if(!isAnimating) {\r\n           console.log(\"DONE ANIMATING\" + combatResultIndex + \" : \" + combatState.round.phase);\r\n           switch(combatState.round.phase) {\r\n                case 'balance':\r\n                    const newRange = getRange(combatState)\r\n                    console.log(\"NEW RANGE: \" + newRange);\r\n                    setRange(newRange);\r\n                    break\r\n                case 'setup':\r\n                    if(randomResult !== null) {\r\n                        combatManager.modifyCombatRangeCenter(randomResult);\r\n                        setCombatResultIndex(null);\r\n                    }\r\n                break;\r\n                case 'heroes_attack':\r\n                    break;\r\n                case 'heroes_resolve':\r\n                  \r\n                    break;\r\n                case 'enemies_attack':\r\n                    // apply score and tension now\r\n                    \r\n                    break;\r\n               \r\n              \r\n                case 'enemy_resolve_damage':\r\n                     \r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }, [isAnimating]);\r\n\r\n\r\n    useEffect(() => {\r\n        const handleCombatStateChange = (newCombatState: CombatState) => {\r\n          if(combatManager) {\r\n            setPeril(combatState);\r\n           \r\n            setEngagement(combatState);\r\n            const newRange = getRange(combatState)\r\n            setRange(newRange);\r\n          }\r\n        };\r\n    let blah = false; \r\n    const handleCombatPhaseChange = (newCombatState: CombatState) => {\r\n        console.log(\"Phase change ! \" + newCombatState.round.phase);\r\n        switch(newCombatState.round.phase) {\r\n            case 'setup':   \r\n            if(!isAnimating) { \r\n               \r\n                console.log(\"WHATSUUUUP \"+ blah)\r\n                 blah = true; \r\n                setRandomResult(pickRandomInRange([0, combatBarArrayLength - 1]));\r\n                setHighlightedSegment(null);\r\n            }\r\n                break;\r\n            case 'heroes_attack':\r\n              \r\n                break;\r\n         case 'heroes_resolve':\r\n             \r\n                break;\r\n            case 'enemies_attack':\r\n                setRandomResult( pickRandomInRange(getRange(newCombatState)));\r\n             \r\n                break;\r\n           \r\n        \r\n            case 'enemy_resolve_damage':\r\n           \r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        };\r\n        setEngagement(combatState);\r\n        setPeril(combatState);\r\n        combatManager.on('combatStateChange', handleCombatStateChange);\r\n        combatManager.on('combatPhaseChange', handleCombatPhaseChange);\r\n       \r\n        \r\n        return () => {\r\n          combatManager.removeAllListeners('combatStateChange');\r\n          combatManager.removeAllListeners('combatPhaseChange');\r\n        };\r\n      }, [combatManager]);\r\n    \r\n    const setPeril = (combatState: CombatState) => {\r\n        // Determine how strong the enemy is versus the party\r\n        const enemyStrength = combatState.enemyStats.attack[0];\r\n        const partyStrength = partyManager.getPartyStrength();\r\n\r\n        const riskArray = [0,1,5,10,25,50,75,80,90,100]\r\n        const dangerCoefficient = (enemyStrength*enemyStrength) / (partyStrength*partyStrength);\r\n\r\n        const perilLabels = riskArray.map((risk, index) => {\r\n            let calcRisk = Math.ceil(risk * dangerCoefficient);\r\n            \r\n            if(combatState.nbEnemies === 1) {\r\n                calcRisk *= .8;    \r\n            } else if(combatState.nbEnemies === 3) {\r\n                calcRisk *= 1.6;\r\n            }\r\n            \r\n            if(index === 9) {\r\n                calcRisk *= 2;\r\n            }  \r\n            if(index === 8) {\r\n                calcRisk *= 1.5;\r\n            }\r\n\r\n            // round up to nearest 5\r\n            calcRisk = Math.ceil(calcRisk/5)*5;\r\n\r\n            //Max 100\r\n            calcRisk = Math.min(calcRisk, 100);\r\n            return calcRisk;\r\n        });\r\n        \r\n        setDangerLabels(perilLabels);\r\n        setStress(perilLabels)\r\n        \r\n    }\r\n\r\n    const setPerilResult = (result: number) => {\r\n        combatManager.setPerilResult([\r\n          result, \r\n          labelsRef.current.danger[result], \r\n          labelsRef.current.stress[result], \r\n          labelsRef.current.engagement[result]\r\n        ]);\r\n      };\r\n\r\n    const setStress = (perilLabels: number[]) => {\r\n        const stressArray: number[] = [];\r\n        perilLabels.forEach((label, index) => {\r\n            const stress = getStressForPeril(label);\r\n            stressArray.push(stress);\r\n        });\r\n        setStressLabels(stressArray);\r\n    }\r\n\r\n    const getStressForPeril = (peril: number) => {\r\n        let stress = 0;\r\n        if(peril <= 10) {\r\n            stress = 1;\r\n        } else if(peril <= 25) {\r\n            stress = 5;\r\n        } else if(peril <= 40) {\r\n            stress = 10;\r\n        } else if(peril <= 50) {\r\n            stress = 15;\r\n        } else if(peril <= 80) {\r\n            stress = 20;\r\n        } else if(peril <= 90) {\r\n            stress = 25;\r\n        } else {\r\n            stress = 30;\r\n        }\r\n        return stress;\r\n    }\r\n\r\n    const setEngagement = (combatState: CombatState) => {\r\n        const engagementArray:number[] = [];\r\n        let maxEngagement = 0;\r\n        engagementBase.forEach((base, index) => {\r\n            const nbEnemenyCoefficient = .5 * combatState.nbEnemies;\r\n            const basicEngagement = base * nbEnemenyCoefficient\r\n            // round to lower int if negative or higher int if positive\r\n            let roundedEngagement = basicEngagement < 0 ? Math.floor(basicEngagement) : Math.ceil(basicEngagement);\r\n            if(roundedEngagement > maxEngagement) {\r\n                maxEngagement = roundedEngagement;\r\n               \r\n            }else if(applyGrimEffect) {\r\n                roundedEngagement = maxEngagement;\r\n            }\r\n            engagementArray.push(roundedEngagement);\r\n        });\r\n        setEngagementLabels(engagementArray);\r\n    }\r\n\r\n\r\n    const pickRandomInRange = (range:number[]) => {\r\n        const result = Math.floor(Math.random() * (range[1] - range[0] + 1)) + range[0];\r\n        animateRangePicker(range, result);\r\n        setCombatResultIndex(result);\r\n        setPerilResult(result);\r\n        return result;\r\n      }\r\n\r\n      \r\n      const generateColorsFromLabels = (numbers: number[], label: 'danger' | 'stress' | 'engagement'): string[] => {\r\n        const min = Math.min(...numbers);\r\n        const max = Math.max(...numbers);\r\n        return numbers.map(n => combatManager.generateColorFromValue(n, min, max, label));\r\n      };\r\n      \r\n      const dangerColors = generateColorsFromLabels(dangerLabels, 'danger');\r\n      const stressColors = generateColorsFromLabels(stressLabels, 'stress');\r\n      const engagementColors = generateColorsFromLabels(engagementLabels, 'engagement');\r\n\r\n    const getSegments = (label: 'danger' | 'stress' | 'engagement') => {\r\n        const segmentColors = label === 'danger' ? dangerColors : label === 'stress' ? stressColors : engagementColors;\r\n        const labels = label === 'danger' ? dangerLabels : label === 'stress' ? stressLabels : engagementLabels;\r\n        const initialSetup = combatState.round.phase === 'balance' || (combatState.round.phase === 'setup' && isAnimating);\r\n        const segments = Array.from({ length: combatBarArrayLength }, (_, index) => (\r\n            <div\r\n            key={index}\r\n            className={\r\n                `combat-bar-segment  \r\n                ${initialSetup || (index >= range[0] && index <= range[1]) ? 'in-range' : ''}\r\n                ${index === highlightedSegment ? 'highlighted' : ''}\r\n                ${isAnimating ? 'animating' : ''}\r\n                ${combatResultIndex === null ? '' : index === combatResultIndex ? 'positive-result' : 'negative-result'}\r\n            `}\r\n            style={{ \r\n                backgroundColor: segmentColors[index] || '',\r\n                color: (label === 'stress' && labels[index] > 10) ? '#777777ff' : ''\r\n            }}\r\n            >{(label!=='danger' &&  labels[index] > 0) ? '+' : ''}{labels[index]}{(label==='danger') ? '%':''}</div>\r\n        ));\r\n        return segments;\r\n    }\r\n\r\n    const HACKYHACKHACK = 8; // size of peril array\r\n    \r\nconst animateRangePicker = (range: number[], finalNumber: number) => {\r\n    //console.log(`Animating from ${range[0]} to ${range[1]} towards ${finalNumber}`);\r\n    setIsAnimating(true);\r\n    let direction = 1;\r\n    let currentIndex = range[0];\r\n    let delay = 50; // Start fast\r\n    \r\n    const animate = () => {\r\n      setHighlightedSegment(currentIndex);\r\n      if(combatManager.getCombatState()?.round.phase === 'setup') {\r\n\r\n        setRange([Math.max(0, currentIndex - combatState.nbEnemies),Math.min(HACKYHACKHACK, currentIndex + combatState.nbEnemies)]);\r\n    }\r\n      //console.log(`Animating to ${finalNumber} from ${currentIndex}`);\r\n      if (delay < 300) { // Still moving fast\r\n        currentIndex += direction;\r\n        \r\n        if (currentIndex >= range[1]) {\r\n          direction = -1;\r\n          currentIndex = range[1];\r\n        } else if (currentIndex <= range[0]) {\r\n          direction = 1;\r\n          currentIndex = range[0];\r\n        }\r\n        \r\n        delay *= 1.10; // Slow down gradually\r\n        setTimeout(animate, delay);\r\n      } else {\r\n        if(currentIndex !== finalNumber) {\r\n            currentIndex += direction;\r\n            if (currentIndex >= range[1]) {\r\n                direction = -1;\r\n                currentIndex = range[1];\r\n              } else if (currentIndex <= range[0]) {\r\n                direction = 1;\r\n                currentIndex = range[0];\r\n              }\r\n            setTimeout(animate, delay);\r\n        }else{\r\n        // Final movement to target number\r\n        setHighlightedSegment(finalNumber);\r\n        setIsAnimating(false);\r\n      }\r\n    }\r\n    };\r\n    \r\n    animate();\r\n  };\r\n\r\n    const combatModifiersCallback = (modifier: number, side: 'heroes' | 'enemies', flavor: Tag, index:number) => {\r\n        combatManager.combatModifiersCallback(modifier, side, flavor, index);\r\n    }\r\n\r\n    const combatantCallback = (side: string, combatant: Tag, index: number) => {\r\n        combatManager.combatantCallback(side, combatant, index);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"combat-peril-row\">\r\n            <div className={`combat-bar-modifiers left ${combatState.round.phase === 'setup' ? 'show-arrow' : ''} ` }>\r\n                {combatState.round.phase === 'balance' ? (\r\n                    <AddCombatants\r\n                        combatantCallback = {combatantCallback}\r\n                        side={\"heroes\"}\r\n                        combatState={combatState}\r\n                        />\r\n                    ) :\r\n                    combatState.round.phase === 'setup' ? (\r\n                    <CombatModifiers\r\n                        modifierCallback={combatModifiersCallback}\r\n                        side={\"heroes\"}\r\n                        combatState={combatState}\r\n                        disabled={isAnimating}\r\n                        />\r\n                    ) : null}\r\n            </div>\r\n            <div className=\"combat-bar-container\">\r\n            \r\n                <div className = \"combat-bar\">\r\n                    <div className=\"combat-bar-range-indicator\">\r\n                        <RangeCard min={range[0]} max={range[1]} totalSegments={combatBarArrayLength} isGrim={applyGrimEffect} />\r\n                </div>\r\n                    <div className=\"segment-container danger\">\r\n                        {getSegments('danger')}\r\n                    </div>\r\n                    <div className=\"segment-container stress\">\r\n                        {getSegments('stress')}\r\n                    </div>\r\n                    <div className=\"segment-container engagement\">\r\n                        {getSegments('engagement')}        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={`combat-bar-modifiers right ${combatState.round.phase === 'setup' ? 'show-arrow' : ''} ` }>\r\n            {combatState.round.phase === 'balance' ? (\r\n                 <AddCombatants\r\n                        combatantCallback = {combatantCallback}\r\n                        side={\"enemies\"}\r\n                        combatState={combatState}\r\n                        />\r\n                    ) :\r\n                    combatState.round.phase === 'setup' ? (\r\n                <CombatModifiers\r\n                    modifierCallback={combatModifiersCallback}\r\n                    side={\"enemies\"}\r\n                    combatState={combatState}\r\n                    disabled={isAnimating}\r\n                    />\r\n            ) : null}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CombatBar; ","import { EnemyAttribute } from '../models';\nimport { TAG } from './tags';\n\n\nexport const ENEMIES: Record<string, EnemyAttribute> = {\n    // GOBLINS\n    [TAG.MONSTERS.GOBLINS.name] : {\n        defense: [2],\n        magic_defense: [0], \n        health: [5],\n        attack: [2],\n    },\n    // GNOMES\n    [TAG.MONSTERS.GNOMES.name] : {\n        defense: [3],\n        magic_defense: [3], \n        health: [10],\n        attack: [3],\n    },\n    // DRAGONS\n    [TAG.MONSTERS.DRAGONS.name] : {\n        defense: [10],\n        magic_defense: [10], \n        health: [100],\n        attack: [10],\n    },\n    // UNDEAD\n    [TAG.MONSTERS.UNDEAD.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // BEASTS\n    [TAG.MONSTERS.BEASTS.name] : {\n        defense: [5],\n        magic_defense: [0], \n        health: [20],\n        attack: [5],\n    },\n    // CULTISTS\n    [TAG.MONSTERS.CULTISTS.name] : {\n        defense: [2],\n        magic_defense: [5], \n        health: [10],\n        attack: [3],\n    },\n    // BANDITS\n    [TAG.MONSTERS.BANDITS.name] : {\n        defense: [3],\n        magic_defense: [0], \n        health: [10],\n        attack: [3],\n    },\n    // MONSTERS\n    [TAG.MONSTERS.MONSTERS.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // HUMANS\n    [TAG.RACE.HUMANS.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // ELVES\n    [TAG.RACE.ELVES.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // DWARVES\n    [TAG.RACE.DWARVES.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // ORCS\n    [TAG.RACE.ORCS.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // HALFLINGS\n    [TAG.RACE.HALFLINGS.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // HALF-ORCS\n    [TAG.RACE.HALF_ORCS.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    },\n    // HALF-ELVES\n    [TAG.RACE.HALF_ELVES.name] : {\n        defense: [5],\n        magic_defense: [5], \n        health: [20],\n        attack: [5],\n    }\n}","import EventEmitter from 'events';\r\nimport { ATTRIBUTE_TYPE, Character, CHAT_TYPE, CombatState, Encounter, EnemyAttribute, EnemyAttributeInstance, HeroCombatant, PERIL_INDEX, Tag } from '../models';\r\nimport AppManager from './appManager';\r\nimport CampaignManager from './campaignManager';\r\nimport CharacterManager from './characterManager';\r\nimport PlayerManager from './playerManager';\r\nimport UiManager from './uiManager';\r\nimport { ENEMIES } from '../consts/enemies';\r\nimport ChatManager from './chatManager';\r\nimport PartyManager from './partyManager';\r\nimport { getCombinedAttributes } from '../consts/characterConsts';\r\n\r\nconst defaultStats: EnemyAttribute = {\r\n  health: [1],\r\n  attack: [1],\r\n  defense: [1],\r\n  magic_defense: [1],\r\n}\r\n\r\n\r\nclass CombatManager extends EventEmitter {\r\n\r\n  \r\n  private appManager: AppManager | undefined;\r\n  private characterManager: CharacterManager | undefined;\r\n  private campaignManager: CampaignManager | undefined;\r\n  private playerManager: PlayerManager | undefined;\r\n  private uiManager: UiManager | undefined;\r\n  private chatManager: ChatManager | undefined;\r\n\r\n  private combatState: CombatState | undefined;\r\n  private partyManager: PartyManager | undefined;\r\n\r\n  constructor(appManager: AppManager) {\r\n    super();\r\n    setTimeout(() => {\r\n      this.appManager = appManager;\r\n      this.characterManager = appManager.getCharacterManager();\r\n      this.campaignManager = appManager.getCampaignManager();\r\n      this.playerManager = appManager.getPlayerManager();\r\n      this.uiManager = appManager.getUiManager();\r\n      this.chatManager = appManager.getChatManager();\r\n      this.partyManager = appManager.getPartyManager();\r\n    }, 0);\r\n\r\n   \r\n    \r\n  }\r\n\r\n  getCombatState() {\r\n    return this.combatState;\r\n  }\r\n\r\n  generateCombatRewards() {\r\n    \r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n    \r\n    switch(this.combatState.nbEnemies) {\r\n      case 1:\r\n        this.combatState.rewards = 1;\r\n        break;\r\n      case 2:\r\n        this.combatState.rewards =  3;\r\n        break;\r\n      case 3:\r\n        this.combatState.rewards =  5;\r\n        break;\r\n      default:\r\n        this.combatState.rewards =  1;\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  \r\n getCombatMessage = () => {\r\n\tif(!this.combatState) return;\r\n\r\n  switch(this.combatState.round.phase) {\r\n    case 'balance':\r\n      return  'Balance the combat by changing the number or type of enemies and/or add NPCs.';\r\n    case 'setup':\r\n      if(this.combatState.barAnimating) {\r\n        return `The players and ${this.combatState.enemyType.name} ready themselves themselves and we see how dangerous this round will be... `;\r\n      }\r\n      return 'Balance the fight by using established elements of the environment to make the combat more or less dangerous. Or simply fudge the dice...';\r\n    case 'heroes_attack':\r\n     return 'done in component'\r\n    case 'heroes_resolve':\r\n      return 'Now the enemies will attack! This will determine the chance of injury to the party.';\r\n    case 'enemies_attack':\r\n      if(this.combatState.barAnimating) {\r\n        return `Determining the danger and excitement of this round...`;\r\n      }\r\n      return `There is a ${this.combatState.perilResult[PERIL_INDEX.DANGER]}% chance of a party injury.`;\r\n   \r\n    case 'enemy_resolve_damage':\r\n      return this.combatState.combatMessage;\r\n    \r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\n\r\n  generateCombatState(encounter: Encounter, combatIndex: number): CombatState | undefined {\r\n    \r\n    if(!encounter.combat || !encounter.combat[combatIndex]){\r\n      return;\r\n    }\r\n\r\n    if(this.combatState) {\r\n      return this.combatState;\r\n    } \r\n\r\n    const combat = encounter.combat[combatIndex];\r\n    const enemies = combat.enemy;\r\n    const nbEnemies = combat.nbEnemies;\r\n\r\n    const newCombatState: CombatState = {\r\n      round: {\r\n       number: 0,\r\n       phase: 'balance'\r\n      },\r\n      attacker: \"heroes\",\r\n      currentCharacterIndex: 0,\r\n      currentEnemyIndex: 0,\r\n      nbEnemies: nbEnemies,\r\n      enemyType: enemies,\r\n      enemyStats: ENEMIES[enemies.name] || {...defaultStats},\r\n      riskCenter: 4,\r\n      usedTags: this.campaignManager?.getCollectedLocationTags().map(() => false) || [],\r\n      hostileTags:this.campaignManager?.getHostileCombatantTags(enemies.name) || [],\r\n      friendlyTags:this.campaignManager?.getFriendlyCombatantTags() || [],\r\n      npcs: [],\r\n      rewards: 1,\r\n      perilResult: [0,0,0,0],\r\n      heroAttacks: {},\r\n      enemyStatsInstance:  {\r\n        health: 1,\r\n        attack: 1,\r\n        defense: 1,\r\n        magic_defense: 1,\r\n      }\r\n     // usedFriendlyTags:Array(this.campaignManager?.getFriendlyCombatantTags().length).fill(false),\r\n     // usedHostileTags:Array(this.campaignManager?.getHostileCombatantTags().length).fill(false),\r\n    };\r\n   \r\n\r\n    this.updateCombatState(newCombatState);\r\n    this.generateCombatRewards();\r\n    return newCombatState;\r\n  }\r\n\r\n  static GetDefaultCombatState(): CombatState {\r\n    return {\r\n      round: {\r\n        number: 0,\r\n        phase: 'balance'\r\n      },\r\n      attacker: \"heroes\",\r\n      currentCharacterIndex: 0,\r\n      currentEnemyIndex: 0,\r\n      nbEnemies: 1,\r\n      enemyType: {name: 'none'},\r\n      enemyStats: {...defaultStats},\r\n      riskCenter: 5,\r\n      usedTags: [],\r\n      hostileTags:[],\r\n      friendlyTags:[],\r\n      npcs:[],\r\n      perilResult: [0,0,0,0],\r\n      heroAttacks: {},\r\n      rewards: 1,\r\n      enemyStatsInstance:  {\r\n        health: 1,\r\n        attack: 1,\r\n        defense: 1,\r\n        magic_defense: 1,\r\n      }\r\n     // usedFriendlyTags:[],\r\n     // usedHostileTags:[],\r\n    }\r\n  \r\n  }\r\n\r\n  modifyCombatRangeCenter(value: number) {\r\n    \r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n    this.combatState.riskCenter = value;\r\n    this.emit('combatStateChange', this.combatState);\r\n  }\r\n\r\n  updateCombatState(combatState: CombatState) {\r\n    this.combatState = combatState;\r\n    this.emit('combatStateChange', this.combatState);\r\n  }\r\n\r\n  applyPerilResultsToParty() {\r\n    \r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n    const stress = this.combatState.perilResult[PERIL_INDEX.STRESS];\r\n    //const engagement = this.combatState.perilResult[PERIL_INDEX.ENGAGEMENT];\r\n    const score = this.combatState.perilResult[PERIL_INDEX.SCORE];\r\n    this.partyManager?.addPartyTension(stress);\r\n    this.partyManager?.addPartyScore(score);\r\n\r\n  \r\n  }\r\n\r\n  setCombatBarAnimating(isAnimating: boolean) {\r\n    if(!this.combatState) { \r\n      return;\r\n    }\r\n    this.combatState.barAnimating = isAnimating;\r\n    this.emit('combatStateChange',  this.combatState);\r\n  }\r\n\r\n   advanceRound() {\r\n    \r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n    switch(this.combatState.round.phase) {\r\n        case 'balance':\r\n          this.generateEnemyAttributeInstance();\r\n          this.combatState.round.phase = 'setup';\r\n          this.generateHeroAttacks();\r\n          this.chatManager?.combatIntroMessage(this.combatState.enemyType);\r\n          break;\r\n        case 'setup':\r\n          \r\n          this.combatState.round.phase = 'heroes_attack';\r\n          \r\n         // this.campaignManager?.exhaustParty(this.getAttackActionCost());\r\n          \r\n          \r\n          this.combatState.round.number++;\r\n\r\n          break;  \r\n        case 'heroes_attack':\r\n                    \r\n          if(this.combatState.enemyStatsInstance.health <= 0) {\r\n            this.partyManager?.addPartyScore(this.combatState.perilResult[PERIL_INDEX.SCORE]);\r\n            this.uiManager?.showRewardModal(this.combatState.rewards || 0, true);\r\n          }else {\r\n            this.combatState.round.phase = 'heroes_resolve';\r\n          }\r\n          break;\r\n        case 'heroes_resolve':\r\n        \r\n          this.combatState.round.phase = 'enemies_attack';\r\n         \r\n          break;\r\n\r\n\t\t\t\tcase 'enemies_attack':\r\n        //  this.applyPerilResultsToParty();\r\n          this.perilCheck();\r\n          this.combatState.round.phase = 'enemy_resolve_damage';\r\n          this.applyPerilResultsToParty();\r\n          break;\r\n\r\n        case 'enemy_resolve_damage':\r\n          this.combatState.round.phase = 'setup';\r\n          this.generateHeroAttacks();\r\n          this.partyManager?.exhaustParty(this.getAttackActionCost());\r\n          break;\r\n\r\n\t\t\t\tdefault: \r\n          console.log(\"Unknown phase\");\r\n\t\t}\r\n\r\n    console.log(\"Changing phase to \"  + this.combatState.round.phase);\r\n    this.emit('combatPhaseChange', this.combatState);\r\n    this.emit('combatStateChange', this.combatState);\r\n   }\r\n\r\n\r\n   perilCheck() {\r\n    const chanceOfPeril = this.combatState?.perilResult;\r\n    if(!chanceOfPeril) return;\r\n    const randomRoll = Math.floor(Math.random() * 100);\r\n    if(randomRoll < chanceOfPeril[PERIL_INDEX.DANGER]) {\r\n      this.activatePeril();\r\n    } else{\r\n      this.chatManager?.dmMessage(`You guys are safe this round.`);\r\n    }\r\n\r\n    if(this.combatState)\r\n      this.combatState.combatMessage = `${chanceOfPeril[PERIL_INDEX.DANGER]}% chance of injury and rolled a ${randomRoll}.`;\r\n\r\n   }\r\n\r\n\r\n   activatePeril() {\r\n    if(this.combatState === undefined) {\r\n      return;\r\n    }\r\n    let combatants = this.partyManager?.generateHeroes(this.combatState.npcs || []);\r\n    if(combatants === undefined) {\r\n      return;\r\n    }\r\n    let injuredIndex = Math.floor(Math.random() * combatants.length);\r\n\r\n    if(injuredIndex < this.combatState.npcs.length) {\r\n      this.combatState.npcs.splice(injuredIndex, 1);\r\n      this.chatManager?.dmMessage(`The ${combatants[injuredIndex].name} were frigtened off!`);\r\n    } else {\r\n      let injury = ''\r\n      if(combatants[injuredIndex].character) {\r\n        injury = this.partyManager?.addInjury(combatants[injuredIndex].character) || 'unknown injury';\r\n      }\r\n\r\n      this.chatManager?.dmMessage(`Oh no! ${combatants[injuredIndex].name} is ${injury}`);\r\n    }\r\n   }\r\n\r\n\r\n\r\n    generateEnemyAttributeInstance() {\r\n      const attributeIndex = (this.getCombatState()?.nbEnemies || 1) - 1;\r\n      const nbEnemies = this.getCombatState()?.nbEnemies || 1;\r\n      const enemyStats = this.getCombatState()?.enemyStats || {...defaultStats};\r\n      const enemyAttributes: EnemyAttributeInstance = {\r\n              health: enemyStats.health[attributeIndex] || enemyStats.health[0] * nbEnemies,\r\n              attack: enemyStats.attack[attributeIndex] || enemyStats.attack[0] * nbEnemies,\r\n              defense: enemyStats.defense[attributeIndex] || enemyStats.defense[0] * nbEnemies,\r\n              magic_defense: enemyStats.magic_defense[attributeIndex] || enemyStats.magic_defense[0] * nbEnemies,\r\n            };\r\n      if(this.combatState) {\r\n        this.combatState.enemyStatsInstance = enemyAttributes;\r\n      }\r\n    }\r\n  \r\n    generateHeroAttacks() {\r\n      if(!this.combatState) {\r\n        return;\r\n      } \r\n      const heroes = this.partyManager?.generateHeroes(this.combatState?.npcs || []);\r\n      heroes?.forEach((hero) => {\r\n        if(!this.combatState) {\r\n          return;\r\n        } \r\n        this.combatState.heroAttacks[hero.name] = this.generateAttack(hero);\r\n      });\r\n  }\r\n\r\n  heroRethinkAttack(hero: HeroCombatant) { \r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n    this.campaignManager?.spendDMPoints(1); \r\n    let currentAttack = this.combatState.heroAttacks[hero.name];\r\n\r\n    let maxRetries = 10;\r\n    while(currentAttack === this.combatState.heroAttacks[hero.name] && maxRetries-- > 0) {\r\n      this.combatState.heroAttacks[hero.name] = this.generateAttack(hero);\r\n    }\r\n\r\n    let chatMessage = `${hero.name} should really think of a different tactic.`;\r\n    switch(Math.floor(Math.random() * 3)) {\r\n      case 0:\r\n       chatMessage = `Do you really want ${hero.name} to do that?`;\r\n        break;\r\n      case 1:\r\n        chatMessage = `That's stupid.`;\r\n        break;\r\n      case 2:\r\n        chatMessage = `You know ${hero.name} has better options, right?`;\r\n        break;\r\n    }\r\n\r\n    this.chatManager?.dmMessage(chatMessage);\r\n\r\n    this.emit('combatStateChange', this.combatState);\r\n  }\r\n\r\n  getHeroAttackDecisionText(hero: HeroCombatant) {\r\n    const attackType = this.combatState?.heroAttacks[hero.name];\r\n    if(!attackType) {\r\n      return 'vxvxcvx';\r\n    }\r\n    switch(attackType) {\r\n      case 'combat':\r\n        return `${hero.name} attacks with their weapon!`;\r\n      case 'tools':\r\n        return `${hero.name} uses their tools!`;\r\n      case 'magic':\r\n        return `${hero.name} casts a spell!`;\r\n      default:\r\n        return 'vxvxcvxvxvxc';\r\n    }\r\n  }\r\n\r\n  generateAttack(hero: HeroCombatant) {\r\n\r\n    let allAbilities: Record<string, number> = {};\r\n    if(hero.npcTag) {\r\n      hero.character = this.characterManager?.generateNPC(hero.npcTag);\r\n      allAbilities = this.getNPCAttributes(hero.npcTag);\r\n    } \r\n    else{\r\n      allAbilities = getCombinedAttributes(hero.character as Character, true);\r\n    } \r\n\r\n   \r\n        if(allAbilities[ATTRIBUTE_TYPE.MAGIC] && allAbilities[ATTRIBUTE_TYPE.MAGIC] > 0) {\r\n          if(Math.random() > .666) \r\n            return 'magic'\r\n        }\r\n        if(allAbilities[ATTRIBUTE_TYPE.TOOLS] && allAbilities[ATTRIBUTE_TYPE.TOOLS] > 0) {\r\n          if(Math.random() > .5) \r\n            return 'tools'\r\n        }\r\n        return 'combat';\r\n  }\r\n\r\n  getNPCAttributes(npcTag: Tag) {   \r\n    let enemyStats = ENEMIES[npcTag.name];\r\n    return { \r\n      [ATTRIBUTE_TYPE.COMBAT]: Math.max(1, enemyStats.attack[0]), \r\n      [ATTRIBUTE_TYPE.MAGIC]: enemyStats.magic_defense[0],\r\n      [ATTRIBUTE_TYPE.TOOLS]: enemyStats.defense[0]\r\n      }\r\n  }\r\n\r\n  heroAttack(hero: HeroCombatant) {\r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n  \r\n   \r\n   \r\n\r\n    let player;\r\n    if(hero.character) {\r\n      player = this.playerManager?.getPlayerAssignedCharacter(hero.character);\r\n      if(player){\r\n        this.partyManager?.playersTakeAction([player.name], false);\r\n        this.partyManager?.stressAction([player]);\r\n        this.chatManager?.playerMessage(this.getHeroAttackDecisionText(hero), player.id );\r\n      }\r\n    }\r\n    let abilities = getCombinedAttributes(hero.character as Character, true);\r\n\r\n    if(hero.npcTag){\r\n      abilities = this.getNPCAttributes(hero.npcTag);\r\n    }\r\n\r\n\r\n    const fullAbilities  = getCombinedAttributes(hero.character as Character);\r\n    let actualDamage = 0;\r\n    let damageType = 'combat';\r\n    let nbIcons = 0;\r\n    let target = '';\r\n    let crit = false;\r\n    switch(this.combatState.heroAttacks[hero.name]) {\r\n      case 'combat':\r\n        let damage = Math.floor(Math.random() * (abilities[ATTRIBUTE_TYPE.COMBAT] || 0)) + 1;\r\n        if(this.combatState.enemyStatsInstance.defense > 0){\r\n          target = 'Defense';\r\n          this.combatState.enemyStatsInstance.defense = Math.max(0, this.combatState.enemyStatsInstance.defense - damage);\r\n        } else if (this.combatState.enemyStatsInstance.magic_defense > 0) {\r\n          target = 'Magic Defense';\r\n          damage = 1;\r\n          this.combatState.enemyStatsInstance.magic_defense = Math.max(0, this.combatState.enemyStatsInstance.magic_defense - 1);\r\n        } else {\r\n          target = 'Health';\r\n          this.combatState.enemyStatsInstance.health = Math.max(0, this.combatState.enemyStatsInstance.health - damage);\r\n        }\r\n        nbIcons = damage;\r\n        actualDamage = damage;\r\n        damageType = 'combat';\r\n        break;\r\n      case 'tools':\r\n        let toolsDamage = 1;\r\n        if(Math.random() < .25) {\r\n          toolsDamage = fullAbilities[ATTRIBUTE_TYPE.TOOLS];\r\n          crit = true;\r\n        }\r\n        if(this.combatState.enemyStatsInstance.defense > 0){\r\n          target = 'Defense';\r\n          this.combatState.enemyStatsInstance.defense = Math.max(0, this.combatState.enemyStatsInstance.defense - toolsDamage);\r\n        } else if (this.combatState.enemyStatsInstance.magic_defense > 0) {\r\n          target = 'Magic Defense';\r\n          this.combatState.enemyStatsInstance.magic_defense = Math.max(0, this.combatState.enemyStatsInstance.magic_defense - toolsDamage);\r\n        } else {\r\n          target = 'Health';\r\n          this.combatState.enemyStatsInstance.health = Math.max(0, this.combatState.enemyStatsInstance.health - toolsDamage);\r\n        }\r\n        this.characterManager?.setAttributeUsed(hero.character as Character, ATTRIBUTE_TYPE.TOOLS, 1);\r\n        actualDamage = toolsDamage;\r\n        damageType = 'tools';\r\n        nbIcons = toolsDamage;\r\n        break;\r\n      case 'magic':\r\n        const nbSpells = Math.min(abilities[ATTRIBUTE_TYPE.MAGIC] || 1,  hero.character?.level || 1);\r\n        const spellDamage = nbSpells * (Math.floor(Math.random() * 3) + 2);\r\n       if (this.combatState.enemyStatsInstance.magic_defense > 0) {\r\n        target = 'Magic Defense';\r\n          this.combatState.enemyStatsInstance.magic_defense = Math.max(0, this.combatState.enemyStatsInstance.magic_defense - spellDamage);\r\n        } else  if(this.combatState.enemyStatsInstance.defense > 0){\r\n          target = 'Defense';\r\n          this.combatState.enemyStatsInstance.magic_defense = Math.max(0, this.combatState.enemyStatsInstance.defense - spellDamage);\r\n        } else {\r\n          target = 'Health';\r\n          this.combatState.enemyStatsInstance.health = Math.max(0, this.combatState.enemyStatsInstance.health - spellDamage);\r\n        }\r\n        this.characterManager?.setAttributeUsed(hero.character as Character, ATTRIBUTE_TYPE.MAGIC, nbSpells);\r\n        actualDamage = spellDamage;\r\n        damageType = 'magic';\r\n        nbIcons = nbSpells;\r\n        break;\r\n      \r\n      default:\r\n        console.log('Unknown attack type');\r\n    }\r\n\r\n    let icons ='';\r\n    switch(damageType) {\r\n      case 'combat':\r\n        icons = ''.repeat(nbIcons);\r\n        break;\r\n      case 'tools':\r\n        icons = ''.repeat(nbIcons);\r\n        break;\r\n      case 'magic':\r\n        icons = ''.repeat(nbIcons);\r\n        break;\r\n    }\r\n    \r\n    let attackString = `${crit === true ? 'Crit! ' : ''}  ${icons} = ${actualDamage} damage ${target}.`;\r\n    this.emit('combatStateChange', this.combatState);\r\n    return attackString;\r\n  }\r\n\r\n  getAttackActionCost() {\r\n    if(!this.combatState)\r\n        return 0;\r\n    \r\n    return (this.combatState.round.number) * Object.keys(this.combatState.heroAttacks).length;\r\n  }\r\n\r\n  reduceEnemies() {\r\n    if(this.combatState) {\r\n      if(this.combatState.nbEnemies > 1) {\r\n        this.combatState.nbEnemies--;\r\n        this.campaignManager?.spendDMPoints(1);\r\n        this.generateCombatRewards();\r\n        this.emit('combatStateChange', this.combatState);\r\n      }\r\n    }\r\n  }\r\n\r\n  increaseEnemies() {\r\n    if(this.combatState) {\r\n      if(this.combatState.nbEnemies < 3) {\r\n        this.combatState.nbEnemies++;\r\n        this.campaignManager?.spendDMPoints(1);\r\n        this.generateCombatRewards();\r\n        this.emit('combatStateChange', this.combatState);\r\n      }\r\n    }\r\n  }\r\n\r\n  combatModifiersCallback (modifier: number, side: 'heroes' | 'enemies', flavor: Tag, index:number) {\r\n    if(!this.combatState) {\r\n      return;\r\n    }\r\n\r\n    if(side === 'heroes') {\r\n        this.combatState.riskCenter -= modifier;\r\n    } else {\r\n        this.combatState.riskCenter += modifier;\r\n    }\r\n    if(flavor.name !== 'DM') {\r\n        this.combatState.usedTags[index] = !this.combatState.usedTags[index];\r\n    }\r\n\r\n    this.emit('combatStateChange', this.combatState);\r\n\r\n    this.chatManager?.sayCombatModifiedMessage(side, flavor, this.combatState.enemyType, modifier);\r\n}\r\n\r\n    combatantCallback(side: string, clickedCombatant: Tag, index: number) {\r\n      \r\n      if(!this.combatState) {\r\n        return;\r\n      }\r\n\r\n      const isCombatantFriendly = clickedCombatant.friendly;  \r\n      // Remove clickedCombatant from available lists\r\n      if(isCombatantFriendly) {\r\n         this.combatState.friendlyTags.splice(index, 1);\r\n      } else {\r\n        this.combatState.hostileTags.splice(index, 1);\r\n      }\r\n      // add existing enemy back to available lists depending on friendly or not. \r\n      if(side === 'enemies') {\r\n        if(this.combatState.enemyType.friendly) {\r\n          this.combatState.friendlyTags.push(this.combatState.enemyType);\r\n        } else {\r\n          this.combatState.hostileTags.push(this.combatState.enemyType);\r\n        }\r\n        this.setEnemyType(clickedCombatant);\r\n      } else {\r\n        // Otherwise this is being added to the NPC list.\r\n        this.combatState.npcs.push(clickedCombatant); \r\n       \r\n      }\r\n      this.generateCombatRewards();\r\n      this.emit('combatStateChange', this.combatState);\r\n    }\r\n\r\n    setEnemyType(enemy: Tag) {\r\n      if(!this.combatState) {\r\n        return;\r\n      }\r\n      this.combatState.enemyType = enemy;\r\n      this.combatState.enemyStats = ENEMIES[enemy.name] || {...defaultStats};\r\n      this.emit('combatStateChange', this.combatState);\r\n    }\r\n\r\n\r\n    setPerilResult(result: number[]) {\r\n      \r\n      if(!this.combatState) {\r\n        return;\r\n      }\r\n      this.combatState.perilResult = result;\r\n      this.emit('combatStateChange', this.combatState);\r\n    }\r\n\r\n\r\n  // perceptionEventReveal(character: Character) {\r\n  //   // We need to bump the player's engagement, and decreae all other players engamgement\r\n  //   const players = this.playerManager?.getPlayers();\r\n  //   players?.forEach((player) => {\r\n  //     if(player.characters.includes(character.id)) {\r\n  //       player.playerStats.engagement += 1;\r\n  //     } else {\r\n  //       player.playerStats.engagement -= 1;\r\n  //     }\r\n  //   });\r\n  //   this.uiManager?.updateParty();\r\n  // }\r\n\r\n   generateColorFromValue(value: number, min: number, max: number, label: string ) {\r\n    // Normalize value to 0-1 range\r\n    const normalized = (value - min) / (max - min);\r\n    \r\n    // Define color stops\r\n    let colors =  {\r\n        negative: { r: 255, g: 61, b: 61 },  \r\n        neutral: { r: 255, g: 139, b: 105 }, \r\n        positive: { r: 255, g: 0, b: 0 }  \r\n    }\r\n    \r\n    switch(label) {\r\n        case 'danger':\r\n            colors = {\r\n                negative: { r: 255, g: 255, b: 255 }, \r\n                neutral: { r: 179, g: 139, b: 105 }, \r\n                positive: { r: 200, g: 25, b: 20 }   \r\n            }\r\n            break;\r\n        case 'stress':\r\n            colors = {\r\n                negative: { r: 255, g: 255, b: 255 },  \r\n                neutral: { r: 130, g: 130, b: 130 }, \r\n                positive: { r: 0, g: 0, b: 0 }   \r\n            }\r\n            break;\r\n        case 'engagement':\r\n            colors = {\r\n                negative: { r: 139, g: 61, b: 61 }, \r\n                neutral: { r: 179, g: 139, b: 105 }, \r\n                positive: { r: 92, g: 148, b: 87 }   \r\n            }\r\n            break\r\n            case 'reward':\r\n                colors = {\r\n                  negative: { r: 255, g: 255, b: 255 }, \r\n                  neutral: { r: 255, g: 255, b: 255 }, \r\n                  positive: { r: 255, g: 215, b: 0 }   // Gold color\r\n                }\r\n              break\r\n    \r\n    }\r\n    \r\n  \r\n    let result;\r\n    if (value < 0) {\r\n      // Interpolate between negative and neutral\r\n      const t = (value - min) / (0 - min);\r\n      result = {\r\n        r: Math.round(colors.negative.r + (colors.neutral.r - colors.negative.r) * t),\r\n        g: Math.round(colors.negative.g + (colors.neutral.g - colors.negative.g) * t),\r\n        b: Math.round(colors.negative.b + (colors.neutral.b - colors.negative.b) * t)\r\n      };\r\n    } else {\r\n      // Interpolate between neutral and positive\r\n      const t = value / max;\r\n      result = {\r\n        r: Math.round(colors.neutral.r + (colors.positive.r - colors.neutral.r) * t),\r\n        g: Math.round(colors.neutral.g + (colors.positive.g - colors.neutral.g) * t),\r\n        b: Math.round(colors.neutral.b + (colors.positive.b - colors.neutral.b) * t)\r\n      };\r\n    }\r\n    \r\n    return `#${result.r.toString(16).padStart(2,'0')}${result.g.toString(16).padStart(2,'0')}${result.b.toString(16).padStart(2,'0')}`;\r\n  };\r\n\r\n}\r\n\r\nexport default CombatManager;","import React from 'react';\nimport { withRandomTheme } from \"../withRandomTheme\";\nimport { useCampaignManager, usePartyManager } from '../managerContexts';\nimport { FlavorTagTheme } from '../../models';\n\ninterface BaseButtonProps {\n  onClick?: (arg0: string | null) => void;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nconst BaseButton: React.FC<BaseButtonProps> = ({ onClick, className, children }) => {\n  const handleClick = () => {\n    // if (onClick) {\n    //   onClick(null);\n    // }\n  };\n  \n \n\n\n  return (\n    <div \n      className={`themed-button ${className || ''}`} \n      onClick={handleClick}\n     \n    >\n      {children}\n    </div>\n  );\n};\n\nexport const ThemedButton = withRandomTheme(BaseButton);","import React, { useEffect, useState } from 'react';\nimport { FlavorTagTheme } from '../models';\nimport { useCampaignManager } from './managerContexts';\n\nconst THEME_CHANCE = .25;// chance to apply a theme\n\ninterface WithRandomThemeProps {\n  onClick?:(theme: string | null) => void; // Add onClick to the interface\n  className?: string;\n  regenerateKey?: number; \n}\n\nexport const withRandomTheme = <P extends object>(\n  WrappedComponent: React.ComponentType<P>\n) => {\n\n  return (props: P & WithRandomThemeProps) => {\n      const campaignManager = useCampaignManager();\n    const [theme, setTheme] = useState<string | null>(null);\n\n    const handleClick = (e: React.MouseEvent) => {\n      if (props.onClick) {\n        props.onClick(theme);\n      }\n\n      if(theme) {\n          campaignManager.themedUiClicked(theme);\n      }\n      setTheme(null);\n\n    };\n\n    useEffect(() => {\n      if (Math.random() < THEME_CHANCE) {\n        const themes = Object.values(FlavorTagTheme) as string[];\n        const randomTheme = themes[Math.floor(Math.random() * themes.length-1)];\n        setTheme(randomTheme);\n      }\n    }, [props.regenerateKey]);\n\n \n\n    const combinedClassName = theme \n      ? `${props.className || ''} theme-${theme}`\n      : props.className;\n\n    return (\n      <div className=\"theme-wrapper\" onClick={handleClick}>\n        <WrappedComponent {...props} className={combinedClassName} />\n        {theme && (\n          <div className=\"tooltip\">\n            {`This action will be done in a ${theme} way`}\n          </div>\n        )}\n      </div>\n    );\n  };\n};","\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { ATTRIBUTE_CONTRIBUTOR, CombatState, Encounter, EnemyAttribute, EnemyAttributeInstance, HeroCombatant, PERIL_INDEX, Tag } from '../../models';\nimport { useAppManager, useCampaignManager, useUiManager } from '../managerContexts';\nimport AttributeDisplay from '../UI/attributeDisplay';\nimport CImage from '../UI/cimage';\nimport CombatBar from './combatBar';\nimport './combat.scss';\nimport NumberDie from '../UI/numderDie';\nimport CombatManager from '../../managers/combatManager';\nimport { ThemedButton } from '../UI/themedButton';\n\n\ninterface GameEncounterCombatProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterCombat: React.FC<GameEncounterCombatProps> = ({encounter}) => {\n\n\tconst appManager = useAppManager();\n\tconst uiManager = useUiManager();\n\tconst combatManager = appManager.getCombatManager();\n\tconst characterManager = appManager.getCharacterManager();\n\n\tconst partyManager = appManager.getPartyManager();\n\n\tconst combatState = combatManager?.generateCombatState(encounter, 0) || CombatManager.GetDefaultCombatState();\n\n\tconst [swapVisible, setSwapVisible] = useState(false);\n\t\n\tconst [enemyAttributes, setEnemyAttributes] = useState<EnemyAttributeInstance>();\n\tconst [nbEnemies, setNbEnemies] = useState(combatState.nbEnemies);\n\tconst [enemyType, setEnemyType] = useState(combatState.enemyType);\n\tconst [perilResult, setPerilResult] = useState(combatState.perilResult);\n\tconst [combatBarAnimating, setCombatBarAnimating] = useState(false);\n\tconst [combatMessage, setCombatMessage] = useState<string>();\n\tconst [rewards, setRewards] = useState<number>(combatState.rewards || 1);\n\n\t\n\tconst [heroCombatants, setHeroCombatants] = useState<HeroCombatant[]>(partyManager.generateHeroes(combatState.npcs));\n\tconst [heroActed, setHeroActed] = useState(heroCombatants.map(() => 'false'));\n\n\tconst getEnemyAttributeInstance = (enemyStats: EnemyAttribute): EnemyAttributeInstance => {\n\t\t\tconst attributeIndex = (combatManager?.getCombatState()?.nbEnemies || 1) - 1;\n\t\t\tconst nbEnemies = combatManager?.getCombatState()?.nbEnemies || 1;\n\t\t\tconst enemyAttributes: EnemyAttributeInstance = {\n\t\t\t\thealth: enemyStats.health[attributeIndex] || enemyStats.health[0] * nbEnemies,\n\t\t\t\tattack: enemyStats.attack[attributeIndex] || enemyStats.attack[0] * nbEnemies,\n\t\t\t\tdefense: enemyStats.defense[attributeIndex] || enemyStats.defense[0] * nbEnemies,\n\t\t\t\tmagic_defense: enemyStats.magic_defense[attributeIndex] || enemyStats.magic_defense[0] * nbEnemies,\n\t\t\t};\n\t\t\treturn enemyAttributes;\n\t\t}\n\tuseEffect(() => {\n\t\t\n\t\tconst handleCombatStateChange = (newCombatState: CombatState) => {\n\t\t\tsetNbEnemies(newCombatState.nbEnemies);\n\t\t\tsetEnemyType(newCombatState.enemyType);\n\t\t\tsetHeroCombatants(partyManager.generateHeroes(newCombatState.npcs));\n\t\t\tsetPerilResult(newCombatState.perilResult);\n\t\t\tsetRewards(newCombatState.rewards || 1);\n\t\t\tif(newCombatState.round.phase === 'balance') {\n\t\t\t\tsetEnemyAttributes(getEnemyAttributeInstance(newCombatState.enemyStats))\n\t\t\t}else {\n\t\t\t\tsetEnemyAttributes(newCombatState.enemyStatsInstance);\n\t\t\t}\n\n\t\t\tif(newCombatState.round.phase === 'setup') {\n\t\t\t\t// reset acted\n\t\t\t\tsetHeroActed(Object.keys(newCombatState.heroAttacks).map(() => 'false'))\n\t\t\t\t\n\t\t\t}\n\t\t\tsetCombatMessage(newCombatState.combatMessage);\n\t\t\tsetCombatBarAnimating(newCombatState.barAnimating || false);\n\t\t\t//setCombatStatePhase(newCombatState);\n\t\t  \n\t\t};\n\t  \n\t\tcombatManager.on('combatStateChange', handleCombatStateChange);\n\t\tsetEnemyAttributes(getEnemyAttributeInstance(combatState.enemyStats))\n\t\t\n\t\treturn () => {\n\t\t  combatManager.removeAllListeners('combatStateChange');\n\t\t};\n\t  }, [combatManager, encounter]);\n\n\n\tconst enemyAttributesDisplay = () => {\n\t\treturn (\n\t\t\t<div className = \"combat-encounter-enemies-attributes-display\">\n\t\t\t\t<div className=\"combat-enemy-attribute defense\">\n\t\t\t\t\t<div className=\"combat-enemy-attribute-title\">Defense</div>\n\t\t\t\t\t<div className=\"combat-enemy-attribute-value\">{enemyAttributes?.defense}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"combat-enemy-attribute magic-defense\">\n\t\t\t\t\t<div className=\"combat-enemy-attribute-title\">Magic Defense</div>\n\t\t\t\t\t<div className=\"combat-enemy-attribute-value\">{enemyAttributes?.magic_defense}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"combat-enemy-attribute health\">\n\t\t\t\t\t<div className=\"combat-enemy-attribute-title\">Health</div>\n\t\t\t\t\t<div className=\"combat-enemy-attribute-value\">{enemyAttributes?.health}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst generateEnemy = () => {\n\t\t  const icons = [];\n\t\t  //const symbol = uiManager.getShortenedName(enemy.name);\n\t\t  const nbIcons = [0,1,3,5,7];\n\t\t  \n\t\t  for (let i = 0; i < nbIcons[nbEnemies]; i++) {\n\t\t\ticons.push(\n\t\t\t\t<div key={`${i}`} className={`enemy-icon enemy-type-${enemyType.name}`}>\n\t\t\t\t\t<CImage imageId={`combat_${enemyType.name}`} />\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t  }\n\t\t  return icons;\n\t\t};\n\n\tconst modifyEnemies = (nb: number) => {\n\t\tif(nb < 1) {\n\t\t\tcombatManager.reduceEnemies();\n\t\t}\n\t\telse {\n\t\t\tcombatManager.increaseEnemies();\n\t\t}\n\t}\n\t\n\n\n\n\tconst getRoundAdvanceLabel = () => {\n\t\tswitch(combatState.round.phase) {\n\t\t\tcase 'balance':\n\t\t\t\treturn 'Begin Fight'\n\t\t\tcase 'setup':\n\t\t\t\n\t\t\t\treturn `Heroes Attack`;\n\t\t\tcase 'heroes_attack':\n\t\t\t\tif(combatState.enemyStatsInstance.health <= 0) {\n\t\t\t\t\treturn 'End Combat'\n\t\t\t\t}\n\t\t\t\tif(heroCombatants.every((hero, index) => heroActed[index] !== 'false')) {\n\t\t\t\t\treturn 'Continue';\n\t\t\t\t}\n\t\t\t\treturn 'Skip Hero Attack';\n\t\t\tcase 'heroes_resolve':\n\t\t\t\t\treturn 'Enemies Attack';\n\t\t\tcase 'enemies_attack':\n\t\t\t\tif(combatState.barAnimating) {\n\t\t\t\t\treturn '...';\n\t\t\t\t}\n\t\t\t\treturn 'Resolve Peril';\n\t\t\t\n\t\t\tcase 'enemy_resolve_damage':\n\t\t\t\t\treturn 'End Round';\n\t\t\tcase 'end_combat':\n\t\t\t\t\treturn '';\n\t\t\tdefault: \t\n\t\t\treturn '';\n\t\t}\n\t}\n\t\n\n\tconst description = encounter.combat ? encounter.combat[0]?.description : '';\n\tconst getCombatMessage = () => {\n\n\t\tif(combatState.round.phase === 'heroes_attack') {\n\t\t\treturn (\n\t\t\t\t<div className = \"combat-message-container\">\n\t\t\t\t\t<div className = \"combat-message-legend\">\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  1- to Health or Defense.</div>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  1 to Magic Defense.</div>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  1 to anything</div>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  Chance to crit for </div>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  2-4 Damage to anything.</div>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\">:  at higher levels</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div className=\"combat-message-legend-item\"> / : limited uses</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\n\t\tlet combatMessage = combatManager.getCombatMessage();\n\t\treturn (\n\t\t\t<div className = \"combat-message-container\">\n\t\t\t\t<div className = \"combat-message\">\n\t\t\t\t\t{combatMessage}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\t\t\n\tconst heroAttackPressed = (hero: HeroCombatant, index: number) => {\n\t\tconst newHeroActed = [...heroActed];\n\t\tnewHeroActed[index] = combatManager?.heroAttack(hero) || 'false';\n\t\t\n\t\tsetHeroActed(newHeroActed);\n\t}\n\n\tconst rewardDisplay = () => {\n\t\tif(rewards) {\n\t\t\treturn (\n\t\t\t\t<div className=\"combat-encounter-rewards\">\n\t\t\t\t\t<div className=\"combat-encounter-rewards-title\">Players will expect</div>\n\t\t\t\t\t<div className=\"combat-encounter-rewards-list\">{rewards} rewards</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\t  return (\n\t\t<div className=\"game-encounter-combat\">\n\t\t\t\n\t\t\t\n\t\t\t<div className=\"combat-encounter-upper-container\">\n\t\t\t\t<div className=\"combat-encounter-header\">\t\t\n\t\t\t\t\t<div className=\"combat-encounter-header-title\">Combat Event in {encounter.location.name}</div>\n\t\t\t\t\t<div className=\"combat-encounter-description\">{description}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\t\t    <div className=\"combat-encounter-body-container\">\n\t\t\t\t<CombatBar combatState = {combatState}/>\n\t\t\t\t<div className=\"combat-encounter-enemies-row\">\n\t\t\t\t\t{getCombatMessage()}\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"combat-encounter-enemies\">\n\t\t\t\t\t\t<div className= \"combat-encounter-enemies-number\">\n\t\t\t\t\t\t\t{combatState.round.phase === 'balance' && (\n\t\t\t\t\t\t\t<div className=\"combat-enemies-ui\"  onClick={() => modifyEnemies(-1)}>\n\t\t\t\t\t\t\t\t<NumberDie baseDie={20} displayNumber={'1'}/>\n\t\t\t\t\t\t\t\tless\n\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t<div className=\"combat-encounter-enemies-list\">\n\t\t\t\t\t\t\t\t{generateEnemy()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{combatState.round.phase === 'balance' && (\n\t\t\t\t\t\t\t<div className=\"combat-enemies-ui\"  onClick={() => modifyEnemies(1)}>\n\t\t\t\t\t\t\t\t<NumberDie baseDie={20} displayNumber={'1'}/>\n\t\t\t\t\t\t\t\tmore\n\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"combat-encounter-enemies-attributes\">\n\t\t\t\t\t\t\t{enemyAttributesDisplay()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"combat-encounter-enemies-header\">\n\t\t\t\t\t\t<div className='combat-encounter-enemy-name'>\n\t\t\t\t\t\t\t{enemyType.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\n\t\t\t\t<div className = \"combat-advance-box\">\n\t\t\t\t\t<div className ={`combat-encounter-advance-button-container ${combatBarAnimating ? 'disabled' : ''} `} onClick={() => combatManager?.advanceRound()}>\n\t\t\t\t\t\t<div className=\"combat-encounter-advance-button\">{getRoundAdvanceLabel()}\n\t\t\t\t\t\t\t{combatState.round.phase === 'enemy_resolve_damage' && combatManager.getAttackActionCost() > 0 &&\n\t\t\t\t\t\t\t<div className=\"combat-button-exhaustion-label\">+{combatManager.getAttackActionCost()} Exhaustion</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{combatState.round.phase === 'heroes_attack' && combatState.enemyStatsInstance.health <= 0 &&\n\t\t\t\t\t\t\t<div className=\"combat-button-exhaustion-label\">+{combatManager.getCombatState()?.perilResult[PERIL_INDEX.SCORE]} Score</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{combatState.round.phase === 'enemies_attack' && !combatState.barAnimating && \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"combat-button-exhaustion-label\">+{combatManager.getCombatState()?.perilResult[PERIL_INDEX.STRESS]} Tension</div>\n\t\t\t\t\t\t\t\t\t<div className=\"combat-button-exhaustion-label\">+{combatManager.getCombatState()?.perilResult[PERIL_INDEX.SCORE]} Score</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t{rewardDisplay()}\n\n\t\t\t<div className=\"combat-encounter-heroes\">\n\t\t\t\t{heroCombatants && heroCombatants.map((hero, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={hero.name} className=\"combat-encounter-hero-row\">\n\t\t\t\t\t\t\t{(hero.npcTag || \n\t\t\t\t\t\t\t(hero.character && hero.character.injury !== 'dead')) &&\n\t\t\t\t\t\t\tcombatState.round.phase === 'heroes_attack' &&\n\t\t\t\t\t\t\t<div className=\"combat-hero-attack-results-container\">\n\t\t\t\t\t\t\t\t<ThemedButton className={`combat-hero-button ${heroActed[index] !== 'false' ? 'acted' : ''}`} onClick={() => heroAttackPressed(hero, index)}>\n\t\t\t\t\t\t\t\t\t{heroActed[index] === 'false' ? combatManager.getHeroAttackDecisionText(hero) : heroActed[index]}\n\t\t\t\t\t\t\t\t</ThemedButton>\n\t\t\t\t\t\t\t\t<div className={`combat-hero-button ${heroActed[index] === 'false' ? '' : 'hide'} `} onClick={() => combatManager?.heroRethinkAttack(hero)}>\n\t\t\t\t\t\t\t\t\t<div className=\"combat-sure-text\">\n\t\t\t\t\t\t\t\t\t\t'Are you Sure?'\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<NumberDie baseDie={20} displayNumber={'1'} />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div className = \"combat-encounter-hero-container\">\n\t\t\t\t\t\t\t\t<div className=\"combat-encounter-hero\">\n\t\t\t\t\t\t\t\t\t<div className=\"combat-encounter-hero-name\">{uiManager.getHeroFirstName(hero.name)}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"combat-character-icon\">\n\t\t\t\t\t\t\t\t\t\t<CImage imageId={hero.icon} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{ hero.character && hero.character.injury === 'injured' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"combat-encounter-hero-injury\"></div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{ hero.character && hero.character.injury === 'dead' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"combat-encounter-hero-injury dead\"></div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"combat-encounter-hero-attributes\">\n\t\t\t\t\t\t\t\t\t<AttributeDisplay hero={hero} category={ATTRIBUTE_CONTRIBUTOR.ALL} showAttributeLoss={true} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)})}\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterCombat;","\n\nimport { Encounter } from '../../models';\n\n\n\ninterface GameEncounterExplorationProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterExploration: React.FC<GameEncounterExplorationProps> = ({encounter}) => {\n\n\t\n\t  return (\n\t\t<div className=\"game-encounter-combat\">\n\t\t  <div className=\"encounter-type-title\">Exploration</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterExploration;","import { Tag } from \"../../models\";\r\n\r\ninterface TooltipProps {\r\n  theme: string;\r\n  tag: Tag;\r\n  message: string;\r\n}\r\n\r\nconst Tooltip: React.FC<TooltipProps> = ({ theme, tag, message }) => {\r\n  return (\r\n    <div className={`tooltip theme-${theme}`}>\r\n      <div className=\"tooltip-content\">\r\n        {message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tooltip;","\r\n\r\nimport { useState } from 'react';\r\nimport { Character, Encounter, EncounterFlavorTag, TAGS_TYPE, PerceptionTags, Tag } from '../../models';\r\nimport { useAppManager, useCampaignManager, useCharacterManager, usePlayerManager, useUiManager } from '../managerContexts';\r\nimport CImage from '../UI/cimage';\r\nimport NumberDie from '../UI/numderDie';\r\nimport { GEAR } from '../../consts/characterConsts';\r\nimport PartyManager from '../../managers/partyManager';\r\nimport Tooltip from '../UI/tooltip';\r\n\r\n\r\n\r\ninterface GameEncounterPerceptionProps {\r\n\tencounter: Encounter;\r\n}\r\n\r\nconst GameEncounterPerception: React.FC<GameEncounterPerceptionProps> = ({encounter}) => {\r\n   const playerManager = usePlayerManager();\r\n   const campaignManager = useCampaignManager();\r\n   const uiManager = useUiManager();\r\n   const appManager = useAppManager();\r\n   const chatManager = appManager.getChatManager();\r\n\tconst partyManager = appManager.getPartyManager();\r\n   const allCharacters: Character[] = playerManager.getAllPlayerCharacters();\r\n  const [perceptionRevealed, setPerceptionRevealed] = useState<boolean[]>(allCharacters.map(() => false));\r\n  const [perceptionAccepted, setPerceptionAccepted] = useState<boolean[]>(allCharacters.map(() => false));\r\n\r\n  const [perceptionTags, setPerceptionTags] = useState<PerceptionTags[]>([]);\r\n  \r\n\r\n\r\n  const rerollCharacterPerception = (character: Character, index: number) => {\r\n\trevealOrRerollCharacterPerceptions(character, index);\r\n\tcampaignManager.spendDMPoints(1);\r\n\t\r\n  }\r\n\r\n  const revealOrRerollCharacterPerceptions = (character: Character, index: number) => {\r\n\tconst newPerceptionRevealed = [...perceptionRevealed];\r\n\tconst newPerceptionTags = [...perceptionTags];\r\n\r\n\tnewPerceptionTags[index] = campaignManager.getPerceptionTags(character) as PerceptionTags;\r\n\t\r\n\tif(!perceptionRevealed[index]) {\r\n\t\tif(perceptionRevealed.filter((p) => p).length !== 0) {\r\n\t\t   partyManager.perceptionEventReveal(character);\r\n\t\t}\r\n\t\tnewPerceptionRevealed[index] = true;\r\n\t}\r\n\t\r\n\r\n\tsetPerceptionRevealed(newPerceptionRevealed);\r\n\t\r\n\tsetPerceptionTags(newPerceptionTags);\r\n\t\r\n  };\r\n\r\n  const acceptCharacterPerception = (character: Character, index: number) => {\r\n\tconst newPerceptionAccepted = [...perceptionAccepted];\r\n\tnewPerceptionAccepted[index] = true;\r\n\tsetPerceptionAccepted(newPerceptionAccepted);\r\n\r\n\tcampaignManager.acceptPerceptionTags(perceptionTags[index], character);\r\n\r\n\tchatManager.perceptionEvent(character, perceptionTags[index]);\r\n\r\n}\r\n\r\n  const getPlayerAttitudesStyle = (tag: Tag) => {\r\n\treturn uiManager.getPlayerAttitudesStyle(tag);\r\n  }\r\n\r\n  const getTooltipMessage = (flavorTag: EncounterFlavorTag, perceptionTagsIndex: number, tagIndex: number) => {\r\n\t\tlet messageString = '';\r\n\r\n\r\n\t\tconst encounterTooltip = campaignManager.getCampaignTooltipForTag(flavorTag);\r\n\t\tif (encounterTooltip) {\r\n\t\t\treturn encounterTooltip;\r\n\t\t}\r\n\r\n\t\tswitch(perceptionTags[perceptionTagsIndex].type){\r\n\t\t\tcase TAGS_TYPE.CURRENT_LOCATION:\r\n\t\t\t\tmessageString = `The character carefully examines ${flavorTag.tag.name}.`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase TAGS_TYPE.BRANCH_LOCATION:\r\n\t\t\t\tmessageString = `Reveal hints connecting ${flavorTag.tag.name} to an upcoming encounter.`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase TAGS_TYPE.CHARACTER_BACKSTORY:\r\n\t\t\t\tmessageString = `Connect the player's backstory to this new topic.`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS:\r\n\t\t\t\tmessageString = `Reveal ${flavorTag.tag.name}, which relates to a character's backstory.`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase TAGS_TYPE.MAGIC_ITEM:\r\n\t\t\t\tmessageString = `Reveal a magic item.`;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\r\n\t switch(flavorTag.theme) {\r\n\t\t  case 'comedic':\r\n\t\t\tmessageString += \" The players find something funny about this.\"\r\n\t\t   break; \r\n\t\t  case 'grim':\r\n\t\t\tmessageString += \" this is discussed in a grim manner\"\r\n\t\t\t\r\n\t\t\tbreak; \r\n\t\t  case 'fantasy':\r\n\t\t\tmessageString += \" the discussion around this is fantastical\"\r\n\t\t   break; \r\n\t\t  case 'heroic':\r\n\t\t\tmessageString += \" this evokes a feeling of heroism\"\r\n\t\t\t\r\n\t\t   break; \r\n\t\t  case 'horror':\r\n\t\t\tmessageString += \" something about this is scary\"\r\n\t\t\t\r\n\t\t   break; \r\n\t\t  case 'romantic':\r\n\t\t\tmessageString += \" this is discussed with romantic undertones\"\r\n\t\t   break; \r\n\t\t  case 'serious':\r\n\t\t\tmessageString += \" the players take this very seriously\"\r\n\t\t   break; \r\n\t\t  case 'dramatic':\r\n\t\t\tmessageString += \" the table gets very dramatic about this\"\r\n\t\t\tbreak; \r\n\t\t}\r\n\r\n\t\treturn messageString;\r\n  }\r\n\r\n\r\n\r\nconst getPerceptionTagTypeDisplay = (index: number) => {\r\n\r\n\tswitch (perceptionTags[index].type) {\r\n\t\tcase TAGS_TYPE.CURRENT_LOCATION:\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"perception-display current-location\">\r\n\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\tNothing interesting found. Simply learned basic info about {perceptionTags[index].name}:\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"perception-tags\">\r\n\t\t\t\t\t\t{perceptionTags[index].tags.map((flavorTag, indexb) => (\r\n\t\t\t\t\t\t\t<div key={indexb} className={`perception-tag text-pill type-${flavorTag.source} ${getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n\t\t\t\t\t\t\t\t{flavorTag.tag.name}\r\n\t\t\t\t\t\t\t\t{flavorTag.theme && <Tooltip theme={''} tag={flavorTag.tag} message={getTooltipMessage(flavorTag, index, indexb)} />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\tcase TAGS_TYPE.BRANCH_LOCATION:\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"perception-display branch-location\">\r\n\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\tLearned some things about an upcoming encounter called {perceptionTags[index].name} which may be interesting:\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"perception-tags\">\r\n\t\t\t\t\t\t{perceptionTags[index].tags.map((flavorTag, indexb) => (\r\n\t\t\t\t\t\t\t<div key={indexb} className={`perception-tag text-pill type-foreshadowing ${getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n\t\t\t\t\t\t\t\t{flavorTag.tag.name}\r\n\t\t\t\t\t\t\t\t{flavorTag.theme && <Tooltip theme={''} tag={flavorTag.tag}  message={getTooltipMessage(flavorTag, index, indexb)} />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\tcase TAGS_TYPE.CHARACTER_BACKSTORY:\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"perception-display backstory\">\r\n\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\tShocking new information revealed about {perceptionTags[index].name}'s Backstory!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"perception-tags\">\r\n\t\t\t\t\t\t{perceptionTags[index].tags.map((flavorTag, indexb) => (\r\n\t\t\t\t\t\t\t<div key={indexb} className={`perception-tag text-pill expected ${getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n\t\t\t\t\t\t\t\t{flavorTag.tag.name}\r\n\t\t\t\t\t\t\t\t{flavorTag.theme && <Tooltip theme={''} tag={flavorTag.tag}  message={getTooltipMessage(flavorTag, index,indexb)} />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcase TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"perception-display backstory\">\r\n\t\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\t\tConfirmation regarding {perceptionTags[index].name}'s Backstory:\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"perception-tags\">\r\n\t\t\t\t\t\t\t{perceptionTags[index].tags.map((flavorTag, indexb) => (\r\n\t\t\t\t\t\t\t\t<div key={indexb} className={`perception-tag text-pill expected ${getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n\t\t\t\t\t\t\t\t\t{flavorTag.tag.name}\r\n\t\t\t\t\t\t\t\t\t{flavorTag.theme && <Tooltip theme={''} tag={flavorTag.tag} message={getTooltipMessage(flavorTag, index, indexb)} />}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\tcase TAGS_TYPE.MAGIC_ITEM:\r\n\t\t\tlet expectsMagicItem = campaignManager.isRumor(perceptionTags[index].tags[0].tag.name);\r\n\t\t\t// Make sure magic item isn't one that was accpeted already\r\n\t\t\tperceptionTags.forEach((perceptionTag, i) => {\r\n\t\t\t\tif(perceptionAccepted[i] && perceptionTag.type === TAGS_TYPE.MAGIC_ITEM) {\r\n\t\t\t\t\tperceptionTag.tags.forEach(flavorTag => {\r\n\t\t\t\t\t\tif(flavorTag.tag.name === perceptionTags[index].tags[0].tag.name) {\r\n\t\t\t\t\t\t\texpectsMagicItem = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"perception-display magic-item\">\r\n\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\t{expectsMagicItem ? 'Discovered a Magic Item you have heard of!' : 'Learned about a nearby Magic Item.'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"perception-tags\">\r\n\t\t\t\t\t\t{perceptionTags[index].tags.map((flavorTag, indexb) => (\r\n\t\t\t\t\t\t\t<div key={indexb} className={`perception-tag text-pill ${expectsMagicItem ? '' : 'expected'}  type-${flavorTag.source} ${getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n\t\t\t\t\t\t\t\t{flavorTag.tag.name}\r\n\t\t\t\t\t\t\t\t{flavorTag.theme && <Tooltip theme={''} tag={flavorTag.tag} message={getTooltipMessage(flavorTag, index, indexb)} />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\tcase TAGS_TYPE.PLOT_HOOK:\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"perception-display-campaign-container\">\r\n\t\t\t\t\t<div className='perception-description'>\r\n\t\t\t\t\t\t\t{campaignManager.getCampaignName()} Progress:\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"perception-display plot-hook\">\r\n\t\t\t\t\t\t<div className=\"campaign-icon\">\r\n\t\t\t\t\t\t\t<CImage imageId={campaignManager.getCampaignIcon()}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"campaign-plot-hook\">\r\n\t\t\t\t\t\t\t<b>{perceptionTags[index].tags[0].tag.name}</b> {`${campaignManager.getNextPlotHookPerceptionText()}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\n\r\n\r\n\t  return (\r\n\t\t<div className=\"game-encounter-perception\">\r\n\t\t\t<div className=\"encounter-type-title\">Perception</div>\r\n\t\t\t<div className=\"perception-container\">\r\n\t\t\t\t<div className='character-list'>\r\n\t\t\t\t\t{allCharacters.map((character, index) => (\r\n\t\t\t\t\t<div key={index} className=\"perception-row\">\r\n\t\t\t\t\t\t<div className=\"character-container\">\r\n\t\t\t\t\t\t\t<div className='character-display'>\t\r\n\t\t\t\t\t\t\t\t<div className='character-name'>{character.name.split(' ')[0]}</div>\r\n\t\t\t\t\t\t\t\t<div className='character-icon'>\r\n\t\t\t\t\t\t\t\t\t<CImage imageId={character.icon}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{perceptionRevealed[index] ? (\r\n\t\t\t\t\t\t\t\t<div className='character-perception-tags-container'>\r\n\t\t\t\t\t\t\t\t\t{getPerceptionTagTypeDisplay(index)}\r\n\t\t\t\t\t\t\t\t\t{perceptionAccepted[index] ? \r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t<div className='character-perception-buttons'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='character-perception-accepted'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : \r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t<div className='character-perception-buttons'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='character-perception-reroll-button' onClick={() => rerollCharacterPerception(character, index)}>\r\n\t\t\t\t\t\t\t\t\t\t\tREROLL\r\n\t\t\t\t\t\t\t\t\t\t\t<NumberDie baseDie={20} displayNumber={1}/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='character-perception-accept-button' onClick={() => acceptCharacterPerception(character, index)}>\r\n\t\t\t\t\t\t\t\t\t\t\tACCEPT\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : \r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<div className='character-perception-reveal-button' onClick={() => revealOrRerollCharacterPerceptions(character, index)}>\r\n\t\t\t\t\t\t\t\t\t<div className='reveal-title'>\r\n\t\t\t\t\t\t\t\t\t\tPERCEPTION CHECK\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t  );\r\n\t};\r\n\r\nexport default GameEncounterPerception;","import { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Encounter,\r\n  RPEncounterFlavorTag,\r\n  FlavorTagSource,\r\n  Tag,\r\n  ATTITUDE,\r\n} from \"../../models\";\r\nimport {\r\n  useAppManager,\r\n  useCampaignManager,\r\n  useCharacterManager,\r\n  usePlayerManager,\r\n  useUiManager,\r\n} from \"../managerContexts\";\r\nimport FillBar from \"../UI/fillBar\";\r\nimport PartyManager from \"../../managers/partyManager\";\r\nimport CImage from \"../UI/cimage\";\r\nimport CharacterManager from \"../../managers/characterManager\";\r\nimport PlayerManager from \"../../managers/playerManager\";\r\n\r\ninterface GameEncounterRoleplayProps {\r\n  encounter: Encounter;\r\n}\r\n\r\nconst bandLabels = [\r\n  { text: \"Organic Conversation +20 Score\", top: \"4%\" },\r\n  { text: \"Guided Interactions +10 Score\", top: \"39%\" },\r\n  { text: \"Off Topic +0 Score\", top: \"74%\" },\r\n];\r\n\r\nconst GameEncounterRoleplay: React.FC<GameEncounterRoleplayProps> = ({\r\n  encounter,\r\n}) => {\r\n  const uiManager = useUiManager();\r\n  const campaignManager = useCampaignManager();\r\n  const appManager = useAppManager();\r\n  const chatManager = appManager.getChatManager();\r\n  const partyManager = appManager.getPartyManager();\r\n  const characterManager = useCharacterManager();\r\n  const playerManager = usePlayerManager();\r\n  const tagManager = appManager.getTagManager();\r\n  const [positions, setPositions] = useState<{ top: string; left: string }[]>(\r\n    []\r\n  );\r\n  const [flavorTags, setFlavorTags] = useState<RPEncounterFlavorTag[]>(() =>\r\n    campaignManager.generateRoleplayEventTags(\"init\")\r\n  );\r\n  const [freeTags, setFreeTags] = useState<number>(5);\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const newPositions: { top: string; left: string }[] = [];\r\n    const maxRetries = 100;\r\n    const bands = [\r\n      { min: 5, max: 20 }, // Top band\r\n      { min: 40, max: 55 }, // Middle band\r\n      { min: 77, max: 88 }, // Bottom band\r\n    ];\r\n\r\n    const isOverlap = (\r\n      pos: { top: string; left: string },\r\n      top: string,\r\n      left: string\r\n    ) =>\r\n      Math.abs(parseFloat(pos.top) - parseFloat(top)) < 10 &&\r\n      Math.abs(parseFloat(pos.left) - parseFloat(left)) < 15;\r\n\r\n    flavorTags.forEach(() => {\r\n      let currentTry = 0;\r\n      let top: string, left: string;\r\n      let overlap;\r\n      do {\r\n        currentTry++;\r\n        const bandIndex = Math.floor(Math.random() * 3);\r\n        const band = bands[bandIndex];\r\n        top = `${band.min + Math.random() * (band.max - band.min)}%`;\r\n        left = `${Math.random() * 80}%`;\r\n        // eslint-disable-next-line no-loop-func\r\n        overlap = newPositions.some((pos) => isOverlap(pos, top, left));\r\n      } while (overlap && currentTry < maxRetries);\r\n      newPositions.push({ top, left });\r\n    });\r\n\r\n    setPositions(newPositions);\r\n  }, [flavorTags]);\r\n\r\n  // const getTooltipText = (rpFlavorTag: RPEncounterFlavorTag) => {\r\n  //   let tooltipText = \"\";\r\n\r\n  //   if (rpFlavorTag.tag) {\r\n  //     if (campaignManager.getCampaignTooltipForTag(rpFlavorTag.tag)) {\r\n  //       return campaignManager.getCampaignTooltipForTag(rpFlavorTag.tag);\r\n  //     }\r\n\r\n  //     const flavorTag = rpFlavorTag.tag;\r\n  //     const playerLikes = playerManager.getPartyAttitudeForTag(flavorTag.tag);\r\n  //     switch (flavorTag.source) {\r\n  //       case FlavorTagSource.LOCATION:\r\n  //         switch (Math.floor(Math.random() * 2)) {\r\n  //           case 0:\r\n  //             tooltipText = `The players interact with ${flavorTag.tag.name}`;\r\n  //             break;\r\n  //           case 1:\r\n  //             tooltipText = `You describe some nearby ${flavorTag.tag.name}`;\r\n  //             break;\r\n  //         }\r\n\r\n  //         break;\r\n  //       case FlavorTagSource.FORESHADOWING:\r\n  //         if (playerLikes === ATTITUDE.LIKE) {\r\n  //           tooltipText = `Some players will be happy to know that ${flavorTag.tag.name} seems to be part of an upcoming encounter`;\r\n  //         } else if (playerLikes === ATTITUDE.HATE) {\r\n  //           tooltipText = `Much to one player's annoyaince - you imply that ${flavorTag.tag.name} will be expected in an upcoming encounter`;\r\n  //         } else {\r\n  //           tooltipText = `You foreshadow ${flavorTag.tag.name} for an upcoming encounter`;\r\n  //         }\r\n  //         break;\r\n  //       case FlavorTagSource.FORESHADOWING_RANDOM:\r\n  //         if (playerLikes === ATTITUDE.LIKE) {\r\n  //           tooltipText = `The players like ${flavorTag.tag.name}...add it on a whim to an upcoming encounter`;\r\n  //         } else if (playerLikes === ATTITUDE.HATE) {\r\n  //           tooltipText = `${flavorTag.tag.name} will feature in an upcoming encounter even though some players hate ${flavorTag.tag.name}`;\r\n  //         } else {\r\n  //           tooltipText = `Ad-lib ${flavorTag.tag.name} into an upcoming encounter`;\r\n  //         }\r\n  //         break;\r\n  //       case FlavorTagSource.RUMOR:\r\n  //         // check if this is an expected tag for a branch\r\n  //         const isExpectedForCurrentEncounter = campaignManager\r\n  //           .getExpectedEncounterTags()\r\n  //           .includes(flavorTag.tag);\r\n  //         tooltipText = isExpectedForCurrentEncounter\r\n  //           ? `You reinforce the importance of ${flavorTag.tag.name}.`\r\n  //           : `You confirm the players' questions about ${flavorTag.tag.name}`;\r\n  //         break;\r\n  //       case FlavorTagSource.PLAYERS:\r\n  //         tooltipText = `The players have feelings about ${flavorTag.tag.name}`;\r\n  //         break;\r\n  //       case FlavorTagSource.QUESTS:\r\n  //         tooltipText = `A quest may be advanced bacause of ${flavorTag.tag.name}`;\r\n  //         break;\r\n  //       case FlavorTagSource.ALL:\r\n  //         tooltipText = `For no specific reason, the players discuss ${flavorTag.tag.name}`;\r\n  //         break;\r\n\r\n  //       case FlavorTagSource.MAGIC_ITEM:\r\n  //         tooltipText = `You award the players the ${flavorTag.tag.name} they have been looking for!`;\r\n  //         break;\r\n  //       case FlavorTagSource.BACKSTORY:\r\n  //         tooltipText = `The ${flavorTag.tag.name} is integral to a character's backstory!`;\r\n  //         break;\r\n  //       case FlavorTagSource.PLOT:\r\n  //         tooltipText = `${flavorTag.tag.name} will be important to the story`;\r\n  //         break;\r\n  //       default:\r\n  //         tooltipText = \"\";\r\n  //         break;\r\n  //     }\r\n\r\n  //     tooltipText += chatManager.getThemePostFix(flavorTag);\r\n\r\n  //     return tooltipText;\r\n  //   } else if (rpFlavorTag.character) {\r\n  //     tooltipText = `Spend some time focusing on ${rpFlavorTag.character.name}`;\r\n  //     return tooltipText;\r\n  //   } else if (rpFlavorTag.type === \"treasure\") {\r\n  //     tooltipText = `award the players a bit of treasure...`;\r\n  //     return tooltipText;\r\n  //   } else if (rpFlavorTag.type === \"dmpoint\") {\r\n  //     tooltipText = `You have a great idea which will inform future decisions and make you an overall better dm`;\r\n  //     return tooltipText;\r\n  //   }\r\n  // };\r\n\r\n  useEffect(() => {\r\n    const adjustTooltips = () => {\r\n      const container = containerRef.current;\r\n      if (!container) return;\r\n\r\n      const containerRect = container.getBoundingClientRect();\r\n      const tooltips = container.querySelectorAll(\".encounter-flavor-tag\");\r\n\r\n      tooltips.forEach((tooltip) => {\r\n        const tooltipText = tooltip.querySelector(\r\n          \".tooltip-text\"\r\n        ) as HTMLElement;\r\n        const tooltipRect = tooltipText.getBoundingClientRect();\r\n\r\n        if (tooltipRect.right > containerRect.right) {\r\n          tooltipText.style.left = \"auto\";\r\n          tooltipText.style.right = \"0\";\r\n          tooltipText.style.transform = \"translateX(0)\";\r\n        } else if (tooltipRect.left - tooltipRect.width / 2 < 0) {\r\n          tooltipText.style.left = \"0\";\r\n          tooltipText.style.right = \"auto\";\r\n          tooltipText.style.transform = \"translateX(0)\";\r\n        } else {\r\n          tooltipText.style.left = \"50%\";\r\n          tooltipText.style.right = \"auto\";\r\n          tooltipText.style.transform = \"translateX(-50%)\";\r\n        }\r\n\r\n        if (tooltipRect.bottom > 0) {\r\n          // containerRect.bottom/2) {\r\n          tooltipText.style.top = \"auto\";\r\n          tooltipText.style.bottom = \"100%\";\r\n        } else {\r\n          tooltipText.style.top = \"100%\";\r\n          tooltipText.style.bottom = \"auto\";\r\n        }\r\n      });\r\n    };\r\n\r\n    setTimeout(adjustTooltips, 1000);\r\n    window.addEventListener(\"resize\", adjustTooltips);\r\n    return () => window.removeEventListener(\"resize\", adjustTooltips);\r\n  }, [positions, flavorTags]);\r\n\r\n  const getScoreForPosition = (position: string): number => {\r\n    const topPercentage = parseFloat(position);\r\n\r\n    // Check which band the tag is in\r\n    if (topPercentage <= 20) {\r\n      return 20; // Top band - Organic Conversation\r\n    } else if (topPercentage <= 55) {\r\n      return 10; // Middle band - Guided Interactions\r\n    } else {\r\n      return 0; // Bottom band - Off Topic\r\n    }\r\n  };\r\n\r\n  const handleTagClick = (flavorTag: RPEncounterFlavorTag, index: number) => {\r\n    const tagPosition = positions[index];\r\n    const score = getScoreForPosition(tagPosition.top);\r\n\r\n    setFreeTags(freeTags - 1);\r\n\r\n    if (freeTags === -2) {\r\n      chatManager.playerMessage(\"YAWWWN\");\r\n    } else {\r\n      if (freeTags > 0) {\r\n        partyManager.addPartyScore(score);\r\n      }\r\n\r\n      chatManager.roleplayingEvent(flavorTag);\r\n    }\r\n    campaignManager.selectRoleplayFlavorTag(flavorTag, freeTags);\r\n    setFlavorTags(campaignManager.generateRoleplayEventTags(\"\"));\r\n  };\r\n  const description = campaignManager.getCurrentEvent()?.flavorText || \"\";\r\n\r\n  const instructions =\r\n    freeTags > 0\r\n      ? description\r\n      : `You may keep roleplaying, but your players are growing bored.`;\r\n  const getPlayerAttitudesStyle = (tag: Tag) => {\r\n    return uiManager.getPlayerAttitudesStyle(tag);\r\n  };\r\n\r\n  const pressHurryButton = () => {\r\n    if (freeTags > 0) {\r\n      partyManager.addPartyTension(10);\r\n      setFreeTags(freeTags - 1);\r\n\r\n      chatManager.dmMessage([\r\n        \"Lets moooove along!\",\r\n        \"Blah Blah blah\",\r\n        \"Theres a lot more game to get to.\",\r\n      ]);\r\n      setFlavorTags(campaignManager.generateRoleplayEventTags(\"\"));\r\n    }\r\n  };\r\n\r\n  const getLegend = () => {\r\n    const characters = characterManager.getPlayerCharacters();\r\n\r\n    return (\r\n      <div className=\"roleplay-legend\">\r\n        <div className=\"legend-section\">\r\n          <div className=\"legend-row\">\r\n            <div className=\"sample-tag text-pill type-location\">Location</div>\r\n            <div className=\"sample-desc\">Describe the environment</div>\r\n          </div>\r\n          <div className=\"legend-row\">\r\n            <div className=\"sample-tag text-pill type-encounter\">\r\n              Foreshadow\r\n            </div>\r\n            <div className=\"sample-desc\">Hint about an upcoming encounter</div>\r\n          </div>\r\n          <div className=\"legend-row\">\r\n            <div className=\"sample-tag text-pill type-all\">New Topic</div>\r\n            <div className=\"sample-desc\">Introduce/entertain new ideas</div>\r\n          </div>\r\n          <div className=\"legend-row\">\r\n            <div className=\"sample-tag text-pill type-rumor\">Resolve Topic</div>\r\n            <div className=\"sample-desc\">\r\n              Integrate/confirm introduced topics\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"legend-section\">\r\n          <div className=\"legend-column\">\r\n            <div className=\"legend-watchfor-container\">\r\n              <div className=\"sample-tag text-pill type-backstory\">\r\n                Backstory\r\n              </div>\r\n              <div className=\"sample-tag text-pill type-magic-item\">\r\n                Magic Item\r\n              </div>\r\n              <div className=\"sample-tag text-pill type-plot-hook\">\r\n                Plot Hooks\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"legend-section attitudes\">\r\n          <div className=\"legend-player-row\">\r\n            <div className=\"legend-player-column\">\r\n              <div className=\"legend-title\">Player Attitudes:</div>\r\n              <div className=\"attitude-row\">\r\n                <span className=\"attitude like\">Like</span>\r\n                <span className=\"attitude hate\">Hate</span>\r\n                <span className=\"attitude neutral\">Mixed</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"legend-player-column\">\r\n              <div className=\"encounter-rp-icon-container\">\r\n                <div className=\"legend-player-row\">\r\n                  {characters.map((character, index) => (\r\n                    <CImage\r\n                      key={`char-${character.id}-${index}`}\r\n                      imageId={character.icon}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"legend-character-info\">+2/-1 Attention</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"encounter-roleplay-container\">\r\n      <div className=\"encounter-roleplay-header\">\r\n        <div className=\"encounter-roleplay-tutorial\">{getLegend()}</div>\r\n        <div className=\"encounter-roleplay-text\">\r\n          <div className=\"encounter-roleplay-title\">\r\n            Roleplay in {encounter.location.name}\r\n          </div>\r\n          <div className=\"encounter-roleplay-instructions\">{instructions}</div>\r\n        </div>\r\n        <div className=\"encounter-roleplay-skill-container\">\r\n          <FillBar\r\n            totalSegments={5}\r\n            filledSegments={freeTags}\r\n            theme=\"engagement\"\r\n            label=\"Party Patience\"\r\n          />\r\n          <div\r\n            className={`encounter-roleplay-hurry-button ${\r\n              freeTags <= 0 ? \"disabled\" : \"\"\r\n            }`}\r\n            onClick={() => pressHurryButton()}\r\n          >\r\n            Hurry Players\r\n          </div>\r\n          <div className=\"encounter-roleplay-hurry-text\">\r\n            {freeTags > 0 ? \"+10 Tension\" : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={`encounter-roleplay-flavor-tags-container  ${\r\n          freeTags <= 0 ? \"disabled\" : \"\"\r\n        } `}\r\n        ref={containerRef}\r\n      >\r\n        {bandLabels.map((label, index) => (\r\n          <div\r\n            key={`band-label-${index}`}\r\n            className={`band-label ${freeTags <= 0 ? \"disabled\" : \"\"} `}\r\n            style={{ top: label.top }}\r\n          >\r\n            {label.text}\r\n          </div>\r\n        ))}\r\n        {flavorTags.map((flavorTag, index) =>\r\n          flavorTag.tag ? (\r\n            <div\r\n              key={index}\r\n              className={`encounter-flavor-tag text-pill theme-${\r\n                flavorTag.tag.theme\r\n              } \r\n\t\t\t\t\t\ttype-${flavorTag.tag.source} \r\n\t\t\t\t\t\t${getPlayerAttitudesStyle(flavorTag.tag.tag)}`}\r\n              style={positions[index]}\r\n              data-tooltip={`${tagManager.getTooltipText(flavorTag)}`} // Add tooltip text here\r\n              onClick={() => handleTagClick(flavorTag, index)}\r\n            >\r\n              {flavorTag.tag?.tag?.name}\r\n              <div className=\"tooltip-text\">{tagManager.getTooltipText(flavorTag)}</div>\r\n\r\n            </div>\r\n          ) : flavorTag.type === \"treasure\" || flavorTag.type === \"dmpoint\" ? (\r\n            <div\r\n              key={index}\r\n              className={`encounter-rp-icon`}\r\n              style={positions[index]}\r\n              data-tooltip={`${tagManager.getTooltipText(flavorTag)}`} // Add tooltip text here\r\n              onClick={() => handleTagClick(flavorTag, index)}\r\n            >\r\n              <div className=\"encounter-rp-icon-container\">\r\n                <CImage\r\n                  imageId={\r\n                    flavorTag.type === \"treasure\"\r\n                      ? `icon_treasure1`\r\n                      : \"icon_dmpoint\"\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div\r\n              key={index}\r\n              className={`encounter-rp-icon theme-character`}\r\n              style={positions[index]}\r\n              data-tooltip={`${tagManager.getTooltipText(flavorTag)}`} // Add tooltip text here\r\n              onClick={() => handleTagClick(flavorTag, index)}\r\n            >\r\n              <div className=\"encounter-rp-icon-container\">\r\n                <CImage imageId={flavorTag.character?.icon} />\r\n                <div className=\"encounter-rp-character-name\">\r\n                  {flavorTag.character?.name}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tooltip-text\">{tagManager.getTooltipText(flavorTag)}</div>\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameEncounterRoleplay;\r\n","import React from 'react';\nimport { Character } from '../../models';\nimport CImage from '../UI/cimage';\n\ninterface CharacterTokenProps {\n    character: Character;\n    isSelected?: boolean;\n    onClick?: (e: React.MouseEvent<HTMLDivElement>) => void;\n    mini?: boolean;\n    style?: React.CSSProperties;\n    'data-character-id'?: string;  // Add this prop for animation targeting\n    className?:string;\n    \n  }\n\n  const CharacterToken: React.FC<CharacterTokenProps> = ({ \n    character, \n    isSelected = false, \n    onClick,\n    mini = false,\n    style = {},\n    'data-character-id': characterId,\n    className = ''\n  }) => {\n    return (\n      <div \n        className={`character-token ${isSelected ? 'selected' : ''} ${mini ? 'mini' : ''}  ${className}`}\n        onClick={onClick}\n        style={style}\n        data-character-id={characterId}\n      >\n        <div className=\"character-icon\">\n          <CImage imageId={character.icon} />\n        </div>\n        {!mini && (\n          <div className=\"character-name\">\n            {character.name}\n          </div>\n        )}\n      </div>\n    );\n  };\nexport default CharacterToken;","import { BUILDING_EFFECT_TYPE, BuildingEffect, Character, EncounterFlavorTag, Tag, TownBuilding } from \"../../models\";\r\nimport { useAppManager } from \"../managerContexts\";\r\nimport CImage from \"../UI/cimage\";\r\nimport CharacterToken from \"./characterToken\";\r\nimport './town.scss';\r\n\r\ninterface BuildingCardProps {\r\n    building: TownBuilding;\r\n    onClick: (e: React.MouseEvent<HTMLDivElement>) => void;  // Update to pass event\r\n    isSelectable: boolean;\r\n    'data-building-id'?: string;  // Add this prop for animation targeting\r\n    onCharacterClick: (character: Character, rect: DOMRect) => void;  // Add this\r\n    onTagClick: (tag: EncounterFlavorTag, building: TownBuilding) => void;\r\n  }\r\n  \r\n\r\n  const BuildingCard: React.FC<BuildingCardProps> = ({ \r\n    building, \r\n    onClick, \r\n    isSelectable,\r\n    'data-building-id': buildingId ,\r\n    onCharacterClick,\r\n    onTagClick,\r\n  }) => {\r\n    const appManager = useAppManager();\r\n    const townManager = appManager.getTownManager();\r\n    const uiManager = appManager.getUiManager();\r\n\r\n\r\n    const renderPositionEffect = (effect: BuildingEffect) => {\r\n      const value = effect.value;\r\n      const effectType = effect.type;\r\n      let isIcon = false; \r\n      let iconText = '';\r\n      let iconId = '';\r\n      let textClass = ';'\r\n      switch(effectType) {\r\n        case BUILDING_EFFECT_TYPE.ADD_DM_POINT:\r\n          isIcon = true;\r\n          iconId = 'icon_dmpoint';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_PLAYER_POINT:\r\n          isIcon = true;\r\n          iconId = 'icon_playerpoint';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_TREASURE:\r\n          isIcon = true;\r\n          iconId = 'icon_treasure1';\r\n          break;\r\n         case BUILDING_EFFECT_TYPE.ADD_ENJOYMENT:\r\n            iconText = value > 0 ? '' : ''\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_TENSION:\r\n           iconText = '' + value;  \r\n          if(value > 0) {\r\n            iconText = '+' + iconText;\r\n              textClass = ' tension-up';\r\n            }else{\r\n              textClass = ' tension-down';\r\n            }\r\n            return (\r\n              <div className='effect-score'>\r\n                <div className ={'effect-score-label'}>\r\n                  TENSION\r\n                </div>\r\n                <div className ={'effect-score-value'}>\r\n                  {iconText}\r\n                </div>\r\n              </div>\r\n            )\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_SCORE:\r\n          return (\r\n            <div className='effect-score'>\r\n              <div className ={'effect-score-label'}>\r\n                SCORE\r\n              </div>\r\n              <div className ={'effect-score-value'}>\r\n                +{value}\r\n              </div>\r\n            </div>\r\n          )\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.INJURE:\r\n          iconText = '';\r\n          break;\r\n      }\r\n\r\n      if(isIcon) {\r\n         return (\r\n          <div className={`effect-display-icon ${textClass}`}>\r\n            <CImage imageId={iconId} />\r\n          </div>\r\n        )\r\n\r\n      } else {\r\n        return (\r\n          <div className={`effect-emoji-display ${textClass}`}>\r\n            {iconText}\r\n          </div>\r\n        )\r\n      }\r\n\r\n     \r\n    }\r\n\r\n\r\n\r\n    const renderEffect = (effect: any) => {\r\n\r\n      let effectString = '';\r\n      let effectClass = '';\r\n    \r\n      switch(effect.type) {\r\n        case BUILDING_EFFECT_TYPE.ADD_TENSION:\r\n          effectString = (effect.value > 0 ? '+' : '') +  effect.value + ' tension';\r\n          effectClass = 'tension-' + (effect.value > 0 ? 'up' : 'down');\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_ENJOYMENT:\r\n          effectString=  effect.value > 0 ? '' : '';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_INVOLVEMENT:\r\n          effectString = (effect.value > 0 ? '+' : '') +  effect.value + ' tension';\r\n          effectClass = 'attention-' + (effect.value > 0 ? 'up' : 'down');\r\n\r\n          break;\r\n        // case BUILDING_EFFECT_TYPE.ADD_REWARDS:\r\n        //   effectString = effect.value + ' rewards';\r\n        //   break;\r\n        case BUILDING_EFFECT_TYPE.REPLENISH_MAGIC:\r\n          effectString = '';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.REPLENISH_TOOLS:\r\n          effectString = '';\r\n          break;\r\n        // case BUILDING_EFFECT_TYPE.ADD_BACKSTORY:\r\n        //   effectString = 'backstory';\r\n        //   break;\r\n        case BUILDING_EFFECT_TYPE.HEAL:\r\n          effectString = '';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.RESURRECT:\r\n          effectString = '';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.INJURE:\r\n          effectString = '';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.USE_TOOLS:\r\n          effectClass = 'use-tools';\r\n          effectString = '-';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.USE_MAGIC:\r\n          effectClass = 'use-magic';\r\n          effectString = '-';\r\n          break;\r\n        case BUILDING_EFFECT_TYPE.ADD_DM_POINT:\r\n          return (\r\n            <div className=\"effect-display-icon\">\r\n              <CImage imageId=\"icon_dmpoint\" />\r\n            </div>\r\n          );\r\n    \r\n        case BUILDING_EFFECT_TYPE.ADD_PLAYER_POINT:\r\n          return (\r\n            <div className=\"effect-display-icon\">\r\n              <CImage imageId=\"icon_playerpoint\" />\r\n            </div>\r\n          );\r\n        \r\n        case BUILDING_EFFECT_TYPE.ADD_TREASURE:\r\n          return (\r\n            <div className=\"effect-display-icon\">\r\n              <CImage imageId=\"icon_treasure1\" />\r\n            </div>\r\n          );\r\n       \r\n\r\n\r\n        default:\r\n          effectString += effect.type;\r\n      }\r\n\r\n      return (\r\n        <div className={`effect-display ${effectClass}`}>\r\n          {effectString}\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div \r\n          className={`building-card ${isSelectable ? 'selectable' : ''}`}\r\n          style={{\r\n            left: `${building.position?.x}%`,\r\n            top: `${building.position?.y}%`,\r\n            width: `${building.size?.width}px`,\r\n            height: `${building.size?.height}px`\r\n          }}\r\n          onClick={onClick}\r\n          data-building-id={buildingId}\r\n        >\r\n        <div className=\"building-header\">\r\n          <div className=\"building-name\">{building.building.name}</div>\r\n       \r\n          <div className=\"effect-row\">\r\n            {building.effects.map((effect, index) => (\r\n                <div key={index} className={`effect ${effect.type}`}>\r\n                  {renderEffect(effect)}\r\n                </div>\r\n            ))}\r\n          </div>\r\n                               \r\n          </div>\r\n          \r\n       \r\n        \r\n        <div className=\"building-tags\">\r\n        {building.tags.map((flavorTag, index) => {\r\n          const isResolved = building.resolvedTags.some(t => t.name === flavorTag.tag.name);\r\n          return (\r\n            <div \r\n              key={index}\r\n              className={`tag text-pill type-${flavorTag.source} ${uiManager.getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme} ${building.isHighlighted ? 'clickable' : ''} ${isResolved ? 'resolved' : ''}`}// className={`text-pill type-${flavorTag.source} ${uiManager.getPlayerAttitudesStyle(flavorTag.tag)} theme-${flavorTag.theme}`}>\r\n              onClick={() => {\r\n                if (building.isHighlighted && !isResolved) {\r\n                  onTagClick(flavorTag, building);\r\n                }\r\n              }}\r\n            >\r\n              {flavorTag.tag.name}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n        \r\n        <div className=\"visitor-slots\">\r\n                {Array(building.capacity).fill(0).map((_, index) => (\r\n                    <div key={index} className={`slot ${index < building.currentVisitors.length ? 'occupied' : ''}`}>\r\n                        {building.currentVisitors[index] ? (\r\n                          \r\n                             <CharacterToken \r\n                                character={building.currentVisitors[index]} \r\n                                mini \r\n                                onClick={(e) => onCharacterClick(\r\n                                    building.currentVisitors[index], \r\n                                    e.currentTarget.getBoundingClientRect()\r\n                                )} \r\n                            />\r\n                          \r\n                           \r\n                        ) : (\r\n                          <div className=\"slot-effect\">\r\n                                {building.positionEffects[index].map((effect, index) => (\r\n                                    <div key={index} className={`effect ${effect.type}`}>\r\n                                      {renderPositionEffect(effect)}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n          \r\n                        )}\r\n                    </div>\r\n\r\n                ))}\r\n            </div>\r\n            <div className={`building-effect ${building.isHighlighted ? 'hidden' : ''}`}>\r\n            {building.building.description}\r\n          </div>\r\n            {building.isHighlighted && (\r\n                <div className=\"interaction-hint\">\r\n                    Click on tags to gain their effects\r\n                </div>\r\n            )}\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default BuildingCard;","import { Building, BUILDING_TYPE } from \"../models\";\nimport { TAG } from \"./tags\";\n\nexport const BUILDINGS: Record<string,Building> = {\n    \"BARRACKS\": {\n        name: \"Barracks\",\n        type: BUILDING_TYPE.BARRACKS,\n        description: \"Train and improve combat skills\",\n        tags: [TAG.TREASURE.WEAPONS, TAG.TREASURE.ARMOR],\n        effects: []\n    },\n    \"TEMPLE\": {\n        name: \"Temple\",\n        type: BUILDING_TYPE.TEMPLE,\n        description: \"Heal wounds or resurrect fallen heroes\",\n        tags: [TAG.GAME.MAGIC, TAG.GAME.HEALING],\n        effects: []\n\n    },\n    \"SHOP\": {\n        name: \"Shop\",\n        type: BUILDING_TYPE.SHOP,\n        description: \"Replenish tools and find magic items.\",\n        tags: [TAG.GAME.TOOLS, TAG.TREASURE.WEAPONS],\n        allowMagicItems: true,\n        effects: []\n    },\n    \"MARKETPLACE\": {\n        name: \"Marketplace\",\n        type: BUILDING_TYPE.SHOP,\n        description: \"Replenish tools and find magic items.\",\n        tags: [TAG.GAME.TOOLS],\n       // allowMagicItems: true,\n        effects: []\n    },\n    \"TAVERN\": {\n        name: \"Tavern\",\n        type: BUILDING_TYPE.TAVERN,\n        description: \"Gossip, rumors, and conversation.\",\n        tags: [],\n        addFriendlyTags: true,\n        effects: []\n    },\n    \n    \"GUILD_HALL\": {\n        name: \"Guild Hall\",\n        type: BUILDING_TYPE.GUILD_HALL,\n        description: \"Replenish Magic, Level Up, and find magic items.\",\n        tags: [TAG.GAME.LEVEL_UP],\n        allowMagicItems: true,\n        effects: []\n    },\n    \"LIBRARY\": {\n        name: \"Library\",\n        type: BUILDING_TYPE.LIBRARY,\n        description: \"Replenish Magic\",\n        tags: [TAG.PROPS.BOOKS],\n        effects: []\n    },\n    \"FIRE\": {\n        name: \"Fire\",\n        type: BUILDING_TYPE.FIRE,\n        description: \"Replenish , \",\n        tags: [],\n        effects: []\n    },\n    \"CONFRONTATION\": {\n        name: \"Confrontation\",\n        type: BUILDING_TYPE.CONFRONTATION,\n        description: \"Increase Stress, chance of reduced attitude\",\n        tags: [],\n        addFriendlyTags: true,\n        effects: []\n    }\n}\n\nexport const DEFAULT_TOWN_BUILDINGS: Building[] = [\n    BUILDINGS.BARRACKS,\n    BUILDINGS.TEMPLE,\n    BUILDINGS.SHOP,\n    BUILDINGS.MARKETPLACE,\n    BUILDINGS.TAVERN,\n    BUILDINGS.GUILD_HALL,\n    BUILDINGS.LIBRARY,\n    BUILDINGS.FIRE,\n    BUILDINGS.CONFRONTATION\n];\n\n","import React, { useState, useEffect } from 'react';\r\nimport { Encounter, Character, Tag, TownBuilding, BUILDING_TYPE, EncounterFlavorTag, BuildingEffect, BUILDING_EFFECT_TYPE, Building } from '../../models';\r\n\r\nimport './town.scss';\r\nimport { useAppManager, useCampaignManager, useCharacterManager } from '../managerContexts';\r\nimport BuildingCard from './buildingCard';\r\nimport CharacterToken from './characterToken';\r\nimport { DEFAULT_TOWN_BUILDINGS } from '../../consts/buildings';\r\n\r\ninterface GameEncounterTownProps {\r\n  encounter: Encounter;\r\n}\r\n\r\nconst GameEncounterTown: React.FC<GameEncounterTownProps> = ({ encounter }) => {\r\n\tconst appManager = useAppManager();\r\n\tconst townManager = appManager.getTownManager();\r\n\tconst characterManager = useCharacterManager();\r\n  const [buildings, setBuildings] = useState<TownBuilding[]>([]);\r\n  const [selectedCharacter, setSelectedCharacter] = useState<Character | null>(null);\r\n  const [characters, setCharacters] = useState<Character[]>(characterManager.getCharacters());\r\n  const [exhaustion, setExhaustion] = useState<number>(0);\r\n  const [assignedCharacters, setAssignedCharacters] = useState<Set<string>>(new Set());\r\n  const [animatingCharacter, setAnimatingCharacter] = useState<{\r\n\tcharacter: Character;\r\n\tfrom: DOMRect;\r\n\tto: DOMRect;\r\n  } | null>(null);\r\n  const [autoAssign, setAutoAssign] = useState<boolean>(true);\r\n  const campaignManager = useCampaignManager();\r\n  \r\n // Add this helper function\r\nconst getAvailableBuildings = () => {\r\n\treturn buildings.filter(b => b.currentVisitors.length < b.capacity);\r\n  };\r\n  \r\n  const generateTownBuildings = (encounter: Encounter): TownBuilding[] => {\r\n\tconst buildingTypes = Object.values(BUILDING_TYPE);\r\n\tconst generatedBuildings: TownBuilding[] = [];\r\n\t\r\n\t// Random number of buildings between 4 and 7\r\n\tconst minBuildings = encounter.town?.[0]?.nbBuildings[0] || 4;\r\n\tconst maxBuildings = encounter.town?.[0]?.nbBuildings[1] || 7;\r\n\r\n\tconst numBuildings = minBuildings + Math.floor(Math.random() * (maxBuildings - minBuildings + 1));  \r\n\t\r\n\t// Create a grid system to help with positioning\r\n\tconst gridCellsX = 4; // 4x4 grid\r\n\tconst gridCellsY = 3; // 4x4 grid\r\n\r\n\tconst cellWidth = 100 / gridCellsX;\r\n\tconst cellHeight = 100 / gridCellsY;\r\n\tconst usedCells: Set<string> = new Set();\r\n  \r\n\tconst availableBuildings = [...(encounter.town?.[0]?.buildings || DEFAULT_TOWN_BUILDINGS)];\r\n\r\n\r\n\tfor (let i = 0; i < numBuildings; i++) {\r\n\t  // Pick random building type\r\n\t  const randomBuilding = availableBuildings[Math.floor(Math.random() * availableBuildings.length)];\r\n\t  // remove that building from the list\r\n\t  availableBuildings.splice(availableBuildings.indexOf(randomBuilding), 1);\r\n  \r\n\t  // Find an unused grid cell\r\n\t  let cellX: number, cellY: number;\r\n\t  do {\r\n\t\tcellX = Math.floor(Math.random() * gridCellsX);\r\n\t\tcellY = Math.floor(Math.random() * gridCellsY);\r\n\t  } while (usedCells.has(`${cellX},${cellY}`));\r\n\t  \r\n\t  usedCells.add(`${cellX},${cellY}`);\r\n  \r\n\t  // Add some randomness to position within cell\r\n\t  const x = (cellX * cellWidth) + (Math.random() * (cellWidth/4));\r\n\t  const y = (cellY * cellHeight) ;//+ (Math.random() * (cellHeight/4));\r\n  \r\n\t  // Random size variations\r\n\t  const width = 200 + Math.random() * 100;\r\n\t  const height = 150 + Math.random() * 50;\r\n  \t  const capacity =  Math.floor(Math.random() * 2) + 1; // Random capacity between 1 and 3\r\n\t  const building: TownBuilding = {\r\n\t\tbuilding: randomBuilding,\r\n\t\ttags: townManager.getTagsForBuilding(randomBuilding),\r\n\t\tresolvedTags: [],\r\n\t\tcapacity,\r\n\t\tcurrentVisitors: [],\r\n\t\teffects: [...randomBuilding.effects],\r\n\t\tpositionEffects: getPositionEffects(randomBuilding, capacity),\r\n\t//\tscore: Math.floor(Math.random() * 5) * 5 + 5,\r\n\t\tposition: { \r\n\t\t  x, \r\n\t\t  y \r\n\t\t},\r\n\t\tid: `${i}`, \r\n\t  };\r\n\r\n\t  generatedBuildings.push(building);\r\n\t}\r\n\treturn generatedBuildings;\r\n  };\r\n\r\n  \r\n  const getPositionEffects = (building: Building, capacity: number): BuildingEffect[][] => {\r\n\t// Restrict position effects from using the same effect as the main building effect. \r\n\r\n\tconst randomEffect = () => {\r\n\t\t\r\n\r\n\t\tif(Math.random() <.5){\r\n\t\t\treturn {type: BUILDING_EFFECT_TYPE.NONE, value: 0}\r\n\t\t}\r\n\t\tif(Math.random() < 0.3)  {\r\n\t\t\tswitch(Math.floor(Math.random() * 9)) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.ADD_TENSION))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_TENSION, value: Math.random() > .5 ? 5 : -5 };\r\n\t\t\t\tcase 3:\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.ADD_ENJOYMENT))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_ENJOYMENT, value: Math.random() > .5 ? 1 : -1 };\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.ADD_DM_POINT))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_DM_POINT, value: 1 };\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.ADD_PLAYER_POINT))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_PLAYER_POINT, value: 1 };\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.ADD_TREASURE))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_TREASURE, value: 1 };\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.INJURE))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tif(building.effects.some((effect) => effect.type === BUILDING_EFFECT_TYPE.HEAL))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.INJURE, value: 1 };\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_SCORE, value: 100 };\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif(Math.random() < 0.2) {\r\n\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_SCORE, value: 20 };\r\n\t\t} else {\r\n\t\t\treturn { type: BUILDING_EFFECT_TYPE.ADD_SCORE, value: (Math.floor(Math.random() * 2) + 1) * 5};\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst positionEffects = Array.from({ length: capacity }, () => {\r\n\t\treturn [randomEffect()];\r\n\t})\r\n\r\n\treturn positionEffects;\r\n}\r\n\r\n\r\n  useEffect(() => {\r\n    // Generate random buildings or use encounter-defined ones\r\n    const generatedBuildings = generateTownBuildings(encounter);\r\n    setBuildings(generatedBuildings);\r\n  }, [encounter]);\r\n\r\n// Add this new function\r\nconst assignCharacterToBuilding = (\r\n\tcharacter: Character, \r\n\tbuilding: TownBuilding, \r\n\tfromRect: DOMRect, \r\n\tbuildingRect: DOMRect\r\n) => {\r\n\t\r\n\t\r\n // Calculate target slot position\r\n const slotIndex = building.currentVisitors.length;\r\n const toRect = getSlotPosition(buildingRect, slotIndex, building.capacity);\r\n// Start animation\r\n\tsetAnimatingCharacter({ character, from: fromRect, to: toRect });\r\n \r\n\t  // Force a reflow before applying transform\r\n\t  requestAnimationFrame(() => {\r\n\t\tconst animatingElement = document.querySelector('.character-token.animating');\r\n\t\tif (animatingElement) {\r\n\t\t  // Set CSS variables for the transform\r\n\t\t  (animatingElement as HTMLElement).style.setProperty(\r\n\t\t\t'--move-x', \r\n\t\t\t`${toRect.left - fromRect.left}px`\r\n\t\t  );\r\n\t\t  (animatingElement as HTMLElement).style.setProperty(\r\n\t\t\t'--move-y', \r\n\t\t\t`${toRect.top - fromRect.top}px`\r\n\t\t  );\r\n\t\t  // Add moving class to trigger animation\r\n\t\t  animatingElement.classList.add('moving');\r\n\t\t}\r\n\t  });\r\n\r\n\r\n\t// Update assigned characters\r\n\tsetAssignedCharacters(prev => new Set([...prev, String(character.id)]));\r\n  \r\n\t// After animation completes, update building and apply effect\r\n\tsetTimeout(() => {\r\n\t  setAnimatingCharacter(null);\r\n\t  \r\n\t  // Update building\r\n\t  const updatedBuildings = buildings.map(b => ({\r\n\t\t...b,\r\n\t\tisHighlighted: b.id === building.id,\r\n\t\tcurrentVisitors: b.id === building.id \r\n\t\t  ? [...b.currentVisitors, character]\r\n\t\t  : b.currentVisitors\r\n\t  }));\r\n\t  setBuildings(updatedBuildings);\r\n  \r\n\t  // highlight building\r\n\t  const buildingElement = document.querySelector(`[data-building-id=\"${building.id}\"]`);\r\n\t  if (buildingElement) {\r\n\t\tbuildingElement.classList.add('highlight');\r\n\t\t//setTimeout(() => buildingElement.classList.remove('highlight'), 500);\r\n\t  }\r\n  \r\n\t  // Apply effect\r\n\t  setTimeout(() => {\r\n\t\t//townManager.BUILDING_EFFECTS[building.type].execute(character);\r\n\t\ttownManager.townBuildingResolved(character, building, slotIndex);\r\n\t  }, 100);\r\n\t}, 1000); // Match this with CSS animation duration\r\n  };\r\n\r\n  // Add this helper function to calculate slot position\r\nconst getSlotPosition = (buildingRect: DOMRect, slotIndex: number, totalSlots: number) => {\r\n\tconst slotWidth = 100; // Width of character token in slot\r\n\tconst slotSpacing = 10; // Space between slots\r\n\t//const totalWidth = (slotWidth * totalSlots) + (slotSpacing * (totalSlots - 1));\r\n\tconst startX = buildingRect.left + 42;//+ (buildingRect.width - totalWidth) / 2;\r\n\tconst y = buildingRect.bottom - 122; // Position slots near bottom of building\r\n  \r\n\treturn new DOMRect(\r\n\t  startX + (slotWidth + slotSpacing) * slotIndex,\r\n\t  y,\r\n\t  slotWidth,\r\n\t  slotWidth\r\n\t);\r\n  };\r\n// Modify handleCharacterClick\r\nconst handleCharacterClick = (character: Character, elementRect: DOMRect) => {\r\n\t//if (assignedCharacters.has(String(character.id))) return;\r\n  \r\n\tif (autoAssign) {\r\n\t  const availableBuildings = getAvailableBuildings();\r\n\t  if (availableBuildings.length > 0) {\r\n\t\tconst randomBuilding = availableBuildings[Math.floor(Math.random() * availableBuildings.length)];\r\n\t\tconst buildingElement = document.querySelector(`[data-building-id=\"${randomBuilding.id}\"]`);\r\n\t\tif (buildingElement) {\r\n\t\t  const buildingRect = buildingElement.getBoundingClientRect();\r\n\t\t  assignCharacterToBuilding(character, randomBuilding, elementRect, buildingRect);\r\n\t\t  townManager.townBuildingAssigned(character, randomBuilding);\r\n\t\t  if(exhaustion > 0) {\r\n\t\t\tappManager.getPartyManager().exhaustParty(exhaustion);\r\n\t\t}\r\n\t\t  \r\n\t\t  setExhaustion(exhaustion + 2);\r\n\t\t}\r\n\t  }\r\n\t} else {\r\n\t  setSelectedCharacter(character);\r\n\t}\r\n  };\r\n// Modify handleBuildingClick\r\nconst handleBuildingClick = (building: TownBuilding, elementRect: DOMRect) => {\r\n\tif (!selectedCharacter || building.currentVisitors.length >= building.capacity) {\r\n\t  return;\r\n\t}\r\n  \r\n\tconst characterElement = document.querySelector(`[data-character-id=\"${selectedCharacter.id}\"]`);\r\n\tif (characterElement) {\r\n\t  const characterRect = characterElement.getBoundingClientRect();\r\n\t  assignCharacterToBuilding(selectedCharacter, building, characterRect, elementRect);\r\n\t}\r\n  \r\n\tsetSelectedCharacter(null);\r\n  };\r\n\r\n\r\n  const handleTagClick = (flavorTag: EncounterFlavorTag, building: TownBuilding) => {\r\n\t\r\n\t\r\n\t\r\n\t//get the character in the last index\r\n\tconst character = building.currentVisitors[building.currentVisitors.length - 1];\r\n\r\n\tappManager.getChatManager().townEvent( flavorTag,character, building.building);\r\n\tcampaignManager.resolveTownTag(flavorTag);\r\n\t// Update buildings state to mark tag as resolved\r\n\tsetBuildings(buildings.map(b => {\r\n\t  if (b.id === building.id) {\r\n\t\treturn {\r\n\t\t  ...b,\r\n\t\t  isHighlighted: false,\r\n\t\t  resolvedTags: [...b.resolvedTags, flavorTag.tag]\r\n\t\t};\r\n\t  }\r\n\t  return b;\r\n\t}));\r\n\tconst buildingElement = document.querySelector(`[data-building-id=\"${building.id}\"]`);\r\n\tif (buildingElement) {\r\n\t\tbuildingElement.classList.remove('highlight')\r\n\t}\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n\t<div className=\"town-encounter\">\r\n\t  <div className=\"buildings-container\">\r\n\t\t{buildings.map((building, index) => (\r\n\t\t  <BuildingCard \r\n\t\t\tkey={index}\r\n\t\t\tbuilding={building}\r\n\t\t\tonClick={(e) => handleBuildingClick(building, e.currentTarget.getBoundingClientRect())}\r\n\t\t\tisSelectable={selectedCharacter !== null && \r\n\t\t\t\t\t\t building.currentVisitors.length < building.capacity}\r\n\t\t\tdata-building-id={building.id}\r\n\t\t\tonTagClick={handleTagClick}\r\n\t\t\tonCharacterClick={handleCharacterClick} \r\n\t\t  />\r\n\t\t))}\r\n\t  </div>\r\n\t  \r\n\t  <div className=\"characters-container\">\r\n\t\t<div className=\"character-holder\">\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"characters-title\">Encourage a character to act</div>\r\n\t\t\t<div className=\"characters-display\">\r\n\t\t\t\t{exhaustion > 0 && <div className=\"exhaustion-title\">Next action {exhaustion} Party Exhaustion</div>}\r\n\t\t\t\t<div className=\"characters-row\">\r\n\t\t\t\t\t\t{characters\r\n\t\t\t\t\t\t//  .filter(char => !assignedCharacters.has(String(char.id)))\r\n\t\t\t\t\t\t.map((character, index) => (\r\n\t\t\t\t\t\t\t<CharacterToken\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tcharacter={character}\r\n\t\t\t\t\t\t\tisSelected={selectedCharacter === character}\r\n\t\t\t\t\t\t\tonClick={(e) => handleCharacterClick(character, e.currentTarget.getBoundingClientRect())}\r\n\t\t\t\t\t\t\tdata-character-id={String(character.id)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n\t  {animatingCharacter && (\r\n  <CharacterToken\r\n    character={animatingCharacter.character}\r\n    style={{\r\n      position: 'fixed',\r\n      left: `${animatingCharacter.from.left}px`,\r\n      top: `${animatingCharacter.from.top}px`,\r\n      width: `${animatingCharacter.from.width}px`,\r\n      height: `${animatingCharacter.from.height}px`,\r\n      transition: 'transform 1.0s ease'  // Changed from 'all' to just 'transform'\r\n    }}\r\n    className=\"animating\" // Add this class\r\n    mini={true} // Add this to match destination size\r\n    onClick={() => {}}\r\n  />\r\n)}\r\n\t</div>\r\n  );\r\n}\r\n\r\nexport default GameEncounterTown;","\n\nimport { Encounter } from '../../models';\n\n\n\ninterface GameEncounterTrapProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterTrap: React.FC<GameEncounterTrapProps> = ({encounter}) => {\n\n\t\n\t  return (\n\t\t<div className=\"game-encounter-combat\">\n\t\t  <div className=\"encounter-type-title\">Trap</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterTrap;","import { useEffect, useRef, useState } from \"react\";\nimport { useAppManager } from \"../managerContexts\";\nimport { CombatState, Tag } from \"../../models\";\nimport RangeCard from \"./rangeCard\";\nimport CombatModifiers from \"./combatModifiers\";\nimport ModeContainer from \"../modecontainer\";\nimport AddCombatants from \"./addCombatants\";\nimport { THEME_FILLED_REQ } from \"../../consts/general\";\n\n\ninterface ChallengeBarProps      {\n  results: number;\n  resultsValues: number[][];\n}\n\n\n\n\nconst barLabels = ['Score', 'Tension on fail', 'Expected Reward'];\n\n\nconst ChallengeBar: React.FC<ChallengeBarProps> = ({results, resultsValues}) => {\n\n\n   \n    const challengeBarArrayLength = resultsValues[0].length;\n    const appManager = useAppManager();\n    const combatManager = appManager.getCombatManager();\n    const partyManager = appManager.getPartyManager();\n    const chatManager = appManager.getChatManager();\n\n    const campaignManager = appManager.getCampaignManager();\n    \n    const themes = campaignManager.getCollectedThemes();\n \n    const [engagementLabels, setEngagementLabels] = useState<number[][]>(resultsValues);\n  \n    const [highlightedSegment, setHighlightedSegment] = useState<number>(results);\n   \n    const segmentWidth = 100 / challengeBarArrayLength;\n    const arrowPosition = `${highlightedSegment * segmentWidth + segmentWidth/2}%`;\n\n   \n\n    \n    useEffect(() => {\n        setHighlightedSegment(results)\n    }, [results]);\n\n    const generateColorsFromLabels = (numbers: number[],index: number): string[] => {\n        const themes = ['engagement','stress', 'reward'];\n        \n        const theme = themes[index];\n\n        const min = Math.min(...numbers);\n        const max = Math.max(...numbers);\n        return numbers.map(n => combatManager.generateColorFromValue(n, min, max, theme));\n    };\n      \n    \n    const getSegments = (index: number) => {\n\n\nconst reward = index === 2;\n        const segmentColors = generateColorsFromLabels(engagementLabels[index], index);\n        const labels = engagementLabels[index];\n        const segments = Array.from({ length: challengeBarArrayLength }, (_, index) => (\n            <div\n            key={index}\n            className={\n                `challenge-bar-segment  \n                ${index === highlightedSegment ? 'highlighted' : ''}\n                ${reward ? 'reward' : ''}\n            `}\n            style={{ \n                backgroundColor: segmentColors[index] || '',\n                \n            }}\n            ><div className=\"label\">{labels[index]}</div></div>\n        ));\n        return (\n            <div className = \"challenge-bar\">\n                <div className=\"segment-container\">{segments}</div>\n            </div>);\n    }\n\n\n    return (\n        <div className=\"challenge-reward-row\">\n            <div className=\"challenge-bar-container\">\n                <div className=\"challenge-bar-results-label\">RESULTS</div>\n                <div className=\"challenge-labels\">\n                    {barLabels.map((label, index) => (\n                        <div key={index} className=\"challenge-label\">\n                            {label}\n                        </div>\n                    ))}\n                </div>\n                <div className=\"challenge-bars\">\n                    <div className=\"segment-numbers\">\n                        {Array.from({ length: challengeBarArrayLength }, (_, i) => (\n                        <div key={i} className=\"segment-number\">{i}</div>\n                        ))}\n                    </div>\n                    <div className=\"challenge-arrow\" style={{ left: arrowPosition }} />\n                    {engagementLabels.map((_l, index) => (\n                        <div className=\"segment-instance\" key={index}>{getSegments(index)}</div>\n                    ))}\n                    </div>\n                </div>\n            </div>\n);\n}\nexport default ChallengeBar; ","import { Attributes } from \"react\";\r\nimport { Attribute, Campaign, Tag } from \"../models\";\r\nimport { TAG } from \"../consts/tags\";\r\n\r\n\r\nexport const getAttributesForTag = (tag: Tag, campaign?: Campaign): Attribute => {\r\n    if(tag.attributeDefault) {\r\n        switch(tag.attributeDefault) {\r\n            case 'furniture':\r\n                return {\r\n                    combat: 1,\r\n                    tools: 2\r\n                };\r\n            case 'food':\r\n                return {\r\n                    tools: 2\r\n                }\r\n            default: {\r\n                return {\r\n                    tools: 1\r\n                };\r\n            }\r\n        }\r\n    } else {\r\n        switch(tag) {\r\n            case TAG.RACE.HUMANS:\r\n                return {\r\n                    combat: 2,\r\n                    tools: 2,\r\n                };\r\n            case TAG.RACE.HALFLINGS:\r\n                return {\r\n                    combat: 1,\r\n                    tools: 2,\r\n                    magic: 1\r\n                };\r\n            case TAG.EVENTS.MYSTERIES:\r\n                {\r\n                    return {\r\n                        magic: 1,\r\n                        tools: 1\r\n                    };\r\n                }\r\n            case TAG.MONSTERS.CULTISTS:\r\n                {\r\n                    return {\r\n                        magic: 3,\r\n                        tools: 1\r\n                    };\r\n                }\r\n                \r\n        }\r\n    }\r\n    return {};\r\n}","export const NAMES = {\n  'CHARACTER_NAMES' : [\n        // Firstnames\n        ['Godfrey', 'Sable', 'Saul', 'Jimbo', 'Neb', 'Nestrin', 'Dirk', 'Crystal', 'Immeral', 'Olga', 'Ricky'],\n        // Lastnames\n        ['Rose', 'Goodwyne', 'Halfheart', 'Farmer', 'Taylor', 'of the Sea', 'Trainer', 'of the Woods', 'Silkmonger', 'Smith']\n    ],\n    'PLAYER_NAMES' : [\n        // First Names\n        ['Olivier', 'Dan', 'Matt', 'Maxim', 'Angie', 'Charlotte', 'Dawn', 'Bill', 'Tom', 'Sarah'],\n        // Last Names\n        ['Brass', 'Andrews', 'Wallace', 'Skuski', 'Kubrik', 'Binchs', 'Wells', 'Anteds', 'Kruk', 'Madup']\n    ]\n}\n","import { NAMES } from \"../consts/names\";\n\n\nexport function test1(): string {\n  return 'test1';\n}\n\nexport function test2(): string {\n  return 'test2';\n}\n\n// Linear interpolation between two numbers\nexport const lerp = (a: number, b: number, t: number): number => {\n  return a + (b - a) * t;\n};\n\n// Linear interpolation between two colors\nexport const lerpColor = (a: string, b: string, d: number, l: number): string => {\n\n  const t = l / d;\n\n  const ah = parseInt(a.replace(/#/g, ''), 16);\n  const ar = ah >> 16;\n  const ag = (ah >> 8) & 0xff;\n  const ab = ah & 0xff;\n\n  const bh = parseInt(b.replace(/#/g, ''), 16);\n  const br = bh >> 16;\n  const bg = (bh >> 8) & 0xff;\n  const bb = bh & 0xff;\n\n  const rr = Math.round(ar + t * (br - ar));\n  const rg = Math.round(ag + t * (bg - ag));\n  const rb = Math.round(ab + t * (bb - ab));\n\n  return `#${((1 << 24) + (rr << 16) + (rg << 8) + rb).toString(16).slice(1)}`;\n};\n\n\nexport const randomElement = (someArray: any[]) : any => {\n  return someArray[Math.floor(Math.random() * someArray.length)]\n}\n\nexport const generateName = (character = true): string => {\n\n  const firstName = randomElement(character ? NAMES.CHARACTER_NAMES[0] : NAMES.PLAYER_NAMES[0]);\n  const lastName = randomElement(character ? NAMES.CHARACTER_NAMES[1] : NAMES.PLAYER_NAMES[1]);\n\n  return firstName + ' ' + lastName;\n}\n\nexport function clamp(value: number, min: number, max: number): number {\n  return Math.min(Math.max(value, min), max);\n}","export const SCORE = {\n    COMPLETE_BACKSTORY: 25,\n    SKILL_CHALLENGE_ELEMENT: 10,\n}\n\nexport const COST = {\n    EXHAUSTION: {\n        CHALLENGE_PER_HERO: 5\n    },\n    PARTY_SCORE: {\n        BACKSTORY_ASSIGNED: 10,\n        MAGIC_ITEM_INTRODUCED: 5,\n        MAGIC_ITEM_FOUND: 15,\n        BACKSTORY_FULFILLED: 20,\n       \n    },\n    CAMPAIGN_SCORE: {\n         LOCATION_DESCRIBED: 1,\n        FORESHADOWED_ENCOUNTER: 5,\n        ENCOUNTER_TAG_RESOLVED: 10,\n        }\n}","import { useEffect, useState } from \"react\";\r\nimport { Tag, HeroCombatant, ATTRIBUTE_TYPE, ATTRIBUTE_CONTRIBUTOR, EncounterFlavorTag, Player } from \"../../models\";\r\nimport { useCampaignManager, useCharacterManager, usePartyManager, usePlayerManager } from \"../managerContexts\";\r\nimport { getAttributesForTag } from \"../../utils/tagUtils\";\r\nimport { JSX } from \"react/jsx-runtime\";\r\nimport AttributeDisplay from \"../UI/attributeDisplay\";\r\nimport { getCombinedAttributes } from '../../consts/characterConsts';\r\nimport { clamp } from \"../../utils/utils\";\r\nimport { COST, SCORE } from \"../../consts/score\";\r\n\r\ninterface ChallengeDisplayProps {\r\n    challengeTags: Tag[];\r\n    challengeAssistTags: Tag[];\r\n    challengeHeroes: HeroCombatant[];\r\n    attemptCallback: (success: boolean,result: number, currentTag: Tag) => void;\r\n    sawResultsCallback: () => void;\r\n    heroesEnabledCallback: (enabled: boolean) => void;\r\n}\r\n\r\nconst ChallengeDisplay: React.FC<ChallengeDisplayProps> = ({\r\n    challengeAssistTags,\r\n    challengeHeroes,\r\n    challengeTags,\r\n    attemptCallback,\r\n    sawResultsCallback,\r\n    heroesEnabledCallback,\r\n}) => {\r\n    const characterManager = useCharacterManager();\r\n    const campaignManager = useCampaignManager();\r\n    const partyManager = usePartyManager();\r\n    const playerManager = usePlayerManager();\r\n    const [currentDifficulty, setCurrentDifficulty] = useState(1);\r\n    const [currentTagIndex, setCurrentTagIndex] = useState(0);\r\n\r\n    const [dieResult, setDieResult] = useState(0);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const [completedChallenges, setCompletedChallenges] = useState<boolean[]>(\r\n        Array(challengeTags.length).fill(false)\r\n    );\r\n    const [resultFailed, setResultFailed] = useState(false);\r\n\r\n    const allChallengesCompleted = completedChallenges.every((completed) => completed);\r\n\r\n    const generateTagIcons = (tag: Tag, multiplier: number) => {\r\n        let icons: JSX.Element[] = [];\r\n        let symbol;\r\n        let attributes = getAttributesForTag(tag);\r\n\r\n        const attributeKeys = Object.keys(attributes) as (keyof typeof attributes)[];\r\n\r\n        attributeKeys.forEach((key) => {\r\n            if (attributes[key]) {\r\n                for (let i = 0; i < attributes[key] * multiplier; i++) {\r\n                    symbol = characterManager.getUFAttributeSymbol(key as ATTRIBUTE_TYPE);\r\n                    icons.push(\r\n                        <span\r\n                            key={`${key as ATTRIBUTE_TYPE}-${i}`}\r\n                            className={`attribute-icon ${key as ATTRIBUTE_TYPE}`}\r\n                        >\r\n                            {symbol}\r\n                        </span>\r\n                    );\r\n                }\r\n            }\r\n        });\r\n        return icons;\r\n    };\r\n\r\n    const isTagEstablished = (tag: Tag): boolean => {\r\n        return campaignManager.getEstablishedTags().some((establishedTag) => establishedTag.name === tag.name) || \r\n               campaignManager.getCollectedLocationTags().some((establishedTag) => establishedTag.name === tag.name);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setShowResult(false);\r\n        if(completedChallenges[currentTagIndex]) { \r\n            heroesEnabledCallback(false);\r\n        }else{\r\n            heroesEnabledCallback(true);\r\n        }\r\n\r\n        if (!isTagEstablished(challengeTags[currentTagIndex])) {\r\n            setCurrentDifficulty(0);\r\n        } else {\r\n            if (currentDifficulty === 0) {\r\n                setCurrentDifficulty(1);\r\n            }\r\n        }\r\n    }, [currentTagIndex, completedChallenges]);\r\n\r\n    const heros = (hero?: HeroCombatant) => {\r\n        if (!hero)\r\n            return (\r\n                <div className=\"challenge-assistance-hero no-hero\">\r\n                    Ask a player to select a hero to attempt the challenge.\r\n                </div>\r\n            );\r\n\r\n        return (\r\n            <div className=\"challenge-assistance-hero\">\r\n                <div className=\"challenge-assistance-hero-name\">{hero.name}</div>\r\n                <AttributeDisplay\r\n                    hero={hero}\r\n                    collapsed={true}\r\n                    showAttributeLoss={false}\r\n                    category={ATTRIBUTE_CONTRIBUTOR.ALL}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getAllAssistAttributes = (\r\n        heroes: HeroCombatant[],\r\n        challengeAssistTags: Tag[]\r\n    ) => {\r\n        let combinedAttributes: { [key in ATTRIBUTE_TYPE]?: number } = {};\r\n        heroes.forEach((hero) => {\r\n            if (hero.npcTag) {\r\n                hero = characterManager.generateNPC(hero.npcTag);\r\n            }\r\n\r\n            let heroAttributes = getCombinedAttributes(hero.character, true);\r\n            let heroAttributeKeys = Object.keys(\r\n                heroAttributes\r\n            ) as (keyof typeof heroAttributes)[];\r\n            heroAttributeKeys.forEach((key) => {\r\n                if (combinedAttributes[key]) {\r\n                    combinedAttributes[key] += heroAttributes[key];\r\n                } else {\r\n                    combinedAttributes[key] = heroAttributes[key];\r\n                }\r\n            });\r\n        });\r\n\r\n        challengeAssistTags.forEach((tag) => {\r\n            let tagAttributes = getAttributesForTag(tag);\r\n            let tagAttributeKeys = Object.keys(\r\n                tagAttributes\r\n            ) as (keyof typeof tagAttributes)[];\r\n            tagAttributeKeys.forEach((key) => {\r\n                if (combinedAttributes[key] && tagAttributes[key]) {\r\n                    combinedAttributes[key] =\r\n                        (combinedAttributes[key] || 0) + tagAttributes[key];\r\n                } else {\r\n                    combinedAttributes[key] = tagAttributes[key];\r\n                }\r\n            });\r\n        });\r\n        return combinedAttributes;\r\n    };\r\n\r\n    const calculateSuccess = (\r\n        currentTag: Tag,\r\n        difficulty: number,\r\n        heroes: HeroCombatant[],\r\n        challengeAssistTags: Tag[]\r\n    ) => {\r\n\r\n        if(heroes.length === 0) {\r\n            return {\r\n                base: 0,\r\n                combat: 0,\r\n                magic: 0,\r\n                tools: 0,\r\n                total: 0\r\n            }\r\n        }\r\n  \r\n\r\n        let challengeAttributes = getAttributesForTag(currentTag);\r\n\r\n        let assistAttributes = getAllAssistAttributes(heroes, challengeAssistTags);\r\n\r\n        let baseChance = 75; // campaignManager.getBaseFromWhateverThemesOrPlayerStuffIDontKnow\r\n        const multiplier = difficulty + 1;\r\n\r\n        let combat =\r\n            (challengeAttributes[ATTRIBUTE_TYPE.COMBAT] || 0) * (multiplier || 1);\r\n        let magic =\r\n            (challengeAttributes[ATTRIBUTE_TYPE.MAGIC] || 0) * (multiplier || 1);\r\n        let tools =\r\n            (challengeAttributes[ATTRIBUTE_TYPE.TOOLS] || 0) * (multiplier || 1);\r\n\r\n        let assistCombat = assistAttributes[ATTRIBUTE_TYPE.COMBAT] || 0;\r\n        let assistMagic = assistAttributes[ATTRIBUTE_TYPE.MAGIC] || 0;\r\n        let assistTools = assistAttributes[ATTRIBUTE_TYPE.TOOLS] || 0;\r\n\r\n        let combatChance = combat === 0 ? 0 : (combat - assistCombat) * -5;\r\n        let magicChance = magic === 0 ? 0 : (magic - assistMagic) * -5;\r\n        let toolsChance = tools === 0 ? 0 : (tools - assistTools) * -5;\r\n\r\n        let totalChance = clamp(\r\n            baseChance + combatChance + magicChance + toolsChance,\r\n            5,\r\n            95\r\n        );\r\n\r\n        return {\r\n            base: baseChance,\r\n            combat: combatChance,\r\n            magic: magicChance,\r\n            tools: toolsChance,\r\n            total: totalChance,\r\n        };\r\n    };\r\n\r\n\r\n    const attemptChallenge = (\r\n        currentTag: Tag,\r\n        difficulty: number,\r\n        heroes: HeroCombatant[],\r\n        challengeAssistTags: Tag[]\r\n    ) => {\r\n        heroesEnabledCallback(false);\r\n        if (heroes.length === 0) {\r\n            return;\r\n        }\r\n       \r\n        const playersInvolved: Player[] = [];\r\n        heroes.forEach((hero) => {\r\n            if (hero.character) {\r\n                const player = playerManager.getPlayerAssignedCharacter(hero.character);\r\n                if (player) {\r\n                    playersInvolved.push(player);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        partyManager.stressAction(playersInvolved);\r\n        partyManager.playersTakeAction(\r\n            heroes\r\n                .map((hero) => {\r\n                    if (hero.character) {\r\n                        return playerManager.getPlayerAssignedCharacter(hero.character)?.name;\r\n                    }\r\n                    return '';\r\n                })\r\n                .filter((name): name is string => name !== undefined && name !== '')\r\n        );\r\n        const dieRoll = Math.ceil(Math.random() * 100);\r\n        setDieResult(dieRoll);\r\n        const calcSuccess = calculateSuccess(\r\n            currentTag,\r\n            difficulty,\r\n            heroes,\r\n            challengeAssistTags\r\n        );\r\n\r\n        partyManager.addPartyScore(SCORE.SKILL_CHALLENGE_ELEMENT)\r\n\r\n        const success = dieRoll <= calcSuccess.total;\r\n        if (success) {\r\n            setResultFailed(false);\r\n            attemptCallback(success, difficulty, currentTag);\r\n            if(difficulty > 0) {\r\n                let newCompletedChallenges = [...completedChallenges];\r\n                newCompletedChallenges[currentTagIndex] = true;\r\n                setCompletedChallenges(newCompletedChallenges);\r\n            } else {\r\n                campaignManager.resolveExpectedTagsForBranch(currentTag);\r\n            }\r\n\r\n        } else {\r\n            setResultFailed(true);\r\n            attemptCallback(false, difficulty, currentTag);\r\n        }\r\n        setShowResult(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        \r\n    }, [showResult])\r\n\r\n    const handleResultAccept = () => {\r\n        setShowResult(false);\r\n        if(currentDifficulty === 0 && !resultFailed) {\r\n            setCurrentDifficulty(1);\r\n        }\r\n        sawResultsCallback();\r\n    }\r\n\r\n    const getDifficultyText = (difficulty: number) => {\r\n        switch (difficulty) {\r\n            case 0:\r\n                return \"Establishing\";\r\n            case 1:\r\n                return \"Easy\";\r\n            case 2:\r\n                return \"Challenging\";\r\n            case 3:\r\n                return \"Difficult\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    };\r\n\r\n    const getDifficultyRewardText = (difficulty: number) => {\r\n        switch (difficulty) {\r\n            case 0:\r\n                return \"\";\r\n            case 1:\r\n                return \"+1 result\";\r\n            case 2:\r\n                return \"+2 result\";\r\n            case 3:\r\n                return \"+3 result\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    };\r\n\r\n    const clickNext = () => {\r\n        if (currentTagIndex < challengeTags.length - 1) {\r\n            setCurrentTagIndex(currentTagIndex + 1);\r\n        } else {\r\n            setCurrentTagIndex(0);\r\n           \r\n        }\r\n         sawResultsCallback();\r\n    };\r\n    const clickPrev = () => {\r\n        if (currentTagIndex > 0) {\r\n            setCurrentTagIndex(currentTagIndex - 1);\r\n        } else {\r\n            setCurrentTagIndex(challengeTags.length - 1);\r\n        }\r\n        sawResultsCallback()\r\n    };\r\n    const clickDifficultyUp = () => {\r\n        if (currentDifficulty === 3) {\r\n            setCurrentDifficulty(1);\r\n        } else {\r\n            setCurrentDifficulty(currentDifficulty + 1);\r\n        }\r\n    };\r\n    const clickDifficultyDown = () => {\r\n        if (currentDifficulty === 1) {\r\n            setCurrentDifficulty(3);\r\n        } else {\r\n            setCurrentDifficulty(currentDifficulty - 1);\r\n        }\r\n    };\r\n\r\n    const renderLegend = (\r\n        currentTag: Tag,\r\n        difficulty: number,\r\n        heroes: HeroCombatant[],\r\n        challengeAssistTags: Tag[]\r\n    ) => {\r\n        const difficultyRating = calculateSuccess(\r\n            currentTag,\r\n            difficulty,\r\n            heroes,\r\n            challengeAssistTags\r\n        );\r\n\r\n        return (\r\n            <div className=\"challenge-display-footer-legend-container\">\r\n                <div className=\"challenge-display-legend-info\">\r\n                    <div className=\"challenge-display-legend-item\">\r\n                        <u>Base</u>\r\n                        <br />\r\n                        {difficultyRating.base}%\r\n                        <br />\r\n                    </div>\r\n                    <div className=\"challenge-display-legend-item\">\r\n                        <u></u>\r\n                        <br />\r\n                        {difficultyRating.combat < 0 ? \"\" : \"+\"}\r\n                        {difficultyRating.combat}%\r\n                        <br />\r\n                    </div>\r\n                    <div className=\"challenge-display-legend-item\">\r\n                        <u></u>\r\n                        <br />\r\n                        {difficultyRating.magic < 0 ? \"\" : \"+\"}\r\n                        {difficultyRating.magic}%\r\n                        <br />\r\n                    </div>\r\n                    <div className=\"challenge-display-legend-item\">\r\n                        <u></u>\r\n                        <br />\r\n                        {difficultyRating.tools < 0 ? \"\" : \"+\"}\r\n                        {difficultyRating.tools}%\r\n                        <br />\r\n                    </div>\r\n                </div>\r\n                <div className=\"challenge-display-legend-info\">\r\n                    <div className=\"challenge-display-legend-item\">\r\n                        +5 Exhaustion / Hero\r\n                    </div>\r\n                  \r\n                </div>\r\n                <div className=\"challenge-display-legend-info\">\r\n                <div className=\"challenge-display-legend-item\">\r\n    +10 Score / Location Element\r\n</div>\r\n\r\n                  \r\n                </div>\r\n                   \r\n            </div>\r\n        );\r\n    };\r\n    <div className=\"challenge-display-legend-item\">\r\n    +10 Score / Location Element\r\n</div>\r\n\r\n\r\n    const disableChallengeButton = () => {\r\n        return (\r\n            completedChallenges[currentTagIndex] || \r\n            challengeHeroes.length === 0\r\n        );\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"challenge-display-column\">\r\n            <div className=\"challenge-tag-container\">\r\n                <div className=\"challenge-tag-ui prev\" onClick={clickPrev}>\r\n                    <div className=\"challenge-tag-ui-text\">{\"<\"}</div>\r\n                </div>\r\n                <div\r\n                    className={`challenge-current-tag text-pill theme-${challengeTags[currentTagIndex]} ${\r\n                        isTagEstablished(challengeTags[currentTagIndex])\r\n                            ? \" type-encounter\"\r\n                            : \"expected\"\r\n                    } `}\r\n                >\r\n                    {challengeTags[currentTagIndex]?.name}\r\n                </div>\r\n                <div className=\"challenge-tag-ui next\" onClick={clickNext}>\r\n                    <div className=\"challenge-tag-ui-text\">{\">\"}</div>\r\n                </div>\r\n            </div>\r\n\r\n            {completedChallenges[currentTagIndex] && !showResult ? (\r\n                <div>\r\n                    <div className =\"challenge-succeeded-instructions\">{\r\n                    allChallengesCompleted ? 'Players have completed all Challenges. Reward them.' :\r\n                    'Continue the challenge with another element or reward the players and move on.'\r\n                    }</div>\r\n                    <div className=\"challenge-succeeded\">CHALLENGE SUCCEEDED</div>\r\n                </div>\r\n            ) :(\r\n            <div className = \"challenge-display-container\">\r\n                <div className=\"challenge-display\">\r\n                    <div className=\"challenge-display-row\">\r\n                        {currentDifficulty > 0 && (\r\n                            <div\r\n                                className=\"challenge-difficulty-ui difficulty-down\"\r\n                                onClick={clickDifficultyDown}\r\n                            >\r\n                                <div className=\"challenge-difficulty-ui-text\">-</div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"challenge-display-header-column\">\r\n                            <div className=\"challenge-display-instructions\">\r\n                                {currentDifficulty === 0\r\n                                    ? `Players haven't been exposed to ${challengeTags[currentTagIndex].name} yet. Introduce the new topic with a simple challenge.`\r\n                                    : \"Set the challenge rating and raise or lower the expected reward.\"}\r\n                            </div>\r\n\r\n                            <div className=\"challenge-tag-attribute-container\">\r\n                                {generateTagIcons(challengeTags[currentTagIndex], currentDifficulty + 1)}\r\n                            </div>\r\n                            <div className=\"challenge-difficulty-display-difficulty\">\r\n                                {currentDifficulty > 0 && (\r\n                                    <div>{getDifficultyText(currentDifficulty)} </div>\r\n                                )}\r\n                                <div>{getDifficultyRewardText(currentDifficulty)} </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {currentDifficulty > 0 && (\r\n                            <div\r\n                                className=\"challenge-difficulty-ui difficulty-up\"\r\n                                onClick={clickDifficultyUp}\r\n                            >\r\n                                <div className=\"challenge-difficulty-ui-text\">+</div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"challenge-assistance-container\">\r\n                    <div className=\"challenge-assistance-list\">\r\n                        <div className=\"challenge-assistance-list-column\">\r\n                            {challengeHeroes.length > 0 ? (\r\n                                challengeHeroes.map((hero, index) => (\r\n                                    <div key={hero.name || index}>{heros(hero)}</div>\r\n                                ))\r\n                            ) : (\r\n                                <div className=\"challenge-assistance-list-no-heroes\">\r\n                                    {heros()}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"challenge-assistance-list-column\">\r\n                            {challengeAssistTags.length > 0\r\n                                ? challengeAssistTags.map((tag, index2) => (\r\n                                        <div key={index2} className=\"challenge-assistance-tag\">\r\n                                            <div className=\"challenge-assistance-tag-name-container\">\r\n                                                <div className=\"challenge-assistance-tag-name text-pill type-location\">\r\n                                                    {tag?.name}\r\n                                                </div>\r\n                                            </div>\r\n                                            {tag && generateTagIcons(tag, 1)}\r\n                                        </div>\r\n                                    ))\r\n                                : null}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"challenge-display-footer\">\r\n                        <div className=\"challenge-attempt-attempt-row\">\r\n                            {renderLegend(\r\n                                challengeTags[currentTagIndex],\r\n                                currentDifficulty,\r\n                                challengeHeroes,\r\n                                challengeAssistTags\r\n                            )}\r\n                            {showResult ? (\r\n                                <div className=\"challenge-result-container\">\r\n                                    <div className=\"challenge-result-header\">\r\n                                        <u>{resultFailed ? \"FAILED\" : currentDifficulty === 0 ? \"Established\" : \"SUCCEEDED\"}</u>\r\n                                    </div>\r\n                                   \r\n                                    <div className=\"challenge-result-info\">\r\n                                        <div className=\"challenge-result-labels\">\r\n                                            {['Needed:','Rolled:'].map((label, index) => (\r\n                                                <div key={index} className=\"result-label\">\r\n                                                {label}\r\n                                            </div>\r\n                                            ))}   \r\n                                        </div>     \r\n                                        <div className=\"challenge-result-values\">\r\n                                            {[   calculateSuccess(\r\n                                                    challengeTags[currentTagIndex],\r\n                                                    currentDifficulty,\r\n                                                    challengeHeroes,\r\n                                                    challengeAssistTags\r\n                                                ).total\r\n                                            ,dieResult].map((label, index) => (\r\n                                                <div key={index} className=\"result-label\">\r\n                                                    {label}\r\n                                                </div>\r\n                                            ))}   \r\n                                        </div>   \r\n                                    </div>  \r\n                                    <div className=\"challenge-result-button\" onClick={() => handleResultAccept()}>\r\n                                        OK\r\n                                    </div>     \r\n                                                          \r\n                                </div>\r\n\r\n\r\n                            ) : (\r\n                            <div\r\n                                className={`challenge-attempt-button ${\r\n                                    completedChallenges[currentTagIndex] ? \"completed\" : \"\"\r\n                                }\r\n                                ${disableChallengeButton() ? \"disabled\" : \"\"}`}\r\n                                onClick={() =>\r\n                                    attemptChallenge(\r\n                                        challengeTags[currentTagIndex],\r\n                                        currentDifficulty,\r\n                                        challengeHeroes,\r\n                                        challengeAssistTags\r\n                                    )\r\n                                }\r\n                            >\r\n                                <div>\r\n                                    {currentDifficulty === 0 ? 'ESTABLISH' : 'ATTEMPT'}\r\n                                    <div className=\"challenge-attempt-button-success\">\r\n                                        {\r\n                                            calculateSuccess(\r\n                                                challengeTags[currentTagIndex],\r\n                                                currentDifficulty,\r\n                                                challengeHeroes,\r\n                                                challengeAssistTags\r\n                                            ).total\r\n                                        }\r\n                                        %\r\n                                    </div>\r\n                                    <div className=\"challenge-attempt-exhaustion\">\r\n                                        {`${COST.EXHAUSTION.CHALLENGE_PER_HERO* (challengeHeroes.length || 1)} Exhaustion`}\r\n                                    </div>\r\n                                </div>\r\n                           \r\n                            </div>\r\n                         )}\r\n                        </div>\r\n                   \r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChallengeDisplay;","\n\nimport { useEffect, useState } from 'react';\nimport { ATTRIBUTE_CONTRIBUTOR, ChatMessage, Encounter, HeroCombatant, Tag, FlavorTagSource, FlavorTagTheme } from '../../models';\nimport './challenge.scss';\nimport { useAppManager, useCampaignManager, usePlayerManager, useUiManager } from '../managerContexts';\nimport CImage from '../UI/cimage';\nimport AttributeDisplay from '../UI/attributeDisplay';\nimport ChallengeBar from './challengeBar';\nimport ChallengeDisplay from './challengeDisplay';\nimport PlayerManager from '../../managers/playerManager';\nimport { COST } from '../../consts/score';\nimport { ThemedButton } from '../UI/themedButton';\n\ninterface GameEncounterChallengeProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterChallenge: React.FC<GameEncounterChallengeProps> = ({encounter}) => {\n\n\n\tconst resultsValues =[\n\t\t[0, 5, 10, 15, 25, 35, 40, 50, 75, 100],\n\t\t[5, 7, 10, 12, 15, 18, 22, 26, 30, 35],  \n\t\t[1 , 1 , 1, 2, 2, 3, 3, 3, 4, 5]\n\t   \n\t]\n\tconst appManager = useAppManager();\n\tconst partyManager = appManager.getPartyManager();\n\tconst campaignManager = useCampaignManager();\n\tconst uiManager = useUiManager();\n\tconst chatManager = appManager.getChatManager();\n\tconst playerManager = usePlayerManager();\n\n\tlet locationTags = campaignManager.currentEncounter?.location.tags || [];\n\tconst collectedLocationTags = campaignManager.getCollectedLocationTagsForChallenge();\n\tconst [usedLocationTags, setUsedLocationTags] = useState<boolean[]>(new Array(locationTags.length).fill(false));\n\tconst [selectedHeroes, setSelectedHeroes] = useState<HeroCombatant[]>([]);\n\tconst [selectedLocationTags, setSelectedLocationTags] = useState<Tag[]>([]);\n\tconst [heroes, setheroes] = useState<HeroCombatant[]>(partyManager.generateHeroes([]));\n\tconst [playerAssignedTags, setPlayerAssignedTags] = useState<(Tag|null)[]>(new Array(heroes.length).fill(null));\n    const [challengeResults, setChallengeResults] = useState(0);\n\tconst [numFailures, setNumFailures] = useState(0);\n\tconst [heroesEnabled, setHeroesEnabled] = useState(true);\n\tconst [buttonKeys, setButtonKeys] = useState<{ [key: number]: number }>({});\n\tconst challenge = campaignManager.currentEncounter?.challenge;\n\tconst challengeTitle= (challenge && challenge[0]?.name) || \"Skill Challenge\";\n\tconst challengeDescription = (challenge && challenge[0]?.description) || \"You must overcome a challenge to proceed.\";\n\t//const [succeeded, setSucceeded] = useState(false);\n\n\tconst uncollectedLocationTags = locationTags.filter((tag) => \n\t\t!collectedLocationTags.some(collectedTag => collectedTag.name === tag.name)\n\t  );\n\n\t\n\tconst showLocationTag = (index: number) => {\n\t\treturn playerAssignedTags[index];;\n\t}\n\t\n\n\tconst regenerateAllButtons = () => {\n\t\tsetButtonKeys({});\n\t\tfor(let i = 0; i < heroes.length; i++) {\n\t\t\tregenerateButton(i);\n\t\t}\n\t}\n\n\tconst regenerateButton = (index: number) => {\n\t\tsetButtonKeys(prev => ({\n\t\t  ...prev,\n\t\t  [index]: Math.random()\n\t\t}));\n\t  };\n\n\tconst canSelectLocationTag = (index: number) => {\n\t\tif(playerAssignedTags[index]){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tif(!selectedHeroes.includes(heroes[index])) \n\t\t\treturn false;\n\t\t\n\t\tif(collectedLocationTags.length <= selectedLocationTags.length){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tconst selectRandomTag = (playerIndex: number) => {\n\t\tif(!canSelectLocationTag(playerIndex)) {\n\t\t\treturn;\n\t\t}\n\t\tif(collectedLocationTags.length <= selectedLocationTags.length){\n\t\t\treturn;\n\t\t}\n\n\t\tfor(let i = 0; i < collectedLocationTags.length; i++) {\n\t\t\tconst tag = collectedLocationTags[i];\n\t\t\tif(!selectedLocationTags.includes(tag) && !usedLocationTags[i]) {\n\t\t\t\tassignTagToPlayer(playerIndex, tag);\n\t\t\t\tconst tagIndex = collectedLocationTags.findIndex(locationTag => locationTag.name === tag.name);\n\t\t\t\thandleSelectAssistTag(tagIndex);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst assignTagToPlayer = (playerIndex: number, tag: Tag) => {\n\t\tconst newPlayerAssignedTags = [...playerAssignedTags];\n\t\tnewPlayerAssignedTags[playerIndex] = tag;\n\t\tsetPlayerAssignedTags(newPlayerAssignedTags);\n\t\tconst random = Math.floor(Math.random() * 3);\n\t\tlet chatMessage = `Could I use ${tag.name} here?`;\n\t\tswitch(random) {\n\t\t\tcase 0:\n\t\t\t\tchatMessage = `Oh! I'll use the ${tag.name} we were talking about earlier!`;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tchatMessage = `${tag.name} will give me a bit of an edge.`;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tchatMessage = `I think ${tag.name} will help me out here.`;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tchatMessage = `Could I use ${tag.name} here?`;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tchatManager.playerMessage(chatMessage, playerIndex);\n\t}\n\t\n\n\tconst handleSelectAssistTag = (index: number) => {\n\n\t\tconst newUsedLocationTags = [...usedLocationTags];\n\t\tnewUsedLocationTags[index] = !newUsedLocationTags[index];\n\t\tsetUsedLocationTags(newUsedLocationTags);\n\t\tif(selectedLocationTags.includes(collectedLocationTags[index])) {\n\t\t\tsetSelectedLocationTags(selectedLocationTags.filter(flavorTag => flavorTag.name !== collectedLocationTags[index].name));\n\t\t} else {\n\t\t\tsetSelectedLocationTags([...selectedLocationTags, collectedLocationTags[index]]);\n\t\t}\n\t}\n\n\tconst handleClickHeroAssist = (index: number, theme: string | null) => {\n\n\t\tconst player = heroes[index].character ? playerManager.getPlayerAssignedCharacter(heroes[index].character) : null;\n\t\tconst assisting = selectedHeroes.length > 0;\n\t\tconsole.log('Theme? ', theme);\n\n\t\tif(selectedHeroes.includes(heroes[index])) {\n\t\t\tsetSelectedHeroes(selectedHeroes.filter(hero => hero.name !== heroes[index].name));\n\t\t\tif(playerAssignedTags[index]) {\n\t\t\t\tdelectAssignedLocationTag(index);\n\t\t\t}\n\t\t\tif(player) {\n\t\t\t\tchatManager.playerMessage(`Actually, ${heroes[index].name} is going to sit this one out...`, player.id);\n\t\t\t}\n\t\t} else {\n\t\t\tsetSelectedHeroes([...selectedHeroes, heroes[index]]);\n\t\t\tif(player) {\n\t\t\t\tif(assisting){\n\t\t\t\t\tif(theme){\n\t\t\t\t\t\tswitch(theme) {\n\t\t\t\t\t\t\t\tcase 'comedic':\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Heehee...${heroes[index].name} will help.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase 'heroic':\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `${heroes[index].name} will assist.... FOR JUSTICE!`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `serious`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `${heroes[index].name} better help out. This is serious.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `dramatic`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `To aid in your hour of need, ${heroes[index].name} will help!`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `grim`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Maybe we will both die, but ${heroes[index].name} will help.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `romantic`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Maybe you want some company doing that...?  ${heroes[index].name} can help out.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `fantasy`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Like in all good stories, heroes stick together... ${heroes[index].name} will help!`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `horror`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `It gives me the chills, but ${heroes[index].name} will help anyway.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tchatManager.playerMessage(`${heroes[index].name} can help!`, player.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\tif(theme){\n\t\t\t\t\t\tswitch(theme) {\n\t\t\t\t\t\t\t\tcase 'comedic':\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Heehee...${heroes[index].name} will do this, but while singing in a high-pitched voice.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase 'heroic':\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `${heroes[index].name} will do this FOR JUSTICE!`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `serious`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `Lets stop fooling around. ${heroes[index].name} will do this.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `dramatic`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `For the glory of whatever we are doing, ${heroes[index].name} will do this.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `grim`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `If ${heroes[index].name} dies doing this, so be it.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `romantic`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `OooOooh. I think ${heroes[index].name} can handle this in style...`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `fantasy`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `${heroes[index].name} will do this with magic or something fantastical...`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tcase `horror`:\n\t\t\t\t\t\t\t\t chatManager.playerMessage( `There's something creepy about this, but ${heroes[index].name} will do it anyway.`);\n\t\t\t\t\t\t\t\t break;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tchatManager.playerMessage(`${heroes[index].name} will attempt this challenge!`, player.id);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tchatManager.dmMessage(challengeDescription);\n\t}, [])\n\n\tconst getPlayerUsedLocationTag = (index: number) => {\n\t\treturn playerAssignedTags[index]?.name || \"Select a Tag\";\n\t}\n\n\n\tconst isSelected = (index: number) => {\n\t\treturn selectedHeroes.includes(heroes[index]);\n\t}\n\n\tconst delectAssignedLocationTag = (playerIndex: number) => {\n\t\t// match the tag to the tag index and remove it from the selectedLocationTags\n\t\tconst tag = playerAssignedTags[playerIndex];\n\t\tif(tag) {\n\t\t\tconst newPlayerAssignedTags = [...playerAssignedTags];\n\t\t\tnewPlayerAssignedTags[playerIndex] = null;\n\t\t\tsetPlayerAssignedTags(newPlayerAssignedTags);\n\t\t\tsetSelectedLocationTags(selectedLocationTags.filter(selectedTag => selectedTag.name !== tag.name));\n\n\t\t\t\n\t\t\tsetUsedLocationTags(usedLocationTags.map((used, index) => {\n\t\t\t\tif(collectedLocationTags[index]?.name === tag.name) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn used;\n\t\t\t}));\n\t\t}\n\t}\n\n\tconst sawResultCallback = () => {\n\t\tsetSelectedLocationTags([]);\n\t\tsetSelectedHeroes([]);\n\t\tsetPlayerAssignedTags(new Array(heroes.length).fill(null));\n\n\t\tsetHeroesEnabled(true);\n\t\tregenerateAllButtons();\n\t\t\n\t}\n\n\tconst enableHerosCallback= (enable: boolean) => {\n\t\tsetHeroesEnabled(enable);\n\t}\n\n\tconst assistOrAttempt = (toUpper = false, buttonSelected = false) => {\n\t\tif(buttonSelected){\n\t\t\treturn \"DESELECT\"\n\t\t}\n\t\tif(selectedHeroes.length === 0) {\n\t\t\tif(toUpper) {\n\t\t\t\treturn \"ATTEMPT\";\n\t\t\t}\n\t\t\treturn \"Attempt\";\n\t\t}\n\n\t\tif(toUpper) {\n\t\t\treturn \"ASSIST\";\n\t\t}\n\n\t\treturn \"Assist\";\n\t}\n\n\tconst renderHeroes = () => {\n\t\treturn(\n\t\t<div className=\"challenge-encounter-heroes\">\n\t\t\t\t<div className=\"challenge-encounter-available-tags-title\">\n\t\t\t\t\tChoose Hero to {assistOrAttempt()}\n\t\t\t\t</div>\n\t\t\t\t{heroes && heroes.map((hero, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={hero.name} className=\"challenge-encounter-hero-row\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className = \"challenge-encounter-hero-container\">\n\t\t\t\t\t\t\t\t<div className={`challenge-encounter-hero ${isSelected(index) ? 'selected ' : ''} `}>\n\t\t\t\t\t\t\t\t\t<div className=\"challenge-encounter-hero-name\">{hero.name}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"challenge-character-icon\">\n\t\t\t\t\t\t\t\t\t\t<CImage imageId={hero.icon} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{ hero.character && hero.character.injury === 'injured' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"challenge-encounter-hero-injury\"></div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{ hero.character && hero.character.injury === 'dead' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"challenge-encounter-hero-injury dead\"></div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"challenge-encounter-hero-attributes\">\n\t\t\t\t\t\t\t\t\t<AttributeDisplay hero={hero} category={ATTRIBUTE_CONTRIBUTOR.ALL} showAttributeLoss={true} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className = \"challenge-encounter-hero-ui\">\n\t\t\t\t\t\t\t\t\t<div className=\"challenge-assist-column\">\n\t\t\t\t\t\t\t\t\t\t<ThemedButton \n\t\t\t\t\t\t\t\t\t\t\tclassName={`challenge-assist-button assist ${isSelected(index) ? 'selected ' : ' '} ${!heroesEnabled ? 'disabled': ''} `}\n\t\t\t\t\t\t\t\t\t\t\tregenerateKey={buttonKeys[index]} \n\t\t\t\t\t\t\t\t\t\t\tonClick={(theme)=>handleClickHeroAssist(index, theme)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{assistOrAttempt(true, isSelected(index))}\n\t\t\t\t\t\t\t\t\t\t</ThemedButton>\n\t\t\t\t\t\t\t\t\t\t<div className={`challenge-assist-button location ${canSelectLocationTag(index) ? '' : 'disabled'} ${!heroesEnabled ? 'disabled': ''}`}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={`challenge-use-label text-pill use ${showLocationTag(index) ? 'hidden' : ''} `} onClick={() => {selectRandomTag(index)}} >inspiration</div>\n\t\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`challenge-use-label text-pill  type-location applied-tag ${showLocationTag(index)? '' : 'hidden'}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => delectAssignedLocationTag(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{getPlayerUsedLocationTag(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)})}\t\n\t\t\t\t</div>\n\t\t);\n\t}\n\n\t\n\tconst renderAvailableTags = () => {\n\t\treturn(\n\t\t<div className=\"challenge-encounter-available-tags\">\n\t\t\n\t\t\tElements of {campaignManager.currentEncounter?.location.name}\n\t\t\t<div className=\"challenge-location-tags-container\">\n\t\t\t\t{collectedLocationTags.map((flavorTag, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={flavorTag.name} className=\"challenge-location-tag\">\n\t\t\t\t\t\t\t<div className={`challenge-location-tag-name text-pill type-location ${usedLocationTags[index] ? 'used' : ''}`} onClick = {() => handleSelectAssistTag(index)}>\n\t\t\t\t\t\t\t\t{flavorTag.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{uncollectedLocationTags.map((tag, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tag.name} className=\"challenge-location-tag\">\n\t\t\t\t\t\t\t<div className={`challenge-location-tag-name text-pill expected  ${usedLocationTags[index] ? 'used' : ''}`}>\n\t\t\t\t\t\t\t\t{tag.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t);\n\t}\n\n\tconst acceptResults = () => {\n\t\tpartyManager.addPartyScore(resultsValues[0][challengeResults]);\n\t\tuiManager.showRewardModal(resultsValues[2][challengeResults], true);\n\t}\n\n\tconst attemptCallback = (success: boolean, results: number, tag: Tag) => {\n\n\n\t\t//check for campaign chats\n\t\tconst campaignChatTrigger = campaignManager.getEncounterChatTrigger(tag);\n\t\tif(!campaignManager.getEstablishedTags().includes(tag) &&  campaignChatTrigger) {\n\t\t\t chatManager.fireNewChatMessage(campaignChatTrigger as ChatMessage);\n\n\t\t}else {\n\t\tconst player = selectedHeroes[0].character ? playerManager.getPlayerAssignedCharacter(selectedHeroes[0].character) : null;\n\t\tif(player) {\n\t\t\tif(success) {\n\t\t\t\tif(selectedHeroes.length > 1) {\n\t\t\t\t\tchatManager.playerMessage(`This challenge is no match for our combined skills!`, player.id);\n\t\t\t\t}else{\n\t\t\t\t\tif(Math.random() < 0.25) {\n\t\t\t\t\t\tchatManager.playerMessage(`Boom. Success. NEXT Challenge.`, player.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchatManager.playerMessage(`Yeah!`, player.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(selectedHeroes.length > 1) {\n\t\t\t\t\tchatManager.playerMessage(`Even with our combined skills we still failed?!`, player.id);\n\t\t\t\t}else{\n\t\t\t\t\tif(Math.random() < 0.25) {\n\t\t\t\t\t\tchatManager.playerMessage(`NOOOO. Oooooo. Ooo.`, player.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchatManager.playerMessage(`Maybe someone else should try...`, player.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t\t// Set all assigned tags as used\n\t\tpartyManager.exhaustParty(selectedHeroes.length * COST.EXHAUSTION.CHALLENGE_PER_HERO);\n\t//\tsetHeroesEnabled(true);\n\t\tif(success) {\n\t\t\tsetChallengeResults(challengeResults + results)\n\t\t\t\n\t\t}else {\n\t\t\tsetNumFailures(numFailures + 1)\n\t\t\tpartyManager.addPartyTension(resultsValues[1][challengeResults]);\n\t\t}\n\t\t// Kick off animation\n\t}\nconst getChallengeTags = () => {\n\n\tconst thisEvent = campaignManager.getCurrentEvent();\n\tif(thisEvent && thisEvent.tags) {\n\t\treturn thisEvent.tags;\n\t}\n\n\treturn campaignManager.getEncounterTags();\n}\n\n\t  return (\n\n\t\t<div className=\"game-encounter-challenge\">\n\t\t<div className=\"challenge-container\">\n\t\t\t<div className=\"challenge-top-bar\">\n\t\t\t\t<div className=\"encounter-title\">{challengeTitle}</div>\n\t\t\t\t<div className=\"encounter-title desc\">{challengeDescription}</div>\n\t\t  \t</div>\n\t\t\t\n\t\t\t<div className=\"challenge-body\">\n\t\t\t\t<div className=\"challenge-character-list\">\n\t\t\t\t\t{renderAvailableTags()}\n\t\t\t\t\t{renderHeroes()}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"challenge-display-container\">\n\t\t\t\t\t\n\t\t\t\t\t<ChallengeDisplay \n\t\t\t\t\t\tchallengeTags={getChallengeTags()}\n\t\t\t\t\t\tchallengeAssistTags={selectedLocationTags}\n\t\t\t\t\t\tchallengeHeroes={selectedHeroes}\n\t\t\t\t\t\tattemptCallback={attemptCallback}\n\t\t\t\t\t\tsawResultsCallback={sawResultCallback}\n\t\t\t\t\t\theroesEnabledCallback={enableHerosCallback}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"\">\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t<div className=\"challenge-footer\">\n\t\t\t\t<div className=\"challenge-reward-track\">\n\t\t\t\t\t<ChallengeBar \n\t\t\t\t\t\tresults = {challengeResults}\n\t\t\t\t\t\tresultsValues = {resultsValues}\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"challenge-rewards-ui-container\">\n\t\t\t\t\t<div className=\"challenge-failure\">\n\t\t\t\t\t\t<div className=\"challenge-failure-title\">\n\t\t\t\t\t\tFailures\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"challenge-display-failures\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{Array.from({ length: 3 }).map((_, index) => (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName={`failure-circle ${index < numFailures ? 'filled' : ''}`}\n\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"challenge-accept-results\" onClick={() => acceptResults()}>\n\t\t\t\t\t\tACCEPT RESULTS\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterChallenge;","\n\nimport { Encounter } from '../../models';\n\n\n\ninterface GameEncounterPuzzleProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterPuzzle: React.FC<GameEncounterPuzzleProps> = ({encounter}) => {\n\n\t\n\t  return (\n\t\t<div className=\"game-encounter-combat\">\n\t\t  <div className=\"encounter-type-title\">Puzzle</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterPuzzle;","\n\nimport { Encounter } from '../../models';\n\n\n\ninterface GameEncounterStoryProps {\n\tencounter: Encounter;\n}\n\n  const GameEncounterStory: React.FC<GameEncounterStoryProps> = ({encounter}) => {\n\n\t\n\t  return (\n\t\t<div className=\"game-encounter-combat\">\n\t\t  <div className=\"encounter-type-title\">Story</div>\n\t\t</div>\n\t  );\n\t};\n\nexport default GameEncounterStory;","import React, { useState, useRef, useEffect, ReactNode } from \"react\";\r\nimport \"./TooltipWrapper.scss\";\r\n\r\nexport interface TooltipWrapperProps {\r\n  content: string | ReactNode;\r\n  position?: \"top\" | \"bottom\" | \"left\" | \"right\";\r\n  delay?: number;\r\n  className?: string;\r\n  maxWidth?: number | string;\r\n  visible?: boolean | (() => boolean);\r\n  trigger?: \"hover\" | \"click\" | \"both\";\r\n  preservePositioning?: boolean; // Add this prop for absolute positioned elements\r\n  showHelpIcon?: boolean; // Option to show/hide the help icon\r\n  children: ReactNode;\r\n}\r\n\r\nconst TooltipWrapper: React.FC<TooltipWrapperProps> = ({\r\n  content,\r\n  position = \"top\",\r\n  delay = 200,\r\n  className = \"\",\r\n  maxWidth = 250,\r\n  visible,\r\n  trigger = \"hover\",\r\n  preservePositioning = false,\r\n  showHelpIcon = false,\r\n  children,\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  const tooltipRef = useRef<HTMLDivElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Compute visibility state\r\n  const shouldShow = visible !== undefined \r\n    ? (typeof visible === \"function\" ? visible() : visible) \r\n    : isVisible;  // Position the tooltip\r\n  useEffect(() => {\r\n    if (shouldShow && containerRef.current && tooltipRef.current) {\r\n      // Check if the tooltip container is actually visible\r\n      const containerStyle = window.getComputedStyle(containerRef.current);\r\n      if (containerStyle.display === 'none' || containerStyle.visibility === 'hidden') {\r\n        return; // Don't position the tooltip if the container is not visible\r\n      }\r\n\r\n      const containerRect = containerRef.current.getBoundingClientRect();\r\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\r\n      \r\n      let x = 0;\r\n      let y = 0;\r\n\r\n      // Handle positioning differently if we're in preserve-positioning mode\r\n      // This helps with absolutely positioned elements\r\n      if (preservePositioning) {\r\n        // For preservePositioning, we need to be more careful about the tooltip placement\r\n        // and avoid overlapping with other elements\r\n        switch (position) {\r\n          case \"top\":\r\n            x = window.scrollX + containerRect.left + (containerRect.width / 2) - (tooltipRect.width / 2);\r\n            y = window.scrollY + containerRect.top - tooltipRect.height - 12;\r\n            break;\r\n          case \"bottom\":\r\n            x = window.scrollX + containerRect.left + (containerRect.width / 2) - (tooltipRect.width / 2);\r\n            y = window.scrollY + containerRect.bottom + 12;\r\n            break;\r\n          case \"left\":\r\n            x = window.scrollX + containerRect.left - tooltipRect.width - 12;\r\n            y = window.scrollY + containerRect.top + (containerRect.height / 2) - (tooltipRect.height / 2);\r\n            break;\r\n          case \"right\":\r\n            x = window.scrollX + containerRect.right + 12;\r\n            y = window.scrollY + containerRect.top + (containerRect.height / 2) - (tooltipRect.height / 2);\r\n            break;\r\n        }\r\n      } else {\r\n        // Original positioning for regular elements\r\n        switch (position) {\r\n          case \"top\":\r\n            x = containerRect.left + containerRect.width / 2 - tooltipRect.width / 2;\r\n            y = containerRect.top - tooltipRect.height - 8;\r\n            break;\r\n          case \"bottom\":\r\n            x = containerRect.left + containerRect.width / 2 - tooltipRect.width / 2;\r\n            y = containerRect.bottom + 8;\r\n            break;\r\n          case \"left\":\r\n            x = containerRect.left - tooltipRect.width - 8;\r\n            y = containerRect.top + containerRect.height / 2 - tooltipRect.height / 2;\r\n            break;\r\n          case \"right\":\r\n            x = containerRect.right + 8;\r\n            y = containerRect.top + containerRect.height / 2 - tooltipRect.height / 2;\r\n            break;\r\n        }\r\n      }\r\n\r\n      // Boundary detection to keep tooltip on screen\r\n      const windowWidth = window.innerWidth;\r\n      const windowHeight = window.innerHeight;\r\n\r\n      if (x < 10) x = 10;\r\n      if (x + tooltipRect.width > windowWidth - 10) x = windowWidth - tooltipRect.width - 10;\r\n      if (y < 10) y = 10;\r\n      if (y + tooltipRect.height > windowHeight - 10) y = windowHeight - tooltipRect.height - 10;\r\n\r\n      setCoordinates({ x, y });\r\n    }\r\n  }, [shouldShow, position, preservePositioning]);\r\n  const showTooltip = () => {\r\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n    timeoutRef.current = setTimeout(() => setIsVisible(true), delay);\r\n  };\r\n\r\n  const hideTooltip = () => {\r\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n    setIsVisible(false);\r\n  };\r\n  \r\n  // Clean up timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const toggleTooltip = () => {\r\n    setIsVisible(!isVisible);\r\n  };\r\n\r\n  const getEventHandlers = () => {\r\n    if (trigger === \"hover\" || trigger === \"both\") {\r\n      return {\r\n        onMouseEnter: showTooltip,\r\n        onMouseLeave: hideTooltip,\r\n        onFocus: showTooltip,\r\n        onBlur: hideTooltip,\r\n        onClick: trigger === \"both\" ? toggleTooltip : undefined\r\n      };\r\n    }\r\n    if (trigger === \"click\") {\r\n      return {\r\n        onClick: toggleTooltip\r\n      };\r\n    }\r\n    return {};\r\n  };\r\n  return (\r\n    <div \r\n      className={`tooltip-wrapper-container ${preservePositioning ? 'preserve-positioning' : ''} ${className}`} \r\n      ref={containerRef}\r\n      {...getEventHandlers()}\r\n    >\r\n      {children}\r\n\r\n      {shouldShow && (        <div \r\n          className={`tooltip-wrapper tooltip-${position}`}\r\n          ref={tooltipRef}\r\n          style={{ \r\n            left: coordinates.x, \r\n            top: coordinates.y,\r\n            maxWidth: typeof maxWidth === 'number' ? `${maxWidth}px` : maxWidth,\r\n            zIndex: 10000 // Ensure the tooltip is above everything\r\n          }}\r\n        >          <div className=\"tooltip-content\">{content}</div>\r\n          {showHelpIcon && (\r\n            <div className=\"tooltip-help-icon\">\r\n              <span className=\"tooltip-help-icon-text\">?</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TooltipWrapper;\r\n","import { Tag, ThemeConfig, TRAVEL_OPTION, TravelOption } from \"../../models\";\r\nimport { useCampaignManager } from \"../managerContexts\";\r\nimport TooltipWrapper from \"./TooltipWrapper\";\r\n\r\ninterface TravelOptionProps {\r\n    travelOption: TravelOption;\r\n    theme?: ThemeConfig;\r\n    onClick: () => void\r\n    length?: string;\r\n}\r\n\r\nconst TravelOptionDisplay: React.FC<TravelOptionProps> = ({ travelOption, theme, onClick, length }) => {\r\n    const { id, name, description, time, tags, score, boredom, tag, exhaustion, travelOptionType } = travelOption;\r\n    const campaignManager = useCampaignManager();\r\n\r\n    const eventTag = campaignManager.getEventTag(travelOption);\r\n\r\n    const hasTravelTag = (tag: Tag) => {\r\n      //  return true\r\n        return campaignManager.hasTravelTag(tag);\r\n    }\r\n\r\n    const displayValue = (value: number | undefined) => {\r\n        if (value === -1) return '?';\r\n        return value;\r\n    };\r\n    // Determine if the option is locked\r\n    const isLocked = eventTag && !hasTravelTag(eventTag);\r\n\r\n\r\n    // Determine the tooltip copy based on the travelOptionType\r\n    const getTagDisplayTooltipContent = (travelOptionType: TRAVEL_OPTION | undefined) => {\r\n        switch (travelOptionType) {\r\n            case TRAVEL_OPTION.EXPLORE_UPCOMING_LOCATION:\r\n                return 'Explore the upcoming location';\r\n            case TRAVEL_OPTION.CAMP:\r\n                return 'Camp for the night';\r\n            case TRAVEL_OPTION.AMBUSH:\r\n                return 'Ambush while camping';\r\n            case TRAVEL_OPTION.TRADERS:\r\n                return 'Meet traders on the road';\r\n            case TRAVEL_OPTION.SIDE_QUEST:\r\n                return 'Discover a hidden cache';\r\n            default:\r\n                return '';\r\n        }\r\n    };\r\n\r\n    \r\n    return (\r\n        <div className={`travel-option ${length} ${isLocked ? 'locked' : 'unlocked'}`} onClick={onClick}>\r\n             {isLocked && (\r\n                <div className=\"locked-banner\">\r\n                    <span>UNDISCOVERED</span>\r\n                </div>\r\n            )}\r\n            <div className=\"travel-option-header\">\r\n                <span className=\"travel-option-name\">{name}</span>\r\n                {eventTag && <span className={`travel-option-tag text-pill type-travel ${hasTravelTag(eventTag)? '' : 'missing'}`}>{eventTag.name}</span>}\r\n                <div className=\"travel-option-description\">{description}</div>\r\n                 </div>\r\n            {!isLocked ? (\r\n                <>\r\n                    <TooltipWrapper content=\"Journey Length increase\" preservePositioning={true}>\r\n                        <span className=\"travel-option-detail\">:{displayValue(time)}</span>\r\n                    </TooltipWrapper>\r\n                    <TooltipWrapper content=\"Boredom Risk Increase\" preservePositioning={true}>\r\n                        <span className=\"travel-option-detail time\">:{displayValue(boredom)}</span>\r\n                    </TooltipWrapper>\r\n                    <TooltipWrapper content={getTagDisplayTooltipContent(travelOptionType)} preservePositioning={true}>\r\n                        <span className=\"travel-option-detail tags text-pill type-location\">\r\n                            {tags}\r\n                        </span>\r\n                    </TooltipWrapper>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <span className=\"travel-option-detail\">:{displayValue(time)}</span>\r\n                    <span className=\"travel-option-detail time\">:{displayValue(boredom)}</span>\r\n                    <span className=\"travel-option-detail tags text-pill type-location\">\r\n                        {tags}\r\n                    </span>\r\n                </>\r\n            )}            {score !== undefined && score !== 0 && (\r\n                isLocked ? (\r\n                    <span className=\"travel-option-detail score\">Score: {displayValue(score)}</span>\r\n                ) : (\r\n                    <TooltipWrapper content=\"Impact on campaign score\" preservePositioning={true}>\r\n                        <span className=\"travel-option-detail score\">Score: {displayValue(score)}</span>\r\n                    </TooltipWrapper>\r\n                )\r\n            )}\r\n            {exhaustion !== undefined && exhaustion !== 0 && (\r\n                isLocked ? (\r\n                    <span className=\"travel-option-detail score\">Exhaustion: {displayValue(exhaustion)}</span>\r\n                ) : (\r\n                    <TooltipWrapper content=\"Exhaustion affects character performance\" preservePositioning={true}>\r\n                        <span className=\"travel-option-detail score\">Exhaustion: {displayValue(exhaustion)}</span>\r\n                    </TooltipWrapper>\r\n                )\r\n            )}\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TravelOptionDisplay;","import { EffectData, Tag } from \"../../models\";\r\nimport CImage from \"./cimage\";\r\n\r\ninterface EffectDisplayProps {\r\n\teffectData: EffectData;\r\n}\r\n\r\nconst EffectDisplay: React.FC<EffectDisplayProps> = ({ effectData }) => {\r\n\treturn (\r\n\t\t<div className=\"effect-display\">\r\n\t\t\t<div className=\"effect-display-header\">\r\n\t\t\t\t<div className=\"effect-display-name\">{effectData.object === 'party' ? 'Party' : effectData.object.name}</div>\r\n\t\t\t\t{effectData.object !== 'party' && effectData.object.icon && <CImage imageId={effectData.object.icon} />}\r\n\t\t\t</div>\r\n\r\n\t\t\t{effectData.effects?.map((effect, idx) => (\r\n\t\t\t\t<div className={`effect-display-effect ${effect.class}`} key={idx}>\r\n\t\t\t\t\t{effect.effect}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EffectDisplay;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Tag, EncounterFlavorTag, RPEncounterFlavorTag, FlavorTagSource, FlavorTagTheme } from '../../models';\r\nimport { useAppManager, useCampaignManager, useUiManager } from '../managerContexts';\r\nimport './TagPill.scss';\r\nimport AppManager from '../../managers/appManager';\r\n\r\nexport interface TagPillProps {\r\n  anyFlavorTag: EncounterFlavorTag | RPEncounterFlavorTag;\r\n  disabled?: boolean;\r\n  highlighted?: boolean;\r\n  theme?: string;\r\n  onClick?: (flavorTag: EncounterFlavorTag) => void;\r\n  className?: string;\r\n  showTooltip?: boolean;\r\n  tooltipText?: string;\r\n  off?: boolean;\r\n}\r\n\r\nconst FlavorTagPill: React.FC<TagPillProps> = ({\r\n  anyFlavorTag,\r\n  disabled = false,\r\n  highlighted = false,\r\n  theme,\r\n  onClick,\r\n  className = '',\r\n  showTooltip = true,\r\n  tooltipText,\r\n  off\r\n}) => {\r\n  const [tooltipVisible, setTooltipVisible] = useState(false);\r\n  const tagRef = useRef<HTMLDivElement>(null);\r\n  const campaignManager = useCampaignManager();\r\n  const uiManager = useUiManager();\r\n  const appManager = useAppManager();\r\n  const tagManager = appManager.getTagManager();\r\n  \r\n  // Determine if this is a flavor tag or regular tag\r\n  const isRPFlavorTag = 'character' in anyFlavorTag;\r\n  \r\n  // Get the actual Tag object regardless of input type\r\n  const flavorTag: EncounterFlavorTag | undefined = isRPFlavorTag ? (anyFlavorTag as RPEncounterFlavorTag).tag : anyFlavorTag as EncounterFlavorTag;\r\n  \r\n  // Handle tooltip positioning relative to viewport edges\r\n  useEffect(() => {\r\n    if (tooltipVisible && tagRef.current) {\r\n      const tooltip = tagRef.current.querySelector('.tooltip') as HTMLElement;\r\n      if (tooltip) {\r\n        const tagRect = tagRef.current.getBoundingClientRect();\r\n        const tooltipRect = tooltip.getBoundingClientRect();\r\n        \r\n        // Adjust if tooltip extends beyond the viewport\r\n        if (tooltipRect.right > window.innerWidth) {\r\n          tooltip.style.left = 'auto';\r\n          tooltip.style.right = '0';\r\n          tooltip.style.transform = 'translateX(0)';\r\n        }\r\n        \r\n        if (tooltipRect.left < 0) {\r\n          tooltip.style.left = '0';\r\n          tooltip.style.right = 'auto';\r\n          tooltip.style.transform = 'translateX(0)';\r\n        }\r\n      }\r\n    }\r\n  }, [tooltipVisible]);\r\n\r\n  // Generate tooltip content\r\n  const getTooltipContent = (): string => {\r\n   \r\n    \r\n    \r\n      let content = '';\r\n      \r\n      // Get campaign tooltip if available\r\n      const campaignTooltip = tagManager.getTooltipText({ tag: flavorTag, type: 'tag' });\r\n      if (campaignTooltip) return campaignTooltip;\r\n      \r\n      // Otherwise build based on source\r\n      switch (flavorTag?.source || \"\") {\r\n        case FlavorTagSource.LOCATION:\r\n          content = 'Location element';\r\n          break;\r\n        case FlavorTagSource.PLOT:\r\n          content = 'Plot element';\r\n          break;\r\n        case FlavorTagSource.PLAYERS:\r\n          content = 'Player preference';\r\n          break;\r\n        case FlavorTagSource.BACKSTORY:\r\n          content = 'Character backstory element';\r\n          break;\r\n        case FlavorTagSource.FORESHADOWING:\r\n          content = 'Foreshadowing of future events';\r\n          break;\r\n        default:\r\n          content = flavorTag?.tag.name ?? 'Unknown tag';\r\n          break;\r\n      }\r\n      \r\n      // Add theme postfix if it exists\r\n      if (flavorTag && flavorTag.theme && flavorTag.theme !== FlavorTagTheme.NONE) {\r\n        content += ` (${flavorTag.theme})`;\r\n      }\r\n      \r\n      return content;\r\n    \r\n    \r\n  };\r\n\r\n  // Determine CSS classes\r\n  const getTagClasses = (): string => {\r\n    let classes = 'tag-pill text-pill';\r\n    \r\n    // Handle tag type classes\r\n   if(flavorTag) {\r\n      if (flavorTag.source) {\r\n        classes += ` type-${flavorTag.source.toLowerCase()}`;\r\n      }\r\n      if (flavorTag.theme && flavorTag.theme !== FlavorTagTheme.NONE) {\r\n        classes += ` theme-${flavorTag.theme.toLowerCase()}`;\r\n      }\r\n       // Apply player attitude styles\r\n    const playerAttitudeStyle = uiManager.getPlayerAttitudesStyle(flavorTag.tag);\r\n    if (playerAttitudeStyle) classes += ` ${playerAttitudeStyle}`;\r\n    }\r\n    \r\n    // Add conditional classes\r\n    if (disabled) classes += ' disabled';\r\n    if (highlighted) classes += ' highlighted';\r\n    if (theme) classes += ` theme-${theme}`;\r\n    if (className) classes += ` ${className}`;\r\n    \r\n    if (off) classes += ' off';\r\n    \r\n    return classes;\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (!disabled && onClick && flavorTag) {\r\n      onClick(flavorTag);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={tagRef}\r\n      className={getTagClasses()} \r\n      onClick={handleClick}\r\n      onMouseEnter={() => setTooltipVisible(true)}\r\n      onMouseLeave={() => setTooltipVisible(false)}\r\n    >\r\n      {flavorTag?.tag.name}\r\n      \r\n      {showTooltip && tooltipVisible && (\r\n        <div className=\"tooltip\">\r\n          <div className=\"tooltip-content\">\r\n            {getTooltipContent()}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlavorTagPill;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  useAppManager,\r\n  useCampaignManager,\r\n  useCharacterManager,\r\n  usePlayerManager,\r\n  useUiManager,\r\n} from \"../managerContexts\";\r\nimport \"./gameRoom.scss\";\r\nimport partyManager from \"../../managers/partyManager\";\r\nimport {\r\n  Encounter,\r\n  TRAVEL_LENGTH,\r\n  TravelOption,\r\n  Tag,\r\n  ModalConfig,\r\n  TravelResultConfig,\r\n  FlavorTagSource,\r\n  FlavorTagTheme,\r\n  EncounterFlavorTag,\r\n  TRAVEL_OPTION,\r\n  Character,\r\n  Player,\r\n} from \"../../models\";\r\nimport \"../UI/encounterStyle.scss\";\r\nimport TravelOptionDisplay from \"../UI/travelOption\";\r\nimport { TAG } from \"../../consts/tags\";\r\nimport EffectDisplay from \"../UI/effectDisplay\";\r\nimport { time } from \"console\";\r\nimport FlavorTagPill from \"../UI/FlavorTagPill\";\r\nimport TooltipExamples from \"../UI/TooltipExamples\";\r\nimport TooltipWrapper from \"../UI/TooltipWrapper\";\r\ninterface GameEncounterTravelProps {\r\n  encounter: Encounter;\r\n}\r\n\r\ninterface JourneyLength {\r\n  rating: \"EPIC\" | \"GREAT\" | \"GOOD\" | \"SHORT\" | \"FUTILE\";\r\n  score: number;\r\n}\r\n\r\nconst GameEncounterTravel: React.FC<GameEncounterTravelProps> = ({\r\n  encounter,\r\n}) => {\r\n  const [travelLength, setTravelLength] = useState<TRAVEL_LENGTH>(\r\n    TRAVEL_LENGTH.MEDIUM\r\n  );\r\n  const [availableOptions, setAvailableOptions] = useState<TravelOption[]>([]);\r\n  const [usedTravelOptionIds, setUsedTravelOptionIds] = useState<string[]>([]);\r\n  \r\n  // Add reward position state\r\n  const [bigRewardSection, setBigRewardSection] = useState<string>(\"\");\r\n  const [smallRewardSections, setSmallRewardSections] = useState<string[]>([]);\r\n\r\n  const appManager = useAppManager();\r\n  const campaignManager = useCampaignManager();\r\n  const characterManager = useCharacterManager();\r\n  const playerManager = appManager.getPlayerManager();\r\n  const uiManager = useUiManager();\r\n  const partyManager = appManager.getPartyManager();\r\n\r\n  const [travelOptions, setTravelOptions] = useState<TravelOption[][]>(\r\n    campaignManager.getTravelOptions()\r\n  );\r\n  const [selectedOption, setSelectedOption] = useState<TravelOption | null>(\r\n    null\r\n  );\r\n  const [selectedTags, setSelectedTags] = useState<Tag[]>([]);\r\n  const [journeyLength, setJourneyLength] = useState<number>(0);\r\n  const [boredomLevel, setBoredomLevel] = useState<number>(0);\r\n  const [travelResultsVisible, setTravelResultsVisible] = useState(false);\r\n  const [travelResultConfig, setTravelResultConfig] = useState<\r\n    TravelResultConfig | undefined\r\n  >();\r\n  const [targetCharacter, setTargetCharacter] = useState<Character | Player | null>(null);\r\n  const [nbTagClicks, setNbTagClicks] = useState(0);\r\n\r\n  // Add useEffect to set up rewards on mount\r\n  useEffect(() => {\r\n    randomizeRewards();\r\n  }, []);\r\n\r\n  // Function to randomize reward positions\r\n  const randomizeRewards = () => {\r\n    // Possible journey sections (excluding FUTILE)\r\n    const journeySections = [\"SHORT\", \"GOOD\", \"GREAT\", \"EPIC\"];\r\n    \r\n    // Choose big reward section (any except FUTILE)\r\n    const bigRewardIndex = Math.floor(Math.random() * journeySections.length);\r\n    const bigReward = journeySections[bigRewardIndex];\r\n    \r\n    // Set small reward sections (before and after big reward)\r\n    let smallRewards: string[] = [];\r\n    \r\n    if (bigReward === \"EPIC\") {\r\n      // If EPIC is big reward, small rewards go on GOOD and GREAT\r\n      smallRewards = [\"GOOD\", \"GREAT\"];\r\n    } else if (bigReward === \"SHORT\") {\r\n      // If SHORT is big reward, small rewards go on GOOD and FUTILE\r\n      smallRewards = [\"FUTILE\", \"GOOD\"];\r\n    } else {\r\n      // For GOOD or GREAT, take the sections before and after\r\n      const prevIndex = Math.max(0, bigRewardIndex - 1);\r\n      const nextIndex = Math.min(journeySections.length - 1, bigRewardIndex + 1);\r\n      smallRewards = [\r\n        journeySections[prevIndex], \r\n        journeySections[nextIndex]\r\n      ].filter(section => section !== bigReward);\r\n      \r\n     \r\n    }\r\n    \r\n    setBigRewardSection(bigReward);\r\n    setSmallRewardSections(smallRewards);\r\n  };\r\n\r\n  const getJourneyDetails = (score: number): JourneyLength => {\r\n    if (score >= 80) return { rating: \"EPIC\", score: 100 };\r\n    if (score >= 60) return { rating: \"GREAT\", score: 75 };\r\n    if (score >= 40) return { rating: \"GOOD\", score: 50 };\r\n    if (score >= 20) return { rating: \"SHORT\", score: 25 };\r\n    return { rating: \"FUTILE\", score: 0 };\r\n  };\r\n\r\n  // Add these helper functions at the top of your component\r\n  const getBoredomLevel = (value: number): string => {\r\n    if (value >= 66) return \"HIGH\";\r\n    if (value >= 33) return \"MEDIUM\";\r\n    return \"LOW\";\r\n  };\r\n\r\n  const getTensionLevel = (value: number): string => {\r\n    if (value >= 66) return \"ZERO\";\r\n    if (value >= 33) return \"LOW\";\r\n    return \"BASIC\";\r\n  };\r\n\r\n  const handleTravelOption = (option: TravelOption) => {\r\n    setBoredomLevel(Math.min(boredomLevel + option.boredom, 100));\r\n    setJourneyLength(Math.min(journeyLength + option.time, 100));\r\n    \r\n    if(!option.repeatable) {\r\n       setUsedTravelOptionIds(prev => [...prev, option.id]);\r\n    }\r\n    \r\n    const travelOptionResult = campaignManager.selectTravelOption(\r\n      option,\r\n      boredomLevel\r\n    );\r\n\r\n    // Find the first travel result that has an 'object' property (character or player)\r\n    const travelOptionResultCharacter = travelOptionResult?.travelResults.find(\r\n      (result) => (result?.object && result.object !== 'party')\r\n    )?.object;\r\n    if (travelOptionResultCharacter && travelOptionResultCharacter !== 'party') {\r\n      setTargetCharacter(travelOptionResultCharacter);\r\n    } else {\r\n      setTargetCharacter(null);\r\n    }\r\n\r\n    const travelResults = travelOptionResult?.travelResults || [];\r\n    const travelTags = travelOptionResult?.travelTags || [];\r\n    setSelectedOption(option);\r\n    setTravelResultConfig({\r\n      results: travelResults,\r\n      title: option.name,\r\n      description: option.description,\r\n      tags: travelTags,\r\n      travelOption: option,\r\n      info: {\r\n        boredom: option.boredom,\r\n        score: option.score,\r\n        time: option.time,\r\n        exhaustion: option.exhaustion || 0,\r\n      },\r\n    });\r\n    setNbTagClicks(option.tags);\r\n    setTravelResultsVisible(true);\r\n  };\r\n  const handleAcceptJourney = () => {\r\n  //  campaignManager.addCampaignScore(journeyLength);\r\n    // Handle boredom effects on tension\r\n    if (boredomLevel > 66) {\r\n      partyManager.multiplyPartyTension(0);\r\n    } else if (boredomLevel > 33) {\r\n      partyManager.multiplyPartyTension(0.5);\r\n    } else {\r\n      partyManager.multiplyPartyTension(0.75);\r\n    }\r\n    \r\n    // Award DM points based on journey reward sections\r\n    const currentRating = getJourneyDetails(journeyLength).rating;\r\n    \r\n    // Determine reward amount\r\n    let dmPoints = 0;\r\n    if (currentRating === bigRewardSection) {\r\n      dmPoints = 2; // Big reward = 2 points\r\n      campaignManager.addDmExp(2);\r\n   //   uiManager.showToast(`Awarded 2 DM points for reaching ${currentRating} journey milestone!`);\r\n    } else if (smallRewardSections.includes(currentRating)) {\r\n      dmPoints = 1; // Small reward = 1 point\r\n      campaignManager.addDmExp(1);\r\n    //  uiManager.showToast(`Awarded 1 DM point for reaching ${currentRating} journey milestone!`);\r\n    }\r\n    \r\n    campaignManager.backToOverview();\r\n  };\r\n\r\n  const handleTagClick = (flavorTag: EncounterFlavorTag) => {\r\n    if (nbTagClicks > 0) {\r\n      setNbTagClicks(nbTagClicks - 1);\r\n    }\r\n\r\n    switch(selectedOption?.travelOptionType) {\r\n      case TRAVEL_OPTION.CHARACTER_BACKSTORY:\r\n         characterManager.assignBackstory(targetCharacter as Character, flavorTag.tag);\r\n        break;\r\n      default:\r\n        campaignManager.exposeTagForEncounter(flavorTag);\r\n    }\r\n    setSelectedTags([...selectedTags, flavorTag.tag]); \r\n  };\r\n\r\n  // Create a function to filter out used options\r\nconst getFilteredOptions = (options: TravelOption[], count: number) => {\r\n  const filtered = options\r\n    .filter(option => !usedTravelOptionIds.includes(option.id))\r\n    .sort(() => 0.5 - Math.random());\r\n    \r\n  // If we have enough fresh options, return them\r\n\r\n    return filtered.slice(0, Math.min(count, filtered.length));\r\n\r\n  \r\n};\r\nconst shortTravelOptions = getFilteredOptions(travelOptions[0], 3);\r\nconst mediumTravelOptions = getFilteredOptions(travelOptions[1], 3);\r\nconst longTravelOptions = getFilteredOptions(travelOptions[2], 3);\r\n\r\n  const renderTravelResults = () => {\r\n    if (!travelResultConfig) return null;\r\n    return (\r\n      <div className=\"results-panel\">\r\n        <div className=\"results-panel-container\">\r\n          <div className=\"results-panel-header\">\r\n            {travelResultConfig.title}\r\n            <div className=\"results-panel-description\">\r\n              {travelResultConfig.description}\r\n            </div>\r\n            <button\r\n              className=\"close-button\"\r\n              onClick={() => setTravelResultsVisible(false)}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"travel-result-info\"> <div className=\"travel-result-info-item boredom\">\r\n            <TooltipWrapper content=\"Boredom risk is a measure of player patience and quality of the event.\">\r\n             \r\n                Boredom Risk : +{travelResultConfig.info.boredom}\r\n             \r\n            </TooltipWrapper> </div> <div className=\"travel-result-info-item time\">\r\n            <TooltipWrapper content=\"Journey Length is an indication of time passing in game.\">\r\n             \r\n               Journey Length : +{travelResultConfig.info.time}\r\n             \r\n            </TooltipWrapper> </div>\r\n           \r\n          </div>\r\n\r\n          <div className=\"travel-results\">\r\n            {travelResultConfig.results.map((result, idx) => (\r\n              <EffectDisplay key={idx} effectData={result} />\r\n            ))}\r\n          </div>\r\n          {travelResultConfig.tags.length > 0 && nbTagClicks > 0 && (            <div className= \"travel-tag-container\">              <div className =\"clicks-remaining\">\r\n                <TooltipWrapper content=\"Click on the tags to reveal them.\" maxWidth=\"200\" preservePositioning={true}>\r\n                  {nbTagClicks}\r\n                </TooltipWrapper>\r\n              </div>\r\n              <div className =\"travel-tags-instructions\">\r\n                {travelResultConfig.travelOption.tagInstructions}\r\n                </div>\r\n              <div className=\"travel-tags-container\">\r\n                \r\n                <div className=\"travel-tags\">\r\n                  {travelResultConfig.tags.map((tag) => {\r\n                    const tagUsed = selectedTags.includes(tag.tag);\r\n                    const tagDisplayTheme = \"location-tag\"\r\n                  return (<FlavorTagPill\r\n                      anyFlavorTag={tag}\r\n                      onClick={handleTagClick}\r\n                      className={`${tagDisplayTheme} ${tagUsed ? \"used\" : \"\"}`}\r\n                    />)\r\n                })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"bottom-container\">\r\n            <div\r\n              className=\"return-button\"\r\n              onClick={() => setTravelResultsVisible(false)}\r\n            >\r\n              Return to Travel Options\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderTravelOptions = () => {\r\n    return (\r\n      <div className=\"travel-options-panel\">\r\n        <div className=\"travel-options-container short\">\r\n          <div className=\"travel-section-title\">Short Tasks</div>\r\n          <div className=\"travel-options\">\r\n            {shortTravelOptions.map((option) => (\r\n              <TravelOptionDisplay\r\n                key={option.id}\r\n                travelOption={option}\r\n                onClick={() => handleTravelOption(option)}\r\n                length={TRAVEL_LENGTH.SHORT}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"travel-options-container medium\">\r\n          <div className=\"travel-section-title\">Moderate Events</div>\r\n          <div className=\"travel-options\">\r\n            {mediumTravelOptions.map((option) => (\r\n              <TravelOptionDisplay\r\n                key={option.id}\r\n                travelOption={option}\r\n                onClick={() => handleTravelOption(option)}\r\n                length={TRAVEL_LENGTH.MEDIUM}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"travel-options-container long\">\r\n          <div className=\"travel-section-title\">Journey Happenings</div>\r\n          <div className=\"travel-options\">\r\n            {longTravelOptions.map((option) => (\r\n              <TravelOptionDisplay\r\n                key={option.id}\r\n                travelOption={option}\r\n                onClick={() => handleTravelOption(option)}\r\n                length={TRAVEL_LENGTH.LONG}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"game-encounter-travel-container\">\r\n      <div className=\"encounter-type-title\">Travel</div>\r\n      <div className=\"game-encounter-travel\">\r\n        <div className=\"travel-meter-container\">\r\n          <div className=\"travel-sections\">\r\n            <div className=\"travel-meter-name\">BOREDOM RISK</div>\r\n            <div\r\n              className={`travel-section long ${\r\n                getBoredomLevel(boredomLevel) === \"HIGH\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label\">HIGH</span>\r\n              <span className=\"section-effect\">All players getting bored</span>\r\n            </div>\r\n            <div\r\n              className={`travel-section medium ${\r\n                getBoredomLevel(boredomLevel) === \"MEDIUM\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label\">MEDIUM</span>\r\n              <span className=\"section-effect\">Several players fidgeting</span>\r\n            </div>\r\n            <div\r\n              className={`travel-section short ${\r\n                getBoredomLevel(boredomLevel) === \"LOW\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label\">LOW</span>\r\n              <span className=\"section-effect\">\r\n                Players mostly paying attention\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"travel-thermometer\">\r\n            <span className=\"meter-icon\"></span>\r\n            <div className=\"meter-fill\" style={{ height: `${boredomLevel}%` }}>\r\n              <span className=\"meter-value\">{boredomLevel}</span>\r\n            </div>\r\n            <div className=\"meter-markers\">\r\n              {[0, 25, 50, 75, 100].map((mark) => (\r\n                <div key={mark} className=\"marker\">\r\n                  <span className=\"marker-value\">{mark}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"travel-sections\">\r\n            <div className=\"travel-meter-name\">TENSION</div>\r\n            <div\r\n              className={`travel-section zero ${\r\n                getTensionLevel(boredomLevel) === \"ZERO\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label details\">Attention Loss</span>\r\n              <span className=\"section-label details\">15% Attitude Loss</span>\r\n              <span className=\"section-label details\">-10 Tension</span>\r\n            </div>\r\n            <div\r\n              className={`travel-section low ${\r\n                getTensionLevel(boredomLevel) === \"LOW\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label details\">50% Attention Loss</span>\r\n              <span className=\"section-label details\">5% Attitude Loss</span>\r\n              <span className=\"section-label details\">-10 Tension</span>\r\n            </div>\r\n            <div\r\n              className={`travel-section basic ${\r\n                getTensionLevel(boredomLevel) === \"BASIC\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"section-label details\">\r\n                20% Chance of Boredom\r\n              </span>\r\n              <span className=\"section-label details\">-5 Tension</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {travelResultsVisible ? renderTravelResults() : renderTravelOptions()}\r\n      </div>\r\n\r\n      <div className=\"travel-meter-label\">  JOURNEY LENGTH</div>\r\n      <div className=\"bottom-meter-container\">          <div className=\"travel-meter-container\">          \r\n             <TooltipWrapper content=\"Journey Length is a measure of time in-game. Rewards are given for longer journeys, and for ending journeys on the indicated sections.\" preservePositioning={false}>\r\n            <div className=\"travel-sections\">\r\n              {[\"FUTILE\", \"SHORT\", \"GOOD\", \"GREAT\", \"EPIC\"].map((rating) => (\r\n                <div\r\n                  key={rating}\r\n                  className={`travel-section ${rating.toLowerCase()} ${\r\n                    rating === getJourneyDetails(journeyLength).rating\r\n                      ? \"active\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  <span className=\"section-label\">\r\n                    {rating}\r\n                    {rating === bigRewardSection && (\r\n                      <span className=\"dm-points reward big-reward\"></span>\r\n                    )}\r\n                    {smallRewardSections.includes(rating) && (\r\n                      <span className=\"dm-points reward small-reward\"></span>\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n        </TooltipWrapper>\r\n            <div className=\"travel-thermometer journey\">\r\n              <div className=\"meter-fill\" style={{ width: `${journeyLength}%` }}>\r\n                <span className=\"meter-value\">{journeyLength}</span>\r\n              </div>\r\n              <div className=\"meter-markers\">\r\n                {[0, 20, 40, 60, 80, 100].map((mark) => (\r\n                  <div key={mark} className=\"marker\">\r\n                    <span className=\"marker-value\">{mark}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        <div className=\"accept-journey-button\" onClick={handleAcceptJourney}>\r\n          Accept {getJourneyDetails(journeyLength).rating.toUpperCase()} journey\r\n          <span className=\"journey-score\">\r\n            +{getJourneyDetails(journeyLength).score} Campaign Score\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameEncounterTravel;\r\n","interface TreeShapeProps {\n  size: number;\n  color: string;\n  style: React.CSSProperties;\n}\n\nexport const TreeShape: React.FC<TreeShapeProps> = ({ size, color, style }) => {\n  return (\n    <div style={{ \n      position: 'absolute',\n      width: size,\n      height: size,\n      ...style \n    }}>\n      <div style={{\n        position: 'absolute',\n        width: size * 0.6,\n        height: size * 0.6,\n        borderRadius: '50%',\n        backgroundColor: color,\n        left: '20%',\n        top: '20%'\n      }} />\n    </div>\n  );\n};","import { ThemeConfig } from \"../models\";\r\n\r\nexport const SCENERY_THEME_CONFIGS: Record<string, ThemeConfig> = {\r\n  town: {\r\n    backgroundColor: '#765f4a',\r\n    shapes: [\r\n      {\r\n        type: 'rectangle',\r\n        minSize: 7,\r\n        maxSize: 14,\r\n        count: { min: 10, max: 20 },\r\n        color: '#695a4b',\r\n        rotate: false\r\n      }\r\n    ]\r\n  },\r\n  forest: {\r\n    backgroundColor: '#2F4F2F',\r\n    shapes: [\r\n      {\r\n        type: 'tree',\r\n        minSize: 80,\r\n        maxSize: 200,\r\n        count: { min: 50, max: 100 },\r\n        color: '#1B3B1B'\r\n      }\r\n    ]\r\n  },\r\n  brewery: {\r\n    backgroundColor: '#765f4a',\r\n    shapes: [\r\n      {\r\n        type: 'furniture',\r\n        minSize: 80,\r\n        maxSize: 200,\r\n        count: { min: 50, max: 100 },\r\n        color: '#695a4b'\r\n      }\r\n    ]\r\n  },\r\n  building: {\r\n    backgroundColor: '#765f4a',\r\n    shapes: [\r\n      {\r\n        type: 'furniture',\r\n        minSize: 80,\r\n        maxSize: 200,\r\n        count: { min: 50, max: 100 },\r\n        color: '#695a4b'\r\n      }\r\n    ]\r\n  },\r\n  mountain: {\r\n    backgroundColor: '#6B6B6B',\r\n    shapes: [\r\n      {\r\n        type: 'rectangle',\r\n        minSize: 7,\r\n        maxSize: 10,\r\n        count: { min: 50, max: 100 },\r\n        color: '#787878'\r\n      }\r\n    ]\r\n  },\r\n  cave: {\r\n    backgroundColor: '#6B6B6B',\r\n    shapes: [\r\n      {\r\n        type: 'rectangle',\r\n        minSize: 7,\r\n        maxSize: 10,\r\n        count: { min: 50, max: 100 },\r\n        color: '#787878'\r\n      }\r\n    ]\r\n  },\r\n  dungeon: {\r\n    backgroundColor: '#333',\r\n    shapes: [\r\n      {\r\n        type: 'wall',\r\n        count: { min: 1, max: 1 },\r\n        minSize: 100,\r\n        maxSize: 100,\r\n        rotate: false,\r\n        color: '#2b2b2b'\r\n      }\r\n    ]\r\n  }\r\n};","import { Key, CSSProperties } from 'react';\r\nimport { ShapeConfig } from '../../models';\r\nimport { TreeShape } from './treeShapeProps';\r\nimport { SCENERY_THEME_CONFIGS } from '../../consts/sceneryConsts';\r\nimport './scenery.scss';\r\n\r\ninterface EncounterSceneryProps {\r\n    theme: string;\r\n    regenKey?: string;\r\n}\r\n\r\nconst generateShapes = (config: ShapeConfig) => {\r\n  const shapes = [];\r\n  const count = Math.floor(Math.random() * (config.count.max - config.count.min + 1)) + config.count.min;\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const size = Math.floor(Math.random() * (config.maxSize - config.minSize + 1)) + config.minSize;\r\n    \r\n   \r\n    let left = (Math.random() * 100) + '%';\r\n    let top = (Math.random() * 100) + '%';\r\n    if(config.type === 'wall') {\r\n      left = '0%'; \r\n      top = '0%';\r\n    }\r\n    const style = {\r\n      left,\r\n      top,\r\n      transform: config.rotate ? `rotate(${Math.random() * 360}deg)` : ''\r\n    };\r\n\r\n    shapes.push({\r\n      id: i,\r\n      size,\r\n      style,\r\n      type: config.type,\r\n      color: config.color\r\n    });\r\n  }\r\n\r\n  return shapes;\r\n};\r\n\r\nconst EncounterScenery: React.FC<EncounterSceneryProps> = ({ theme, regenKey }) => {\r\n  const themeConfig = SCENERY_THEME_CONFIGS[theme];\r\n  const shapes = themeConfig.shapes.flatMap(generateShapes);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div \r\n      className={`encounter-scenery-container ${theme}`}\r\n      style={{ backgroundColor: themeConfig.backgroundColor }}\r\n    >\r\n      <div className=\"encounter-scenery-background\">\r\n        {shapes.map((shape: { type: any; id: Key | null | undefined; size: number; color: any; style: CSSProperties | undefined; }) => {\r\n          switch(shape.type) {\r\n            case 'tree':\r\n              return <TreeShape key={shape.id} {...shape} style={shape.style || {}} />;\r\n            case 'rectangle':\r\n                const width = shape.size + Math.random() * shape.size/2 + '%';\r\n                const height = shape.size + Math.random() * shape.size/2 + '%';\r\n              return (\r\n                <div\r\n                  key={shape.id}\r\n                  style={{\r\n                    position: 'absolute',\r\n                    width: width,\r\n                    height: height,\r\n                    backgroundColor: shape.color,\r\n                    ...shape.style\r\n                  }}\r\n                />\r\n              );\r\n              case 'wall':\r\n                return (\r\n                    <div\r\n                        key={shape.id}\r\n                        className=\"wall-pattern\"\r\n                        style={{\r\n                            position: 'absolute',\r\n                            width: shape.size + '%',\r\n                            height: shape.size + '%',\r\n                            opacity: 0.8,\r\n                            left:  '0%',\r\n                            top:  '0%',\r\n                            ...shape.style\r\n                        }}\r\n                    />\r\n                );\r\n            default:\r\n              return null;\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EncounterScenery;","import { useEffect, useState } from \"react\";\r\nimport { Encounter, EncounterEvent, SESSION_STATE } from \"../../models\";\r\nimport { useCampaignManager, useUiManager } from \"../managerContexts\";\r\nimport EncounterEventDisplay from \"./encounterEventDisplay\";\r\nimport GameEncounterIntro from \"./encounterIntro\";\r\nimport GameEncounterOverview from \"./gameEncounterOverview\";\r\nimport { ENCOUNTER_EVENT_TYPE } from \"../../consts/general\";\r\nimport GameEncounterCombat from \"./gameEncounterCombat\";\r\nimport GameEncounterExploration from \"./gameEncounterExploration\";\r\nimport GameEncounterPerception from \"./gameEncounterPerception\";\r\nimport GameEncounterRoleplay from \"./gameEncounterRoleplay\";\r\nimport GameEncounterTown from \"./gameEncounterTown\";\r\nimport GameEncounterTrap from \"./gameEncounterTrap\";\r\nimport GameEncounterChallenge from \"./gameEncounterChallenge\";\r\nimport GameEncounterPuzzle from \"./gameEncounterPuzzle\";\r\nimport GameEncounterStory from \"./gameEncounterStory\";\r\nimport GameEncounterTravel from \"./gameEncounterTravel\";\r\nimport EncounterScenery from \"../UI/encounterScenery\";\r\nimport CImage from \"../UI/cimage\";\r\n\r\n\r\ninterface GameEncounterProps {\r\n    encounter: Encounter;\r\n    showOverview?: boolean;\r\n}\r\n\r\n\r\nconst GameEncounter: React.FC<GameEncounterProps> = ({encounter, showOverview}) => {\r\n\r\n  const [events, setEvents] = useState<EncounterEvent[]>(encounter.events);\r\n   const [update, setUpdate] = useState(false);\r\n  const campaignManager = useCampaignManager();\r\n  const uiManager = useUiManager();\r\n  const theme = encounter.location.themes[0];   \r\n  const [encounterState, setEncounterState] = useState(campaignManager.getEncounterState());\r\n  const [showImageForEvent, setShowImageForEvent] = useState(uiManager.showImageForEvent());\r\n  const [eventImageOpacity, setEventImageOpacity] = useState(uiManager.getEventImageOpacity());\r\n\r\n\r\n  useEffect(() => {\r\n    const updateEncounterState = () => {\r\n      const newState = campaignManager.getEncounterState();\r\n      if (newState?.sessionState !== undefined && newState.eventIndex !== undefined) {\r\n        setEncounterState({...newState});\r\n      }\r\n    };\r\n\r\n    const updateEvent = () => {\r\n      setShowImageForEvent(uiManager.showImageForEvent());\r\n      setEventImageOpacity(uiManager.getEventImageOpacity());\r\n    };\r\n\r\n\r\n    uiManager.on('updateEncounterState', updateEncounterState);\r\n    uiManager.on('eventUpdated', updateEvent);\r\n    return () => {\r\n      uiManager.off('updateEncounterState', updateEncounterState);\r\n    };\r\n  }, [campaignManager, uiManager]);\r\n\r\n\r\n  const getCurrentEventComponent = (eventIndex: number) => {\r\n    if(!encounterState) {\r\n      return null;\r\n    }\r\n    const events = encounter.events;\r\n    \r\n    const currentEncounterEvent = events[encounterState.eventIndex];\r\n\r\n    switch(currentEncounterEvent.type) {\r\n      case ENCOUNTER_EVENT_TYPE.COMBAT:\r\n        return <GameEncounterCombat encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.ROLEPLAY:\r\n        return <GameEncounterRoleplay encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.PUZZLE:\r\n        return <GameEncounterPuzzle encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.PERCEPTION:\r\n        return <GameEncounterPerception encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.TOWN:\r\n        return <GameEncounterTown encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.TRAVEL:\r\n        return <GameEncounterTravel encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.CHALLENGE:\r\n        return <GameEncounterChallenge encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.TRAP:\r\n        return <GameEncounterTrap encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.STORY:\r\n        return <GameEncounterStory encounter={encounter} />;\r\n      case ENCOUNTER_EVENT_TYPE.EXPLORATION:\r\n        return <GameEncounterExploration encounter={encounter} />;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  const getCurrentEventComponentParent = () => {\r\n   \r\n    if(!encounterState) {\r\n      return null;\r\n    }\r\n    \r\n    switch(encounterState.sessionState) {\r\n      case SESSION_STATE.LOCATION_INTRO:\r\n          return (\r\n          <GameEncounterIntro\r\n            encounter={encounter} />\r\n          );\r\n      case SESSION_STATE.INTRO_EVENTS:\r\n         return getCurrentEventComponent(0);\r\n      case SESSION_STATE.INTRO_MAIN:\r\n          return <div>Intro Main</div>;\r\n      case SESSION_STATE.MAIN_EVENTS:\r\n        return getCurrentEventComponent(1);\r\n      case SESSION_STATE.INTRO_EXIT:\r\n          return <div>Intro Exit</div>;\r\n      case SESSION_STATE.EXIT_EVENTS:\r\n        return getCurrentEventComponent(2);\r\n      case SESSION_STATE.EXIT:\r\n          return <div>Exit</div>;\r\n      default:\r\n        break;  \r\n      }\r\n  }\r\n\r\n  return (\r\n    <div className={`table-encounter-container ${theme}`}>\r\n       {showOverview ? (\r\n        <GameEncounterOverview encounter={encounter} />\r\n      ): (\r\n        <div className='table-encounter-scene'>\r\n          <div className=\"scenery-opacity-container\" style={{opacity: showImageForEvent ? 1 - eventImageOpacity : 1}}>\r\n            <EncounterScenery theme={theme} />\r\n          </div>\r\n          {showImageForEvent && (\r\n            <div className=\"encounter-icon-container\" style={{ opacity: eventImageOpacity }}>\r\n              <CImage imageId={encounter.location.icon}  />\r\n            </div>\r\n          )}\r\n        \r\n        \r\n          <div className='table-encounter-title'>\r\n            {encounter.name}\r\n          </div>\r\n          <div className='table-encounter-session'>\r\n            {getCurrentEventComponentParent()}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameEncounter;","import { REWARD_TYPE, RewardItem } from \"../models\";\n\nexport const REWARD_ITEMS: RewardItem[] = [\n    { name: \"Gold\", value: 1, type: REWARD_TYPE.TREASURE, cost: 1, description: \"Increase all players happiness by one\" },\n    \n    { name: \"Gear\", value: 1, type: REWARD_TYPE.TOOLS, cost: 1, description: \"Replenish all tools for all players\" },\n    { name: \"Healing\", value: 1, type: REWARD_TYPE.HEALING, cost: 1, description: \"Remove wounded state from all characters\" },\n   // { name: \"Backstory\", value: 1, type: REWARD_TYPE.BACKSTORY, cost: 1, description: \"Complete a character backstory\" },\n    { name: \"Plot Hook\", value: 1, type: REWARD_TYPE.PLOT_HOOK, cost: 1, description: \"Reveal information about the plot. Restore full attention\" },\n  //  { name: \"Item\", value: 2, type: REWARD_TYPE.ITEM, cost: 1, description: \"Give a Magic Item to the party\" },\n    { name: \"Replenish Magic\", value: 2, type: REWARD_TYPE.MAGIC, cost: 2, description: \"Replenish all Magic for all characters\"},\n    { name: \"Raise Dead\", value: 2, type: REWARD_TYPE.HEALING, cost: 2, description: \"Raise a dead character\" },\n    { name: \"Treasure Chest\", value: 2, type: REWARD_TYPE.TREASURE, cost: 3, description: \"Increase all player happiness by two\" },\n    { name: \"Level Up\", value: 1, type: REWARD_TYPE.XP, cost: 3, description: \"Level up the lowest level Character\" },\n  ];","import React, { useEffect, useState } from 'react';\nimport './rewardModal.scss';\nimport { useCampaignManager, usePartyManager, useUiManager } from '../managerContexts';\nimport { ATTRIBUTE_CONTRIBUTOR, HeroCombatant, REWARD_TYPE, RewardItem } from '../../models';\nimport { REWARD_ITEMS } from '../../consts/rewards';\nimport CImage from '../UI/cimage';\nimport AttributeDisplay from '../UI/attributeDisplay';\n\n\n\ninterface RewardModalProps {\n    rewardsAcceptedCallback: (acceptedRewards: RewardItem[], rewardDifference: number, advanceEvent: boolean) => void;\n}\n\n  //const REWARDS_PER_RESULT = [2,3,4,5,6,6,6,6]\n  \n\n\n  const RewardModal: React.FC<RewardModalProps> = ({rewardsAcceptedCallback}) => {\n    \n    const uiManager = useUiManager();\n    const partyManager = usePartyManager();\n    const campaignManager = useCampaignManager();\n\n\n\n    const [visible, setVisible] = React.useState(false);\n    const [rewardTotal, setRewardTotal] = React.useState(0);\n    const [selectedItems, setSelectedItems] = useState<RewardItem[]>([]);\n    const currentTotal = selectedItems.reduce((sum: any, item: { cost: any; }) => sum + item.cost, 0);\n    const [currentAvailableRewards, setCurrentAvailableRewards] = useState<RewardItem[]>([]);\n    const [heroCombatants, setHeroCombatants] = useState<HeroCombatant[]>(partyManager.generateHeroes([]));\n    const [nextEventOnAccept, setNextEventOnAccept] = useState(false);\n   const getPanelState = () => {\n    if (currentTotal < rewardTotal) return 'low';\n    if (currentTotal === rewardTotal) return 'match';\n    return 'high';\n  };\n  const toggleItem = (item: RewardItem) => {\n\n\n\n\n    if (selectedItems.includes(item)) {\n      setSelectedItems(selectedItems.filter(i => i !== item));\n    } else {\n        if (currentTotal + item.cost > rewardTotal + 2) {\n            return; // Don't allow selection if it exceeds the total\n        }\n      setSelectedItems([...selectedItems, item]);\n    }\n  };\n\n    useEffect(() => {\n        if(visible) {\n            const availableRewards = [...REWARD_ITEMS]\n            const expectedGear = campaignManager.getExpectedGear();\n            setSelectedItems([]);\n            // if magic item, check campaignManager const expectedGearTags = this.getRumorTags().filter(tag => tag.type === TAG_TYPE.GEAR);\n            // for XP, add a reward for a random player (lowest level) to level up\n            // or an expensive one for all characters to level up.\n            if(expectedGear.length > 0) {\n                availableRewards.push({\n                    name: \"Magic Item\",\n                    value: 1,\n                    type: REWARD_TYPE.ITEM,\n                    cost: 2,\n                    description: expectedGear[0].name,\n                    tag: expectedGear[0],\n                })\n            }\n\n            setCurrentAvailableRewards(availableRewards);\n        }\n    }, [campaignManager, visible]);\n \n\n    useEffect(() => {\n\n        const handleShowRewards = (rewardTotal: number, advanceEvent: boolean) => {\n            if (rewardTotal > 0) {\n                setVisible(true);\n                setRewardTotal(rewardTotal);\n                setNextEventOnAccept(advanceEvent);\n            } else {\n                setVisible(false);\n            }\n        }\n        uiManager.on('showRewardModal', handleShowRewards);\n\n        return () => {\n            uiManager.off('showRewardModal', handleShowRewards);\n        };\n    }, [uiManager]);\n\n  const handleCloseCallback = () => {\n    // Handle the close callback here if needed\n    rewardsAcceptedCallback(selectedItems, currentTotal - rewardTotal, nextEventOnAccept); \n    setVisible(false);\n   \n}\n  const getPanelLowText = (rewardTotal: number, currentTotal: number) => {\n    if (rewardTotal - currentTotal === 1) {\n        return `All players `;\n    }\n    return `All players `;\n  }\n  const getPanelHighText = (rewardTotal: number, currentTotal: number) => {\n    if (currentTotal - rewardTotal   === 1) {\n        return `-50% Intensity`;\n    }\n    return `-100% Intensity`;\n  }\n\n    if(!visible) {\n        return null;\n    }\n    return (\n        <div className=\"reward-modal-container\">\n            <div className=\"reward-modal-body\">\n                <div className = \"reward-modal-title\">\n                    <div className=\"reward-modal-title-text\">Reward your players</div>\n                    <div className=\"reward-modal-instructions\">Based on the diffifculty of the event, they expect the equivalent of {rewardTotal} rewards.</div>\n                </div>\n                <div className=\"reward-panels\">\n                    <div className={`panel too-low ${getPanelState() === 'low' ? 'active' : ''}`}>\n                    <div className=\"panel-title\">Too Low</div>\n                    {getPanelState() === 'low' && \n                        <div className=\"panel-contents\">\n                            <div className=\"panel-value\">{currentTotal}</div>\n                            <div className=\"panel-low-text\">{getPanelLowText(rewardTotal, currentTotal)}</div>\n                            <button className=\"accept-button\" onClick={() => handleCloseCallback()}>ACCEPT</button>\n                        </div>\n                        \n                    }\n                    </div>\n                    <div className={`panel match ${getPanelState() === 'match' ? 'active' : ''}`}>\n                    <div className=\"panel-title\">Expected</div>\n                    <div className=\"panel-value expected\">{rewardTotal}</div>\n                    {getPanelState() === 'match' && \n                        <button className=\"accept-button\" onClick={() => handleCloseCallback()}>ACCEPT</button>\n                    }\n                    </div>\n                    <div className={`panel too-high ${getPanelState() === 'high' ? 'active' : ''}`}>\n                    <div className=\"panel-title\">Too High</div>\n                    {getPanelState() === 'high' && \n                     <div className=\"panel-contents\">\n                            <div className=\"panel-value\">{currentTotal}</div>\n                            <div className=\"panel-high-text\">{getPanelHighText(rewardTotal, currentTotal)}</div>\n                            <button className=\"accept-button\" onClick={() => handleCloseCallback()}>ACCEPT</button>\n                        </div>\n                    }\n                    </div>\n                </div>\n            \n                <div className=\"reward-items-list\">\n                    {currentAvailableRewards.map(item => (\n                    <div \n                        key={item.name}\n                        className={`reward-item ${selectedItems.includes(item) ? 'selected' : ''}`}\n                        onClick={() => toggleItem(item)}\n                    >\n                        <div className=\"item-header\">\n                        <span className=\"item-name\">{item.name}</span>\n                        <span className=\"item-cost\">{item.cost}</span>\n                        </div>\n                        <div className=\"item-description\">{item.description}</div>\n                    </div>\n                    ))}\n                </div>\n                <div className=\"reward-modal-heroes\">\n\n                \n                    {heroCombatants && heroCombatants.map((hero, index) => {\n                        return (\n                            <div key={hero.name} className=\"reward-modal-hero-row\">\n                                <div className = \"reward-modal-hero-container\">\n                                    <div className=\"reward-modal-hero\">\n                                        <div className=\"reward-modal-hero-name\">{hero.name}</div>\n                                        <div className=\"combat-character-icon\">\n                                            <CImage imageId={hero.icon} />\n                                        </div>\n                                        { hero.character && hero.character.injury === 'injured' && (\n                                            <div className=\"reward-modal-hero-injury\"></div>\n                                        )}\n                                        { hero.character && hero.character.injury === 'dead' && (\n                                            <div className=\"reward-modal-hero-injury dead\"></div>\n                                        )}\n                                    </div>\n                                    <div className=\"reward-modal-hero-attributes\">\n                                        <AttributeDisplay hero={hero} category={ATTRIBUTE_CONTRIBUTOR.ALL} showAttributeLoss={true} />\n                                    </div>\n                                </div>\n                            </div>\n                        )})}\t\n                    </div>\n            </div>\n        </div>\n      );\n}\n  export default RewardModal;","import React from \"react\";\nimport { APP_STATE } from \"../../consts/states\";\nimport { useAppManager, useCampaignManager, useUiManager } from \"../managerContexts\";\nimport GameEncounter from \"./gameEncounter\";\nimport RewardModal from \"./rewardModal\";\n\ninterface GameTableProps {\n\n}\n\n\n\n\nconst GameTable: React.FC<GameTableProps> = () => {\n\n  const campaignManager = useCampaignManager();\n  const encounter = campaignManager.getCurrentEncounter();\n  const appManager = useAppManager();\n\n\n\n  if(!encounter) {\n    return null;\n  }\n\n  return (\n\t  <div className=\"game-table-container\">\n        <div className = \"game-table-slab\">\n         \n          <GameEncounter \n            encounter = {encounter}\n            showOverview = {appManager.state === APP_STATE.SESSION_OVERVIEW}\n          />\n          <RewardModal\n            rewardsAcceptedCallback={campaignManager.rewardsAccepted}         \n          />\n        </div>\n\t  </div>\n  );\n}\n\nexport default GameTable;\n","interface NeedleGaugeProps {\n    value: number;\n    max: number;\n    segments?: number;\n    colors?: string[];\n  }\n  \n  const NeedleGauge: React.FC<NeedleGaugeProps> = ({ \n    value, \n    max, \n    segments = 10,\n    colors = ['#FFA500', '#FFD700','#FFD700', '#ADFF2F', '#ADFF2F', '#ADFF2F', '#32CD32','#eF4500', '#eF4500','#FF0000']\n  }) => {\n    const radius = 100;\n    const tickLength = 20;\n    const colorLength = 20;\n    const angleRange = 180; // Half circle\n    let currentAngle = (value / max) * angleRange;\n    \n    const generateTicks = () => {\n      currentAngle = (value / max) * angleRange;\n      const ticks = [];\n      for (let i = 0; i <= segments; i++) {\n        const angle = (i / segments) * angleRange;\n        const angleRad = (angle + 180) * (Math.PI / 180);\n        const x1 = radius * Math.cos(angleRad) + radius;\n        const y1 = radius * Math.sin(angleRad) + radius;\n        const x2 = (radius - tickLength) * Math.cos(angleRad) + radius;\n        const y2 = (radius - tickLength) * Math.sin(angleRad) + radius;\n        \n        ticks.push(\n          <line\n            key={i}\n            x1={x1}\n            y1={y1}\n            x2={x2}\n            y2={y2}\n            stroke={[1,3,6,7,9].includes(i) ? \"black\" : \"#00000000\"}\n            strokeWidth=\"2\"\n          />\n        );\n      }\n      return ticks;\n    };\n  \n    const generateArcs = () => {\n      const arcs = [];\n      const segmentAngle = angleRange / colors.length;\n      \n      for (let i = 0; i < colors.length; i++) {\n        const startAngle = -90 + (i * segmentAngle);\n        const endAngle = startAngle + segmentAngle;\n        \n        const pathData = describeArc(radius, radius, radius - colorLength/2, startAngle, endAngle);\n        arcs.push(\n          <path\n            key={i}\n            d={pathData}\n            fill=\"none\"\n            stroke={colors[i]}\n            strokeWidth={colorLength}\n          />\n        );\n      }\n      return arcs;\n    };\n  \n    const needleStyle = {\n      transform: `rotate(${currentAngle - 180}deg)`,\n      transformOrigin: '100px 100px'\n    };\n  \n    return (\n        <div className=\"needle-gauge\">\n        <svg viewBox=\"20 50 1 160\" preserveAspectRatio=\"xMidYMid meet\">\n          {generateArcs()}\n          {generateTicks()}\n         \n          <line\n            x1={radius}\n            y1={radius}\n            x2={radius * 2}\n            y2={radius}\n            stroke=\"#000000bb\"\n            strokeWidth=\"5\"\n            style={needleStyle}\n          />\n          <circle\n            cx={radius}\n            cy={radius}\n            r=\"5\"\n            fill=\"white\"\n          />\n        </svg>\n      </div>\n    );\n  };\n  \n  // Helper function to generate SVG arc path\n  const describeArc = (x: number, y: number, radius: number, startAngle: number, endAngle: number) => {\n    const start = polarToCartesian(x, y, radius, endAngle);\n    const end = polarToCartesian(x, y, radius, startAngle);\n    const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n    \n    return [\n      \"M\", start.x, start.y,\n      \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y\n    ].join(\" \");\n  };\n  \n  const polarToCartesian = (centerX: number, centerY: number, radius: number, angleInDegrees: number) => {\n    const angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n    return {\n      x: centerX + (radius * Math.cos(angleInRadians)),\n      y: centerY + (radius * Math.sin(angleInRadians))\n    };\n  };\n  \n  export default NeedleGauge;","import React from 'react';\nimport './gameRoom.scss';\nimport { usePartyManager } from '../managerContexts';\n\ninterface StressInfoProps {\n  stress: number;\n}\n\nconst StressInfo: React.FC<StressInfoProps> = ({ stress }) => {\n \n  const partyManager = usePartyManager();\n   const colors = partyManager.getStressColors();\n  const segments = colors.length;\n  const colorIndex = Math.floor(((stress - 1) / 100) * segments);\n  const backgroundColor = colors[Math.min(colorIndex, segments - 1)];\n\n\n  const getStressDescription = (value: number): string => {\n    return partyManager.getTensionDescription(value);\n  };\n\n  return (\n    <div \n      className=\"stress-info\"\n      style={{ \n        backgroundColor,\n        transition: 'background-color 0.3s ease'\n      }}\n    >\n      <div className=\"stress-value\">{stress}</div>\n      <div className=\"stress-description\">\n        {getStressDescription(stress)}\n      </div>\n    </div>\n  );\n};\n\nexport default StressInfo;","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Player,\r\n  Character,\r\n  NOTEBOOK_CATEGORY,\r\n  ATTRIBUTE_CONTRIBUTOR,\r\n} from \"../../models\";\r\nimport CImage from \"../UI/cimage\";\r\nimport CharacterManager from \"../../managers/characterManager\";\r\nimport { useCharacterManager, useUiManager } from \"../managerContexts\";\r\nimport AttributeDisplay from \"../UI/attributeDisplay\";\r\nimport FillBar from \"../UI/fillBar\";\r\nimport { PLAYER_EXP_LEVEL } from \"../../consts/general\";\r\n\r\ninterface PlayerDisplayProps {\r\n  player: Player;\r\n}\r\nconst delightColors = [\"#CC0000\", \"#CC6600\", \"#CCCC00\", \"#66CC00\", \"#00CC00\"];\r\nconst delightBorderColors = [\r\n  \"#990000\",\r\n  \"#994C00\",\r\n  \"#999900\",\r\n  \"#4C9900\",\r\n  \"#009900\",\r\n];\r\n\r\nconst delightColors2 = [\r\n  \"#FFCCCC\",\r\n  \"#FFDDCC\",\r\n  \"#FFFFCC\",\r\n  \"#DDFFCC\",\r\n  \"#CCFFCC\",\r\n  \"#aaFFaa\",\r\n];\r\nconst delightBorderColors2 = [\r\n  \"#AA0000\",\r\n  \"#663300\",\r\n  \"#666600\",\r\n  \"#336600\",\r\n  \"#006600\",\r\n  \"#008800\",\r\n];\r\nconst PlayerDisplay: React.FC<PlayerDisplayProps> = ({ player }) => {\r\n  const characterManager = useCharacterManager();\r\n  const [showPlayerTooltip, setShowPlayerTooltip] = useState(false);\r\n  const [showCharacterTooltip, setShowCharacterTooltip] = useState<\r\n    number | null\r\n  >(null);\r\n  const [characters, setCharacters] = useState<Character[]>(player.characters);\r\n  const uiManager = useUiManager();\r\n  const [enjoyment, setEnjoyment] = useState(player.playerStats.enjoyment);\r\n  const [attention, setAttention] = useState(player.playerStats.involvement);\r\n  const [stress, setStress] = useState(player.playerStats.stress);\r\n\r\n  const getStatColor = (value: number, isStress: boolean = false) => {\r\n    if (isStress) {\r\n      // Stress: yellow -> orange -> red\r\n      if (value < 30) return \"#4CAF50\";\r\n      if (value < 60) return \"#ffff00\";\r\n      return \"#ff4d4d\";\r\n    } else {\r\n      // Regular stats: red -> orange -> green\r\n      if (value < 0.3) return \"#ff4d4d\";\r\n      if (value < 0.6) return \"#ffa500\";\r\n      return \"#4CAF50\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const updateStats = () => {\r\n      setEnjoyment(player.playerStats.enjoyment);\r\n      setAttention(player.playerStats.involvement);\r\n      setStress(player.playerStats.stress);\r\n      setCharacters(player.characters);\r\n      console.log(\"player updated \" + player.name);\r\n      console.log(player.playerStats);\r\n    };\r\n\r\n    uiManager.on(\"playerUpdate\", updateStats);\r\n  }, [uiManager]);\r\n\r\n  const playerLikes = player.preferences.filter((pref) => pref[1] > 0);\r\n  const playerHates = player.preferences.filter((pref) => pref[1] < 0);\r\n  const playerTraits = player.traits;\r\n\r\n  return (\r\n    <div\r\n      className=\"player-display\"\r\n      onMouseEnter={() => setShowPlayerTooltip(true)}\r\n      onMouseLeave={() => setShowPlayerTooltip(false)}\r\n      onClick={() =>\r\n        uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.PLAYER, player)\r\n      }\r\n    >\r\n      <div className=\"character-level-icon-column\">\r\n        <div className=\"player-diamond-holder\">\r\n          <div\r\n            className=\"player-diamond\"\r\n            style={{\r\n              backgroundColor: delightColors2[player.playerStats.enjoyment],\r\n              borderColor: delightBorderColors2[player.playerStats.enjoyment],\r\n            }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"player-icon-container\">\r\n          <CImage imageId={player.icon} />\r\n        </div>\r\n        <div className=\"character-level\">\r\n          <FillBar\r\n            filledSegments={player.playerStats.experience}\r\n            totalSegments={PLAYER_EXP_LEVEL[player.playerStats.level]}\r\n            theme=\"player-level\"\r\n            label={`LEVEL ${player.playerStats.level}`}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"character-icons\">\r\n        {characters.map((char, index) => (\r\n          <div key={char.id} className=\"character-icon-container\">\r\n            {showCharacterTooltip === index && (\r\n              <div className=\"character-tooltip\">\r\n                <div className=\"tooltip-header\">{char.name}</div>\r\n                <div className=\"tooltip-content\">\r\n                  <AttributeDisplay\r\n                    hero={char}\r\n                    category={ATTRIBUTE_CONTRIBUTOR.ALL}\r\n                    showAttributeLoss={true}\r\n                    overviewDisplay={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div\r\n              className=\"character-icon\"\r\n              onMouseEnter={() => setShowCharacterTooltip(index)}\r\n              onMouseLeave={() => setShowCharacterTooltip(null)}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                uiManager.showBasicNotebook(NOTEBOOK_CATEGORY.CHARACTER, char);\r\n              }}\r\n            >\r\n              <CImage imageId={char.icon} />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"player-stats\">\r\n        <div className=\"player-stat-label name\">{player.name}</div>\r\n        <div\r\n          className=\"player-stat-label\"\r\n          style={{\r\n            color: getStatColor(enjoyment / player.playerStats.maxEnjoyment),\r\n          }}\r\n        >\r\n          attitude\r\n        </div>\r\n        <div className=\"stat-bar\">\r\n          <div\r\n            className=\"fill happiness\"\r\n            style={{\r\n              width: `${(enjoyment / 5) * 100}%`,\r\n              backgroundColor: getStatColor(\r\n                enjoyment / player.playerStats.maxEnjoyment\r\n              ),\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"player-stat-label\"\r\n          style={{\r\n            color: getStatColor(attention / player.playerStats.maxInvolvement),\r\n          }}\r\n        >\r\n          attention\r\n        </div>\r\n        <div className=\"stat-bar\">\r\n          <div\r\n            className=\"fill attention\"\r\n            style={{\r\n              width: `${(attention / 5) * 100}%`,\r\n              backgroundColor: getStatColor(\r\n                attention / player.playerStats.maxInvolvement\r\n              ),\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"player-stat-label\"\r\n          style={{\r\n            color: getStatColor(\r\n              Math.max(0, stress - player.playerStats.stressBuffer),\r\n              true\r\n            ),\r\n          }}\r\n        >\r\n          stress\r\n        </div>\r\n        <div>\r\n          <div className=\"stat-item stress\">\r\n            <div\r\n              className=\"stress-value\"\r\n              style={{\r\n                color: getStatColor(\r\n                  Math.max(0, stress - player.playerStats.stressBuffer),\r\n                  true\r\n                ),\r\n              }}\r\n            >\r\n              {Math.max(\r\n                0,\r\n                player.playerStats.stress - player.playerStats.stressBuffer\r\n              )}\r\n              %\r\n            </div>\r\n            <div className=\"stress-buffer\">\r\n              {player.playerStats.stress < player.playerStats.stressBuffer && (\r\n                <div className=\"stress-buffer-value\">\r\n                  {\"[\"}\r\n                  {Math.max(\r\n                    0,\r\n                    player.playerStats.stressBuffer - player.playerStats.stress\r\n                  )}\r\n                  {\"]\"}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showPlayerTooltip && showCharacterTooltip === null && (\r\n        <div className=\"player-tooltip\">\r\n          <div className=\"tooltip-header\">{player.name}</div>\r\n          <div className=\"tooltip-content\">\r\n            Likes:\r\n            <div className=\"preference-list\">\r\n              {playerLikes.map((like, index) => (\r\n                <div key={index} className=\"text-pill preference-item like\">\r\n                  {like[0].name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"tooltip-content\">\r\n            Hates:\r\n            <div className=\"preference-list\">\r\n              {playerHates.map((hate, index) => (\r\n                <div key={index} className=\"text-pill preference-item hate\">\r\n                  {hate[0].name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          {playerTraits.length > 0 && (\r\n            <div className=\"tooltip-content\">\r\n              Player Traits:\r\n              <div className=\"preference-list\">\r\n                {playerTraits.map((trait, index) => (\r\n                  <div key={index} className=\"preference-item trait \">\r\n                    {trait.name}:<div>{trait.description}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDisplay;\r\n","import React, { useState } from 'react';\r\nimport { useCharacterManager, useAppManager, useCampaignManager } from '../managerContexts';\r\nimport FillBar from './fillBar';\r\nimport { ATTRIBUTE_TYPE } from '../../models';\r\n\r\ninterface TreasureDisplayProps {\r\n  treasureLevel: number;\r\n  treasurePoints: number;\r\n}\r\n\r\n\r\n\r\nconst TreasureDisplay: React.FC<TreasureDisplayProps> = ({treasureLevel, treasurePoints}) => {\r\n   const appManager = useAppManager();\r\n    const partyManager = appManager.getPartyManager();\r\n   // const campaignManager = useCampaignManager();\r\n\r\n  // Calculate current level and next threshold\r\n  while (partyManager.getTreasureThreshold(treasureLevel + 1) <= treasurePoints) {\r\n    treasureLevel++;\r\n  }\r\n  \r\n  const nextThreshold = partyManager.getTreasureThreshold(treasureLevel + 1);\r\n  const previousThreshold = partyManager.getTreasureThreshold(treasureLevel);\r\n  const progressToNext = (treasurePoints - previousThreshold) / (nextThreshold - previousThreshold);\r\n  \r\n  const nextReward = partyManager.getTreasureReward(treasureLevel);\r\n\r\n  return (\r\n    <div className=\"treasure-display-container\">\r\n      <div className=\"treasure-header\">\r\n        <span className=\"treasure-title\">TREASURE</span>\r\n      </div>\r\n      \r\n      <div className=\"treasure-reward\">\r\n       \r\n        <span className=\"reward-value\">\r\n          +{nextReward.value} {nextReward.type === 'score' ? 'Score' : 'Attitude'}\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"treasure-progress\">\r\n        <span className=\"progress-text\">\r\n          {treasurePoints}/{nextThreshold}\r\n        </span>\r\n        <FillBar \r\n          totalSegments={nextThreshold}\r\n          filledSegments={treasurePoints}\r\n          theme={\"treasure\"}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TreasureDisplay;","import PlayerCard from '../playerCard';\r\nimport GameTable from \"./gameTable\";\r\nimport { useAppManager, useCampaignManager, usePlayerManager, useUiManager } from '../managerContexts';\r\n\r\nimport './gameRoom.scss';\r\nimport { APP_STATE } from '../../consts/states';\r\nimport BottomBar from './bottomBar';\r\nimport Chat from '../UI/chat';\r\nimport UiManager from '../../managers/uiManager';\r\nimport { NOTEBOOK_CATEGORY } from '../../models';\r\nimport { useEffect, useState } from 'react';\r\nimport FillBar from '../UI/fillBar';\r\nimport NeedleGauge from '../UI/needleGauge';\r\nimport StressInfo from './stressInfo';\r\nimport PlayerDisplay from './PlayerDisplay';\r\nimport TreasureDisplay from '../UI/treasureDisplay';\r\n\r\n\r\n\r\n\r\ninterface GameRoomProps {\r\n\toverviewMode?: boolean;\r\n}\r\n\r\nconst GameRoom: React.FC<GameRoomProps> = ({overviewMode = false}) => {\r\n\r\n\tconst appManager = useAppManager();\r\n\tconst playerManager = usePlayerManager(); \r\n\tconst players = playerManager.getPlayers();\r\n\tconst campaignManager = useCampaignManager();\r\n\tconst uiManager = useUiManager();\r\n\tconst partyManager = appManager.getPartyManager();\r\n\r\n\tconst [partyExhaustion, setPartyExhaustion] = useState(partyManager.getPartyExhaustion());\r\n\tconst [partyTension, setPartyTension] = useState(partyManager.getPartyTension());\r\n\tconst [partyScore, setPartyScore] = useState(partyManager.getPartyScore());\r\n\r\n\r\n\tconst [treasureLevel, setTreasureLevel] = useState(partyManager.getTreasureLevel());\r\n\tconst [treasurePoints, setTreasurePoints] = useState(partyManager.getTreasurePoints());\t\r\n\t//const [campaignScore, getCampaignScore] = useState(campaignManager.getCampaignScore());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updateGameInfo = () => {\r\n\t\t\tsetPartyExhaustion(partyManager.getPartyExhaustion());\r\n\t\t\t//getCampaignScore(campaignManager.getCampaignScore());\r\n\t\t}\r\n\t\tpartyManager.on('dmScreenUpdated', updateGameInfo);\r\n\t\treturn () => {\r\n\t\t\tpartyManager.off('dmScreenUpdated', updateGameInfo);\r\n\t\t}\r\n\t}, [campaignManager]);\r\n\t\r\n  useEffect(() => {\r\n\tconst forceUpdate = () => {\r\n\t  setPartyTension(partyManager.getPartyTension());\r\n\t  setPartyScore(partyManager.getPartyScore());\r\n\t  setTreasureLevel(partyManager.getTreasureLevel());\r\n\t  setTreasurePoints(partyManager.getTreasurePoints());\r\n\t}\r\n\tuiManager.on('playerUpdate', forceUpdate);\r\n\treturn () => {\r\n\t  uiManager.off('playerUpdate', forceUpdate);\r\n\t};\r\n\r\n  }, [uiManager]);\r\n\r\n  \r\n\tconst handlePlayerSelect = (player: any) => {\r\n\t\tuiManager.showBasicNotebook(NOTEBOOK_CATEGORY.PLAYER, player);\r\n\t}\r\n\r\n\tconst playerRowDisplay = () => {\r\n\t\treturn (\r\n\t\t<div className=\"gameroom-player-row\">\r\n\t\t\t\r\n\t\t\t{players.map((player) => (\r\n\t\t\t\t<PlayerDisplay \r\n\t\t\t\t\tkey={player.id}\r\n\t\t\t\t\tplayer={player}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>)\r\n\t}\r\n\r\n\r\n\r\n  const backToOverview = () => {\r\n\tif(appManager.state === APP_STATE.SESSION_OVERVIEW) {\r\n\t\tappManager.state = APP_STATE.SESSION;\r\n\t} else {\r\n\t\tcampaignManager.backToOverview();\r\n\t}\r\n  }\r\n\r\n\r\n  const setupMode = appManager.state === APP_STATE.SESSION_OVERVIEW;\r\n\r\n\r\n\r\n  return (\r\n\t<div className = \"gameroom-container\">\r\n\t\t<div className=\"gameroom-top-container\">\r\n\t\t\t\r\n\t\t\t<div className=\"player-display-container\">\r\n\r\n\t\t\t\t<div className=\"player-row\">\r\n\t\t\t\t\t{playerRowDisplay()}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<TreasureDisplay \r\n\t\t\t\t\t\t\ttreasureLevel={treasureLevel}\r\n\t\t\t\t\t\t\ttreasurePoints={treasurePoints}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\r\n\t\t\t\t\t<div className=\"player-tension-holder\">\r\n\t\t\t\t\t\t<div className=\"stress-needle\">\r\n\t\t\t\t\t\t\t<StressInfo stress={partyTension} />\r\n\t\t\t\t\t\t\t<NeedleGauge value={partyTension/10} max={10} />\r\n\t\t\t\t\t\t<div className=\"stress-label-containers\">\r\n\t\t\t\t\t\t\t\t<div className=\"stress-labels\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"stress-label\">TENSION</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"stress-label\">{partyTension}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"stress-labels right\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"stress-label\">SCORE</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"stress-label\">{partyManager.getTensionDescription2(partyTension)}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"score-info\">\r\n          \t\t\t<div className=\"score-label\">PARTY SCORE</div>\r\n\t\t\t\t\t<div className=\"score-value\">{partyScore}</div>\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"player-row-exhaustion\">\r\n\t\t\t\t\t<div className=\"party-exhaustion\">\r\n\t\t\t\t\t\t<div className=\"party-exhaustion-label\">\r\n\t\t\t\t\t\t\tEXHAUSTION\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"party-exhaustion-label number\">\r\n\t\t\t\t\t\t\t{partyExhaustion}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t<FillBar totalSegments={20} filledSegments={partyExhaustion/5} theme=\"exhaustion\" label=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t{/*  */}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t\t{!overviewMode && (<div className=\"gameroom-table-row-container\">\r\n\t\t\t<div className = \"gameroom-table-row\">\r\n\t\t\t\t<GameTable />\r\n\t\t\t</div>\r\n\t\t\t{/* <BottomBar partyExhaustion={partyExhaustion} /> */}\r\n\t\t</div>\r\n\t\t)}\r\n\r\n\t</div>\r\n  );\r\n}\r\n\r\nexport default GameRoom;","import React from 'react';\nimport './sessionControl.scss';\n\nimport EncounterOverview from './UI/encounterOverview';\nimport { CAMPAIGNS } from '../consts/campaigns';\nimport { useCampaignManager } from './managerContexts';\nimport CImage from './UI/cimage';\nimport GameRoom from './GameRoom/gameRoom';\nimport Chat from './UI/chat';\n\n\n\nconst SessionControlComponent: React.FC = () => {\n  \n  const campaignManager = useCampaignManager();\n\n  const encounterOverviewUi = () => {\n   \n      return (\n        <div className=\"temp\">temp</div>\n      )\n    \n  }\n\n  // const campaignDisplay = () => {\n  //   return (\n  //     <div className=\"session-control-campaign\">\n  //         <div className={`campaign-display ${CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].theme} icon-only`}> \n  //           <div className={'campaign-info left'}>\n  //             <div className=\"campaign-info\">{CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].name}</div>\n  //             <div className=\"campaign-info hooks\">PLOT HOOKS</div>\n  //             <div className=\"circle-display\">\n  //               {Array.from({ length: 4 }, (_, index) => (\n  //                 <div\n  //                   key={index}\n  //                   className={`circle ${index < campaignManager.getCampaignProgress() ? 'filled' : ''}`}\n  //                 />\n  //               ))}\n  //             </div>\n  //           </div>\n            \n  //           <div className=\"campaign-icon solo\">\n  //             <CImage imageId={CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].icon} />\n  //           </div>\n  //         </div>\n  //       </div>\n  //   )\n  // }\n\n\n  return (\n    <div className=\"session-control-container\">\n        <GameRoom overviewMode={true}/>\n       <div className=\"encounter-overview\">\n          <EncounterOverview/>\n       </div>\n    \n   </div>\n  );\n}\n\nexport default SessionControlComponent;\n","import React from 'react';\nimport './sessionRun.scss';\nimport AppManager from '../managers/appManager';\nimport GameRoom from './GameRoom/gameRoom';\nimport DMScreen from './GameRoom/dmScreen';\n\ninterface SessionRunProps {\n  appManager: AppManager; \n}\n\nconst SessionRunComponent: React.FC<SessionRunProps> = ({appManager}) => {\n\n  return (\n    <div className=\"session-run-container\">\n      <GameRoom />\n\t\t\n\t\t\t\n    </div>\n  );\n}\n\nexport default SessionRunComponent;\n","import React, { useEffect } from 'react';\nimport './finalStats.scss';\nimport AppManager from '../managers/appManager';\n\ninterface FinalStatsProps {\n  appManager: AppManager; \n}\n\nconst FinalStatsComponent: React.FC<FinalStatsProps> = ({appManager}) => {\n\n  return (\n    <div className=\"final-stats-container\">\n       FINAL STATS\n    </div>\n  );\n}\n\nexport default FinalStatsComponent;\n","/**\r\n * Configuration for the slot machine mini-game\r\n */\r\n\r\n// Symbols that can appear on the reels\r\nexport const SYMBOLS = [\r\n  '', // Shield\r\n  '', // Ring\r\n  'J', // Jack\r\n  'Q', // Queen\r\n  'K', // King\r\n  'A', // Ace\r\n  '', // Wild\r\n];\r\n\r\n// Default starting credits\r\nexport const DEFAULT_CREDITS = 100;\r\n\r\n// Default starting wilds\r\nexport const DEFAULT_WILDS = 5;\r\n\r\n// Bet options\r\nexport const BET_OPTIONS = [5, 10, 25, 50];\r\n\r\n// Probability (out of 100) of a wild symbol appearing\r\nexport const WILD_PROBABILITY = 8;\r\n\r\n// Maximum number of wild symbols that can appear in a single spin\r\nexport const MAX_WILD_PER_SPIN = 3;\r\n\r\n// Payout configuration - for each symbol, defines payout multipliers for 3, 4, and 5 in a row\r\nexport const SYMBOL_PAYOUTS = {\r\n  '': {\r\n    3: 5,    // 3 shields in a row pays 5x bet\r\n    4: 10,   // 4 shields in a row pays 10x bet\r\n    5: 20,   // 5 shields in a row pays 20x bet\r\n  },\r\n  '': {\r\n    3: 8,    // 3 rings in a row pays 8x bet\r\n    4: 15,   // 4 rings in a row pays 15x bet\r\n    5: 30,   // 5 rings in a row pays 30x bet\r\n  },\r\n  'J': {\r\n    3: 10,   // 3 Jacks in a row pays 10x bet\r\n    4: 20,   // 4 Jacks in a row pays 20x bet\r\n    5: 40,   // 5 Jacks in a row pays 40x bet\r\n  },\r\n  'Q': {\r\n    3: 15,   // 3 Queens in a row pays 15x bet\r\n    4: 30,   // 4 Queens in a row pays 30x bet\r\n    5: 60,   // 5 Queens in a row pays 60x bet\r\n  },\r\n  'K': {\r\n    3: 20,   // 3 Kings in a row pays 20x bet\r\n    4: 40,   // 4 Kings in a row pays 40x bet\r\n    5: 80,   // 5 Kings in a row pays 80x bet\r\n  },\r\n  'A': {\r\n    3: 25,   // 3 Aces in a row pays 25x bet\r\n    4: 50,   // 4 Aces in a row pays 50x bet\r\n    5: 100,  // 5 Aces in a row pays 100x bet\r\n  },\r\n  '': {\r\n    3: 50,   // 3 Wilds in a row pays 50x bet\r\n    4: 100,  // 4 Wilds in a row pays 100x bet\r\n    5: 200,  // 5 Wilds in a row pays 200x bet\r\n  }\r\n};\r\n\r\n// Definition of the 20 paylines. Each payline is an array of 5 coordinate objects {row, col}.\r\n// Rows are 0-3, Columns are 0-4.\r\n// IMPORTANT: Please review and update these placeholder paylines according to your paylines.png image.\r\nexport const PAYLINES: Array<Array<{ row: number; col: number }>> = [\r\n  // Straight lines\r\n  [{row:0,col:0},{row:0,col:1},{row:0,col:2},{row:0,col:3},{row:0,col:4}], // Payline 1 (Top row)\r\n  [{row:1,col:0},{row:1,col:1},{row:1,col:2},{row:1,col:3},{row:1,col:4}], // Payline 2 (Second row)\r\n  [{row:2,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:2,col:4}], // Payline 3 (Third row)\r\n  [{row:3,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:3,col:4}], // Payline 4 (Bottom row)\r\n  // Diagonal and V-shape placeholders (examples, verify and edit)\r\n  [{row:0,col:0},{row:1,col:1},{row:2,col:2},{row:3,col:3},{row:3,col:4}], // Payline 5\r\n  [{row:3,col:0},{row:2,col:1},{row:1,col:2},{row:0,col:3},{row:0,col:4}], // Payline 6\r\n  [{row:0,col:0},{row:0,col:1},{row:1,col:2},{row:2,col:3},{row:2,col:4}], // Payline 7\r\n  [{row:3,col:0},{row:3,col:1},{row:2,col:2},{row:1,col:3},{row:1,col:4}], // Payline 8\r\n  [{row:1,col:0},{row:0,col:1},{row:0,col:2},{row:0,col:3},{row:1,col:4}], // Payline 9\r\n  [{row:2,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:2,col:4}], // Payline 10\r\n  [{row:0,col:0},{row:1,col:1},{row:1,col:2},{row:1,col:3},{row:0,col:4}], // Payline 11\r\n  [{row:3,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:3,col:4}], // Payline 12\r\n  [{row:1,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:1,col:4}], // Payline 13\r\n  [{row:2,col:0},{row:1,col:1},{row:1,col:2},{row:1,col:3},{row:2,col:4}], // Payline 14\r\n  [{row:0,col:0},{row:0,col:1},{row:1,col:2},{row:0,col:3},{row:0,col:4}], // Payline 15\r\n  [{row:3,col:0},{row:3,col:1},{row:2,col:2},{row:3,col:3},{row:3,col:4}], // Payline 16\r\n  [{row:1,col:0},{row:1,col:1},{row:0,col:2},{row:1,col:3},{row:1,col:4}], // Payline 17\r\n  [{row:2,col:0},{row:2,col:1},{row:3,col:2},{row:2,col:3},{row:2,col:4}], // Payline 18\r\n  [{row:0,col:0},{row:1,col:1},{row:0,col:2},{row:1,col:3},{row:0,col:4}], // Payline 19\r\n  [{row:3,col:0},{row:2,col:1},{row:3,col:2},{row:2,col:3},{row:3,col:4}], // Payline 20\r\n];\r\n\r\n// Storage key for persistent data\r\nexport const STORAGE_KEYS = {\r\n  SLOT_MACHINE_CREDITS: 'dungeon_planner_slot_machine_credits',\r\n  SLOT_MACHINE_WILDS: 'dungeon_planner_slot_machine_wilds',\r\n};\r\n","/**\r\n * Utility functions for localStorage operations\r\n */\r\n\r\n// Keys for stored items\r\nexport const STORAGE_KEYS = {\r\n  SLOT_MACHINE_CREDITS: 'dungeon_planner_slot_machine_credits',\r\n};\r\n\r\n/**\r\n * Save a value to localStorage\r\n * @param key The key to store the value under\r\n * @param value The value to store\r\n */\r\nexport const saveToLocalStorage = <T>(key: string, value: T): void => {\r\n  try {\r\n    const serializedValue = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedValue);\r\n  } catch (error) {\r\n    console.error('Error saving to localStorage:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Load a value from localStorage\r\n * @param key The key to retrieve the value from\r\n * @param defaultValue The default value to return if the key doesn't exist\r\n * @returns The stored value or the default value\r\n */\r\nexport const loadFromLocalStorage = <T>(key: string, defaultValue: T): T => {\r\n\r\n\r\n   return defaultValue;\r\n\r\n//   try {\r\n//     const serializedValue = localStorage.getItem(key);\r\n//     if (serializedValue === null) {\r\n//       return defaultValue;\r\n//     }\r\n//     return JSON.parse(serializedValue) as T;\r\n//   } catch (error) {\r\n//     console.error('Error loading from localStorage:', error);\r\n//     return defaultValue;\r\n//   }\r\n};\r\n\r\n/**\r\n * Remove a value from localStorage\r\n * @param key The key to remove\r\n */\r\nexport const removeFromLocalStorage = (key: string): void => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.error('Error removing from localStorage:', error);\r\n  }\r\n};\r\n","/**\r\n * Utility functions for playing sounds in the application\r\n */\r\n\r\n// Sound effects for the slot machine\r\nconst SLOT_MACHINE_SOUNDS = {\r\n  SPIN: 'https://assets.mixkit.co/active_storage/sfx/2016/2016-preview.mp3',\r\n  WIN_SMALL: 'https://assets.mixkit.co/active_storage/sfx/270/270-preview.mp3',\r\n  WIN_MEDIUM: 'https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3',\r\n  WIN_BIG: 'https://assets.mixkit.co/active_storage/sfx/2017/2017-preview.mp3',\r\n  REEL_STOP: 'https://assets.mixkit.co/active_storage/sfx/178/178-preview.mp3',\r\n  BUTTON_CLICK: 'https://assets.mixkit.co/active_storage/sfx/1705/1705-preview.mp3',\r\n  WILD_COLLECT: 'https://assets.mixkit.co/active_storage/sfx/150/150-preview.mp3', // Magical sound for wild collection\r\n  WILD_STORM_TRIGGER: 'https://assets.mixkit.co/sfx/preview/mixkit-cinematic-whoosh-explosion-1022.mp3', // Example sound\r\n  WILD_APPLIED: 'https://assets.mixkit.co/sfx/preview/mixkit-fast-magic-game-spell-883.mp3',         // Example sound\r\n};\r\n\r\n// Cache for audio objects to prevent recreating them each time\r\nconst audioCache: { [key: string]: HTMLAudioElement } = {};\r\n\r\n/**\r\n * Preload sounds into cache\r\n */\r\nexport const preloadSounds = (): void => {\r\n  Object.values(SLOT_MACHINE_SOUNDS).forEach(url => {\r\n    if (!audioCache[url]) {\r\n      const audio = new Audio(url);\r\n      audio.load();\r\n      audioCache[url] = audio;\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Play a sound effect\r\n * @param url Sound URL to play\r\n * @param volume Volume level (0-1)\r\n */\r\nconst noSound = true;\r\nexport const playSound = (url: string, volume = 0.5): void => {\r\n  \r\n  \r\n  \r\n  if(noSound) {\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    let audio: HTMLAudioElement;\r\n    \r\n    // Use cached audio if available\r\n    if (audioCache[url]) {\r\n      audio = audioCache[url];\r\n    } else {\r\n      audio = new Audio(url);\r\n      audioCache[url] = audio;\r\n    }\r\n    \r\n    // Reset the audio to the beginning if it's already playing\r\n    audio.currentTime = 0;\r\n    audio.volume = volume;\r\n    \r\n    // Play the sound\r\n    audio.play().catch(error => {\r\n      console.error('Error playing sound:', error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error playing sound:', error);\r\n  }\r\n};\r\n\r\nexport { SLOT_MACHINE_SOUNDS };\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport \"./SlotMachine.scss\";\r\nimport { PAYLINES, SYMBOL_PAYOUTS, BET_OPTIONS, STORAGE_KEYS, DEFAULT_CREDITS, DEFAULT_WILDS, SYMBOLS, WILD_PROBABILITY } from \"../../consts/slotMachineConfig\";\r\nimport { loadFromLocalStorage, saveToLocalStorage } from \"../../utils/localStorage\";\r\nimport { SLOT_MACHINE_SOUNDS, playSound, preloadSounds } from \"../../utils/sounds\";\r\n\r\ninterface SlotMachineProps {\r\n\tonClose?: () => void;\r\n}\r\n\r\ninterface WildAnimation {\r\n\tid: string;\r\n\trow: number;\r\n\tcol: number;\r\n}\r\n\r\ninterface Position {\r\n\trow: number;\r\n\tcol: number;\r\n}\r\n\r\nconst SlotMachine: React.FC<SlotMachineProps> = ({ onClose }) => {\r\n\tconst [credits, setCredits] = useState(() =>\r\n\t\tloadFromLocalStorage(STORAGE_KEYS.SLOT_MACHINE_CREDITS, DEFAULT_CREDITS)\r\n\t);\r\n\tconst [wilds, setWilds] = useState(() =>\r\n\t\tloadFromLocalStorage(STORAGE_KEYS.SLOT_MACHINE_WILDS, DEFAULT_WILDS)\r\n\t);\r\n\tconst [currentBet, setCurrentBet] = useState(BET_OPTIONS[0]);\r\n\tconst [highlightWins, setHighlightWins] = useState(false);\r\n\tconst [winningPositions, setWinningPositions] = useState<Position[]>([]);\r\n\tconst [currentGrid, setCurrentGrid] = useState<string[][]>([]);\r\n\tconst [showDebugPanel, setShowDebugPanel] = useState(false);\r\n\tconst [winAmount, setWinAmount] = useState(0);\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [isSpinning, setIsSpinning] = useState(false);\r\n\tconst [bigWinActive, setBigWinActive] = useState(false);\r\n\tconst [isWildStormActive, setIsWildStormActive] = useState(false);\r\n\tconst [wildStormChancePercentage, setWildStormChancePercentage] = useState(5);\r\n\tconst [wildAnimations, setWildAnimations] = useState<WildAnimation[]>([]);\r\n\tconst [activePaylineIndex, setActivePaylineIndex] = useState<number>(-1);\r\n\tconst [highlightInterval, setHighlightInterval] = useState<number | null>(null);\r\n\tconst [paylinesToHighlight, setPaylinesToHighlight] = useState<Position[][]>([]);\r\n\r\n\t// Save credits to localStorage whenever it changes\r\n\tuseEffect(() => {\r\n\t\tsaveToLocalStorage(STORAGE_KEYS.SLOT_MACHINE_CREDITS, credits);\r\n\t}, [credits]);\r\n\r\n\t// Save wilds to localStorage whenever it changes\r\n\tuseEffect(() => {\r\n\t\tsaveToLocalStorage(STORAGE_KEYS.SLOT_MACHINE_WILDS, wilds);\r\n\t}, [wilds]);\r\n\r\n\t// Cleanup function for highlight interval\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (highlightInterval !== null) {\r\n\t\t\t\tclearInterval(highlightInterval);\r\n\t\t\t}\r\n\t\t};\r\n\t}, [highlightInterval]);\r\n\r\n\tconst startPaylineCycle = useCallback((paylineGroups: Position[][]) => {\r\n\t\tif (highlightInterval !== null) {\r\n\t\t\tclearInterval(highlightInterval);\r\n\t\t}\r\n\t\tsetPaylinesToHighlight(paylineGroups);\r\n\t\tsetActivePaylineIndex(0);\r\n\r\n\t\tconst interval = window.setInterval(() => {\r\n\t\t\tsetActivePaylineIndex(prev => (prev + 1) % paylineGroups.length);\r\n\t\t}, 1000);\r\n\r\n\t\tsetHighlightInterval(interval);\r\n\t}, [highlightInterval]);\r\n\r\n\tconst getSymbolName = useCallback((symbol: string): string => {\r\n\t\tswitch (symbol) {\r\n\t\t\tcase \"\": return \"Shield\";\r\n\t\t\tcase \"\": return \"Ring\";\r\n\t\t\tcase \"\": return \"Wild\";\r\n\t\t\tcase \"J\": return \"Jack\";\r\n\t\t\tcase \"Q\": return \"Queen\";\r\n\t\t\tcase \"K\": return \"King\";\r\n\t\t\tcase \"A\": return \"Ace\";\r\n\t\t\tdefault: return symbol;\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst generateRandomGrid = useCallback(() => {\r\n\t\tconst newGrid: string[][] = [];\r\n\t\tfor (let row = 0; row < 4; row++) {\r\n\t\t\tnewGrid[row] = [];\r\n\t\t\tfor (let col = 0; col < 5; col++) {\r\n\t\t\t\tif (col === 4) {\r\n\t\t\t\t\tconst specialRoll = Math.random();\r\n\t\t\t\t\tif (specialRoll < 0.2) {\r\n\t\t\t\t\t\tnewGrid[row][col] = \"\";\r\n\t\t\t\t\t} else if (specialRoll < 0.5) {\r\n\t\t\t\t\t\tconst premiumSymbols = [\"K\", \"A\", \"\", \"\"];\r\n\t\t\t\t\t\tnewGrid[row][col] = premiumSymbols[Math.floor(Math.random() * premiumSymbols.length)];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst regularSymbols = SYMBOLS.filter((s) => s !== \"\");\r\n\t\t\t\t\t\tnewGrid[row][col] = regularSymbols[Math.floor(Math.random() * regularSymbols.length)];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Math.random() * 100 < WILD_PROBABILITY) {\r\n\t\t\t\t\t\tnewGrid[row][col] = \"\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst symbolsWithoutWild = SYMBOLS.filter((s) => s !== \"\");\r\n\t\t\t\t\t\tnewGrid[row][col] = symbolsWithoutWild[Math.floor(Math.random() * symbolsWithoutWild.length)];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn newGrid;\r\n\t}, []);\r\n\r\n\tconst animateWildCollection = useCallback((row: number, col: number) => {\r\n\t\tconst id = `wild-${row}-${col}-${Date.now()}`;\r\n\t\tsetWildAnimations(prev => [...prev, { id, row, col }]);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetWildAnimations(prev => prev.filter(anim => anim.id !== id));\r\n\t\t}, 1000);\r\n\t}, []);\r\n\r\n\tconst checkForWinsDigital = useCallback((grid: string[][]) => {\r\n\t\tconst betMultiplier = currentBet / (BET_OPTIONS[0] || 1);\r\n\t\tlet totalWinnings = 0;\r\n\t\tlet winMessages: string[] = [];\r\n\t\tlet collectedWildsThisSpin = 0;\r\n\t\tlet allWinningPositionsThisSpin: Position[] = [];\r\n\t\tlet winningPaylineGroups: Position[][] = [];\r\n\r\n\t\tPAYLINES.forEach((payline, paylineIndex) => {\r\n\t\t\tlet currentSymbol = \"\";\r\n\t\t\tlet dominantSymbol = \"\";\r\n\t\t\tlet currentStreak = 0;\r\n\t\t\tlet paylineWinningPositions: Position[] = [];\r\n\t\t\tlet paylineSymbols: string[] = [];\r\n\r\n\t\t\tfor (let i = 0; i < payline.length; i++) {\r\n\t\t\t\tconst pos = payline[i];\r\n\t\t\t\tif (!grid[pos.row] || !grid[pos.row][pos.col]) {\r\n\t\t\t\t\tconsole.error(`Invalid position in payline ${paylineIndex + 1}: row ${pos.row}, col ${pos.col}. Grid:`, grid);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tconst symbol = grid[pos.row][pos.col];\r\n\r\n\t\t\t\tif (i === 0) {\r\n\t\t\t\t\tcurrentSymbol = symbol;\r\n\t\t\t\t\tif (symbol !== \"\") {\r\n\t\t\t\t\t\tdominantSymbol = symbol;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurrentStreak = 1;\r\n\t\t\t\t\tpaylineWinningPositions.push(pos);\r\n\t\t\t\t\tpaylineSymbols.push(symbol);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (symbol === currentSymbol || symbol === \"\" || currentSymbol === \"\") {\r\n\t\t\t\t\t\tcurrentStreak++;\r\n\t\t\t\t\t\tpaylineWinningPositions.push(pos);\r\n\t\t\t\t\t\tpaylineSymbols.push(symbol);\r\n\t\t\t\t\t\tif (currentSymbol === \"\" && symbol !== \"\") {\r\n\t\t\t\t\t\t\tcurrentSymbol = symbol;\r\n\t\t\t\t\t\t\tdominantSymbol = symbol;\r\n\t\t\t\t\t\t} else if (symbol !== \"\" && dominantSymbol === \"\") {\r\n\t\t\t\t\t\t\tdominantSymbol = symbol;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (currentStreak >= 3) {\r\n\t\t\t\tconst payoutSymbolToUse = dominantSymbol || currentSymbol;\r\n\t\t\t\tlet baseWinningAmount = 0;\r\n\r\n\t\t\t\tconst payoutConfig = SYMBOL_PAYOUTS[payoutSymbolToUse as keyof typeof SYMBOL_PAYOUTS];\r\n\t\t\t\tif (payoutConfig) {\r\n\t\t\t\t\tbaseWinningAmount = payoutConfig[currentStreak as keyof typeof payoutConfig] || 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (baseWinningAmount > 0) {\r\n\t\t\t\t\tconst winningAmount = Math.floor(baseWinningAmount * betMultiplier);\r\n\t\t\t\t\ttotalWinnings += winningAmount;\r\n\t\t\t\t\tallWinningPositionsThisSpin.push(...paylineWinningPositions.slice(0, currentStreak));\r\n\t\t\t\t\twinningPaylineGroups.push(paylineWinningPositions.slice(0, currentStreak));\r\n\t\t\t\t\tconst symbolNames = paylineSymbols.slice(0, currentStreak).map(getSymbolName);\r\n\t\t\t\t\twinMessages.push(\r\n\t\t\t\t\t\t`Payline ${paylineIndex + 1}: ${currentStreak} ${getSymbolName(payoutSymbolToUse)}! ` +\r\n\t\t\t\t\t\t`[${symbolNames.join(\", \")}] +${winningAmount}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (winningAmount >= 50) playSound(SLOT_MACHINE_SOUNDS.WIN_BIG, 0.6);\r\n\t\t\t\t\telse if (winningAmount >= 20) playSound(SLOT_MACHINE_SOUNDS.WIN_MEDIUM, 0.5);\r\n\t\t\t\t\telse playSound(SLOT_MACHINE_SOUNDS.WIN_SMALL, 0.5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfor (let row = 0; row < grid.length; row++) {\r\n\t\t\tfor (let col = 0; col < grid[row].length; col++) {\r\n\t\t\t\tif (grid[row][col] === \"\") {\r\n\t\t\t\t\tcollectedWildsThisSpin++;\r\n\t\t\t\t\tif (!isWildStormActive) {\r\n\t\t\t\t\t\tanimateWildCollection(row, col);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (collectedWildsThisSpin > 0 && !isWildStormActive) {\r\n\t\t\tsetWilds(prev => prev + collectedWildsThisSpin);\r\n\t\t\twinMessages.push(`Collected ${collectedWildsThisSpin} wild symbol${collectedWildsThisSpin > 1 ? \"s\" : \"\"}!`);\r\n\t\t}\r\n\r\n\t\tsetWinningPositions(allWinningPositionsThisSpin);\r\n\t\tsetHighlightWins(allWinningPositionsThisSpin.length > 0);\r\n\r\n\t\tif (winningPaylineGroups.length > 0) {\r\n\t\t\tstartPaylineCycle(winningPaylineGroups);\r\n\t\t}\r\n\r\n\t\tif (totalWinnings > 0) {\r\n\t\t\tsetWinAmount(totalWinnings);\r\n\t\t\tsetCredits(prev => prev + totalWinnings);\r\n\t\t\tsetMessage(winMessages.join(\"\\n\"));\r\n\t\t\tif (totalWinnings >= 50 && !bigWinActive) {\r\n\t\t\t\tsetBigWinActive(true);\r\n\t\t\t\tsetTimeout(() => setBigWinActive(false), 3000);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (collectedWildsThisSpin > 0 && !isWildStormActive) {\r\n\t\t\t\tsetMessage(winMessages.join(\"\\n\") || \"Collected wilds!\");\r\n\t\t\t} else if (!isWildStormActive) {\r\n\t\t\t\tsetMessage(\"Try again!\");\r\n\t\t\t}\r\n\t\t}\r\n\t}, [currentBet, getSymbolName, setWilds, setCredits, setWinAmount, setMessage, setWinningPositions, setHighlightWins, bigWinActive, isWildStormActive, animateWildCollection, startPaylineCycle]);\r\n\r\n\tconst spin = useCallback(async () => {\r\n\t\tif (isSpinning || credits < currentBet) return;\r\n\r\n\t\tif (highlightInterval !== null) {\r\n\t\t\tclearInterval(highlightInterval);\r\n\t\t\tsetHighlightInterval(null);\r\n\t\t}\r\n\r\n\t\tsetIsSpinning(true);\r\n\t\tsetWinAmount(0);\r\n\t\tsetMessage(\"\");\r\n\t\tsetCredits(prev => prev - currentBet);\r\n\t\tsetWinningPositions([]);\r\n\t\tsetHighlightWins(false);\r\n\t\tsetActivePaylineIndex(-1);\r\n\t\tsetPaylinesToHighlight([]);\r\n\r\n\t\tplaySound(SLOT_MACHINE_SOUNDS.SPIN, 0.4);\r\n\r\n\t\tconst animationTotalDuration = 600;\r\n\t\tconst animationFrameInterval = 75;\r\n\t\tconst numAnimationFrames = Math.floor(animationTotalDuration / animationFrameInterval);\r\n\r\n\t\tfor (let i = 0; i < numAnimationFrames; i++) {\r\n\t\t\tsetCurrentGrid(generateRandomGrid());\r\n\t\t\tawait new Promise(r => setTimeout(r, animationFrameInterval));\r\n\t\t}\r\n\r\n\t\tlet activeGrid = generateRandomGrid();\r\n\t\tsetCurrentGrid([...activeGrid]);\r\n\r\n\t\tawait new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n\t\tlet wildstormHappened = false;\r\n\t\tconst wildStormRoll = Math.random();\r\n\t\tif (wilds > 0 && wildStormRoll < wildStormChancePercentage / 100) {\r\n\t\t\tsetIsWildStormActive(true);\r\n\t\t\twildstormHappened = true;\r\n\t\t\tplaySound(SLOT_MACHINE_SOUNDS.WILD_STORM_TRIGGER, 0.7);\r\n\t\t\tsetMessage(\"WILD STORM!\");\r\n\r\n\t\t\tlet currentWildsCount = wilds;\r\n\t\t\tlet tempGrid = activeGrid.map(row => [...row]);\r\n\r\n\t\t\tfor (let i = 0; i < currentWildsCount; i++) {\r\n\t\t\t\tconst availableSpots: Position[] = [];\r\n\t\t\t\tfor (let r = 0; r < tempGrid.length; r++) {\r\n\t\t\t\t\tfor (let c = 0; c < tempGrid[r].length; c++) {\r\n\t\t\t\t\t\tif (tempGrid[r][c] !== \"\") {\r\n\t\t\t\t\t\t\tavailableSpots.push({ row: r, col: c });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (availableSpots.length === 0) break;\r\n\r\n\t\t\t\tconst randomSpot = availableSpots[Math.floor(Math.random() * availableSpots.length)];\r\n\t\t\t\ttempGrid[randomSpot.row][randomSpot.col] = \"\";\r\n\r\n\t\t\t\tsetWilds(prevWilds => Math.max(0, prevWilds - 1));\r\n\t\t\t\tsetCurrentGrid([...tempGrid]);\r\n\t\t\t\tplaySound(SLOT_MACHINE_SOUNDS.WILD_APPLIED, 0.5);\r\n\r\n\t\t\t\tawait new Promise((resolve) => setTimeout(resolve, 300));\r\n\t\t\t}\r\n\t\t\tsetWilds(0);\r\n\t\t\tactiveGrid = [...tempGrid];\r\n\t\t\tsetIsWildStormActive(false);\r\n\t\t\tsetMessage(\"Wild Storm Complete! Checking wins...\");\r\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 1000));\r\n\t\t}\r\n\r\n\t\tcheckForWinsDigital(activeGrid);\r\n\r\n\t\tif (wildstormHappened) {\r\n\t\t\tsetWilds(5);\r\n\t\t}\r\n\r\n\t\tsetIsSpinning(false);\r\n\t}, [isSpinning, credits, currentBet, wilds, generateRandomGrid, checkForWinsDigital, wildStormChancePercentage, highlightInterval]);\r\n\r\n\t// Preload sounds when component mounts\r\n\tuseEffect(() => {\r\n\t\tpreloadSounds();\r\n\t}, []);\r\n\r\n\t// Initialize grid on mount\r\n\tuseEffect(() => {\r\n\t\tsetCurrentGrid(generateRandomGrid());\r\n\t}, [generateRandomGrid]);\r\n\r\n\treturn (\r\n\t\t<div className=\"slot-machine-container\">\r\n\t\t\t<div className=\"slot-machine-header\">\r\n\t\t\t\t<h2>Regal Richez</h2>\r\n\t\t\t\t<div className=\"credits-display\">Credits: ${credits}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"slot-machine-display-row\">\r\n\t\t\t\t<div className=\"slot-machine-content\">\r\n\t\t\t\t\t<div className=\"slot-machine-body\">\r\n\t\t\t\t\t\t<div className=\"slot-machine-main-area\">\r\n\t\t\t\t\t\t\t<div className=\"debug-config-panel\">\r\n\t\t\t\t\t\t\t\t<h4>Debug Config</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"config-item\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"wildStormChance\">Wild Storm Chance (%):</label>\r\n\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"wildStormChance\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={wildStormChancePercentage}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWildStormChancePercentage(Math.max(0, Math.min(100, parseInt(e.target.value, 10))))}\r\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\t\t\tappearance: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\tMozAppearance: 'textfield',\r\n\t\t\t\t\t\t\t\t\t\t\tWebkitAppearance: 'none'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className={`slot-display ${bigWinActive ? \"big-win-active\" : \"\"} ${isWildStormActive ? \"wild-storm-active\" : \"\"}`}>\r\n\t\t\t\t\t\t\t\t<div className=\"wilds-container\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"wilds-label\">WILDS</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"wilds-counter\">{wilds}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"wild-collection-container\">\r\n\t\t\t\t\t\t\t\t\t{wildAnimations.map(anim => (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={anim.id}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wild-animation collecting-wild\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tleft: `${(anim.col * 20) + 10}%`,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop: `${(anim.row * 20) + 10}%`\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"debug-grid\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-labels\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"corner-placeholder\"></div>\r\n\t\t\t\t\t\t\t\t\t\t{[1, 2, 3, 4, 5].map((colNum) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={`col-label-${colNum}`} className=\"col-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tCol {colNum}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{currentGrid.map((row, rowIndex) => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={`row-${rowIndex}`} className=\"debug-row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row-label\">Row {rowIndex + 1}:</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{row.map((symbol, colIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst isWinningPosition = winningPositions.some(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpos => pos.row === rowIndex && pos.col === colIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst isHighlightedPosition = \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaylinesToHighlight[activePaylineIndex]?.some(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpos => pos.row === rowIndex && pos.col === colIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) || false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet symbolName = getSymbolName(symbol);\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet symbolClass = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ([\"J\", \"Q\", \"K\", \"A\"].includes(symbol)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsymbolClass = [\"J\", \"A\"].includes(symbol)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"card-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"card-black\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (symbol === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsymbolClass = \"wild-symbol\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`cell-${rowIndex}-${colIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`debug-cell ${symbolClass} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisWinningPosition ? \"winning\" : \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} ${isHighlightedPosition ? \"highlight-active\" : \"\"}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={`Row ${rowIndex + 1}, Col ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex + 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}: ${symbolName}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{symbol}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{showDebugPanel && (\r\n\t\t\t\t\t\t\t\t<div className=\"debug-panel\">\r\n\t\t\t\t\t\t\t\t\t<h4>Win Details</h4>\r\n\t\t\t\t\t\t\t\t\t{message && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"debug-message\">\r\n\t\t\t\t\t\t\t\t\t\t\t{message.split(\"\\n\").map((line, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p key={`msg-${i}`}>{line}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"slot-machine-controls\">\r\n\t\t\t\t\t\t<div className=\"bet-controls\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"bet-select\">Bet:</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tid=\"bet-select\"\r\n\t\t\t\t\t\t\t\tvalue={currentBet}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCurrentBet(Number(e.target.value))}\r\n\t\t\t\t\t\t\t\tdisabled={isSpinning}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{BET_OPTIONS.map((bet) => (\r\n\t\t\t\t\t\t\t\t\t<option key={bet} value={bet}>\r\n\t\t\t\t\t\t\t\t\t\t${bet}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"spin-button\"\r\n\t\t\t\t\t\t\tonClick={spin}\r\n\t\t\t\t\t\t\tdisabled={isSpinning || credits < currentBet}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isSpinning ? \"Spinning...\" : \"Spin\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"spin-button details\"\r\n\t\t\t\t\t\t\tonClick={() => setShowDebugPanel(!showDebugPanel)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{showDebugPanel ? \"Hide Details\" : \"Show Details\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SlotMachine;\r\n","import React, { useState } from 'react';\r\nimport SlotMachine from './SlotMachine';\r\nimport './SlotMachineModal.scss';\r\n\r\ninterface SlotMachineModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nconst SlotMachineModal: React.FC<SlotMachineModalProps> = ({ isOpen, onClose }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"slot-machine-modal\" onClick={(e) => {\r\n      // Close the modal only if clicking on the backdrop, not the content\r\n    //   if (e.target === e.currentTarget) {\r\n    //     onClose();\r\n    //   }\r\n    }}>\r\n      <div className=\"slot-machine-modal-content\">\r\n        <div className=\"casino-sign\">\r\n\t\t\t\t<h1>CHOMPY LOUNGE</h1>\r\n\t\t\t\t<div className=\"sign-subtitle\">PREMIUM GAMING</div>\r\n\t\t\t</div>\r\n        <SlotMachine onClose={onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlotMachineModal;\r\n","import React, { useState } from 'react';\r\nimport './mainMenu.scss';\r\nimport AppManager from '../managers/appManager';\r\nimport { APP_STATE } from '../consts/states';\r\nimport NavBar from './UI/navBar';\r\nimport { NAV_ENTRY } from '../models';\r\nimport SlotMachineModal from './UI/SlotMachineModal';\r\n\r\ninterface MainMenuProps {\r\n  appManager: AppManager; \r\n}\r\n\r\nconst MainMenuComponent: React.FC<MainMenuProps> = ({appManager}) => { \r\n  const [isSlotMachineOpen, setIsSlotMachineOpen] = useState(false);\r\n\r\n  const handleQuickStart = () => {\r\n    appManager.initiateQuickStartSetup();\r\n    appManager.state = APP_STATE.SESSION_OVERVIEW;\r\n  }\r\n\r\n  const openSlotMachine = () => {\r\n    setIsSlotMachineOpen(true);\r\n  }\r\n\r\n  const closeSlotMachine = () => {\r\n    setIsSlotMachineOpen(false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    openSlotMachine();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main-menu-container\">\r\n      <div className=\"main-menu-content\">\r\n        \r\n        <div className=\"main-menu-options\">\r\n         <NavBar buttonList={[NAV_ENTRY.PLAYER_RECRUITMENT, NAV_ENTRY.CHARACTER_ASSIGNMENT, NAV_ENTRY.CAMPAIGN]} highlight={NAV_ENTRY.PLAYER_RECRUITMENT}/>\r\n        </div>\r\n        <div className=\"game-start-container\">\r\n          <div className=\"button-container\">\r\n            <div className={`quickstart-button nav-button`} onClick={handleQuickStart}>Quick Start</div>\r\n          </div>\r\n          <div className=\"button-container\">\r\n            <div className={`minigame-button nav-button`} onClick={openSlotMachine}>Regal Richez</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Slot Machine Modal */}\r\n      <SlotMachineModal \r\n        isOpen={isSlotMachineOpen} \r\n        onClose={closeSlotMachine} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainMenuComponent;\r\n","import React, { useEffect } from 'react';\nimport CImage from './cimage';\nimport { CHAT_TYPE, ChatMessage } from '../../models';\nimport { useUiManager } from '../managerContexts';\n\ninterface ChatMessageDisplayProps {\n  chatMessage: ChatMessage;\n  newMessage?: boolean;\n}\n\nconst ChatMessageDisplay: React.FC<ChatMessageDisplayProps> = ({chatMessage, newMessage}) => {\n\n  const uiManager = useUiManager();\n\n  const message = chatMessage.message;\n  const iconId = uiManager.getMessageIconId(chatMessage.speaker);\n  \n  let speakerName = uiManager.getMessageSpeakerName(chatMessage.speaker);\n\n\n  return (\n    <div className=\"chat-message-display\">\n      <div className='chat-message-speaker-container'>\n        <div className=\"chat-message-speaker under-icon\">\n            {speakerName}\n          </div>\n        <div className=\"chat-message-icon\">\n          <CImage imageId={iconId} />\n        </div>\n      </div>\n      <div className = 'chat-messager-content'>\n        <div className=\"chat-message-speaker  over-message\">\n          {speakerName}\n        </div>\n        <div className = {`chat-message-text ${chatMessage.speaker.type}`}>\n          <div className=\"chat-message-words\">\n            {message}\n          </div>\n         \n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default ChatMessageDisplay;","import React, { useEffect, useRef, useState } from 'react';\nimport './chat.scss';\nimport CImage from './cimage';\nimport { CHAT_TYPE, ChatMessage } from '../../models';\nimport ChatMessageDisplay from './chatmessagedisplay';\nimport {randomChats} from '../../consts/randomChats';\nimport { useAppManager } from '../managerContexts';\nimport exp from 'constants';\n\ninterface ChatProps {\n // expanded: boolean; \n}\n\nconst Chat: React.FC<ChatProps> = ({}) => {\n\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [expanded, setExpanded] = useState(false);\n  const [newMessage, setNewMessage] = useState<ChatMessage | null>(null);\n  const [muted, setMuted] = useState(false);\n\n  const appManager = useAppManager();\n\n  const chatManager = appManager.getChatManager();\n\n  useEffect(() => {\n    if (expanded && containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, [newMessage, expanded]);\n\n  useEffect(() => {\n    const handleNewMessage = (newMessage: ChatMessage) => {\n      setMessages((prevMessages) => [...prevMessages, newMessage]);\n      setNewMessage(newMessage);\n    };\n    chatManager.on('chat-message', handleNewMessage);\n    return () => {\n      chatManager.off('chat-message', handleNewMessage);\n    };\n  }, [chatManager]);\n\n\n  // useEffect(() => {\n  //   const interval = setInterval(() => {\n  //     const newMessage = chatManager.getFlavorChat();\n  //     setMessages([...messages, newMessage]);\n  //   }, chatManager.getRandomChatInterval());\n  //   return () => clearInterval(interval);\n  // }, [chatManager, messages]);\n\n  // useEffect(() => {\n  //   if (!expanded && messages.length > 0) {\n  //     const latestMessage = messages[messages.length - 1];\n\n  //     if(latestMessage.speaker.type !== CHAT_TYPE.SYSTEM) {\n  //       setNewMessage(latestMessage);\n  //     }\n\n  //     const timer = setTimeout(() => {\n  //       setNewMessage(null);\n  //     }, 5000); \n\n  //     return () => clearTimeout(timer);\n  //   }\n  // }, [messages, expanded]);\n\n  const toggleChat = () => {\n      setExpanded(!expanded);\n  };\n\n  const toggleMute = () => {\n    setMuted(!muted);\n    if(expanded) {\n      setExpanded(false);\n    }\n  }\n\n\n  const renderExpandedChat = () => {\n\n    if(!muted && expanded && messages.length !== 0) {\n    return (\n      <div className=\"chat-expanded\">\n        <div className=\"chat-expanded-container\" ref={containerRef}>\n          <div className=\"chat-expanded-messages\">\n            {messages.map((chatmessage, index) => {\n              return (\n                <div key={index} className=\"chat-message-container\">\n                  <ChatMessageDisplay\n                    chatMessage= {chatmessage}/>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n  return null;\n}\n\nconst renderNewMessage = () => {\n  if(muted) {\n    return <div className=\"chat-muted-message\">MUTED</div>;\n  }\n  \n  if(!muted && newMessage) {\n    return (\n      <div className=\"chat-new-message\">\n        <ChatMessageDisplay chatMessage={newMessage} newMessage={!!newMessage}/>\n      </div>\n    )\n  }\n  return null;\n}\n\nconst renderChatControls = () => {\n  return (\n    <div className=\"chat-controls\">\n\n     \n\n\n      <div className={`chat-toggle open ${expanded ? 'expanded' : 'collapsed'}`}>\n        <div className=\"chat-toggle-icon\" onClick={toggleChat}>\n          <div className = \"chat-messages-count-container\">\n            <div className=\"chat-toggle-text open\">{expanded ? \"-\" : \"\"}</div>\n          </div>\n        </div>\n      </div>\n\n\n      <div className={`chat-toggle mute ${muted ? 'muted' : ''}`}>\n        <div className={`chat-toggle-text`} onClick={toggleMute}>\n          {muted ? 'O' :'X' }\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\n\n\n  return (\n    <div className={`chat-exterior ${expanded ? 'expanded' : ''}`}>\n      <div className=\"chat-container\">\n        <div className=\"new-message-container\">\n          {renderNewMessage()}\n        </div>\n        {renderChatControls()}\n      </div>\n      {renderExpandedChat()}\n    </div>\n    \n  );\n}\n\nexport default Chat;\n\n","import React from 'react';\nimport { FlavorTagTheme } from '../../models';\n\ninterface ToneTrackerProps {\n  themes: Record<string, number>;\n  maxSegments: number;\n  onRedeem: (theme: string) => void;\n}\n\nconst ToneTracker: React.FC<ToneTrackerProps> = ({ themes, maxSegments, onRedeem }) => {\n  return (\n    <div className=\"tone-tracker\">\n      <div className=\"tone-header\">\n        <span className=\"tone-title\">Session Themes</span>\n       \n      </div>\n      <div className=\"tone-grid\">\n        {Object.entries(themes).map(([theme, count]) => (\n          <div \n            key={theme} \n            className={`tone-item theme-${theme} muted ${count >= maxSegments ? 'active' : ''}`} \n            onClick={count >= maxSegments ? () => onRedeem(theme) : undefined}\n          >\n            <div className=\"tone-item-header\">\n              <span className=\"tone-name\">{theme}</span>\n              <span className=\"tone-count\">{count}/{maxSegments}</span>\n            </div>\n            <div className=\"tone-progress-container\">\n              <div \n                className={`tone-progress-bar theme-${theme}`}\n                style={{ width: `${(count / maxSegments) * 100}%` }}\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ToneTracker;","import { useEffect, useState } from \"react\";\nimport { useAppManager, useCampaignManager, useUiManager } from \"../managerContexts\";\nimport FillBar from \"../UI/fillBar\";\nimport { APP_STATE } from \"../../consts/states\";\nimport NeedleGauge from \"../UI/needleGauge\";\nimport Chat from \"../UI/chat\";\nimport ToneTracker from \"./toneTracker\";\nimport { THEME_FILLED_REQ } from \"../../consts/general\";\n\ninterface BottomBarProps {\n    \n}\n\n\nconst BottomBar: React.FC<BottomBarProps> = ({}) => {\n\n    const appManager = useAppManager();\n    const uiManager = useUiManager();\n    const campaignManager = useCampaignManager();\n    const [flavorTagThemes, setFlavorTagThemes] = useState(campaignManager.getCollectedThemes());\n    \n    \n    useEffect(() => {\n        const updateFlavorTags = () => {\n          setFlavorTagThemes({ ...campaignManager.getCollectedThemes() });\n        };\n    \n        campaignManager.on('dmScreenUpdated', updateFlavorTags);\n    \n      \n        return () => {\n          campaignManager.off('dmScreenUpdated', updateFlavorTags);\n        };\n      }, [campaignManager]);\n\n       const backToOverview = () => {\n        if(appManager.state === APP_STATE.SESSION_OVERVIEW) {\n            appManager.state = APP_STATE.SESSION;\n        } else {\n            campaignManager.backToOverview();\n        }\n    }\n\n    const changeBG = () => {\n        uiManager.toggleImageForEvent();\n    }\n  const redeemTheme = (theme: string) => {\n    campaignManager.redeemTheme(theme);\n  }\n  const toneString = 'TABLE TONE' + (Object.entries(flavorTagThemes).length > 1 ? 'S' : '');\n\n  const shouldShowChat = () => {\n    if (appManager.state === APP_STATE.SESSION || appManager.state === APP_STATE.SESSION_OVERVIEW) {\n      return true;\n      \n    } \n    return false;\n  }\n\n\n    return (\n        <div className={`bottom-bar-container ${shouldShowChat() ? '' : 'hidden'}`}>\n            <div className = \"bottom-bar\">\n                <Chat />\n                {Object.entries(flavorTagThemes).length > 0 && (\n                    <ToneTracker \n                        themes={flavorTagThemes}\n                        maxSegments={THEME_FILLED_REQ}\n                        onRedeem={redeemTheme}\n                    />\n                    )}\n                </div>\n            <div className=\"bottom-bar-controls\">\n                <div className=\"gameroom-party-info-stress\">\n                  \n                </div>\n                <div className = \"gameroom-party-info\">    \n                   \n\t\t\t    </div>\n                <div className = 'gameroom-nav-button-container'>\n                    <div className='gameroom-nav-button nav-button' onClick={backToOverview}>\n                        RUN SESSION\n                    </div>\n                    <div className='gameroom-nav-button nav-button' onClick={changeBG}>\n                        Alt BG\n                    </div>\n                </div>\n            </div>    \n        </div>\n    );\n}\nexport default BottomBar; ","import { useEffect, useMemo, useState } from \"react\";\r\nimport GameEncounter from \"./gameEncounter\";\r\nimport { useAppManager, useCampaignManager, useCharacterManager, useUiManager } from \"../managerContexts\";\r\nimport FillBar from \"../UI/fillBar\";\r\nimport NumberDie from \"../UI/numderDie\";\r\nimport { CAMPAIGNS, NB_EXPECTED_ENCOUNTER_TAGS } from \"../../consts/campaigns\";\r\nimport CImage from \"../UI/cimage\";\r\nimport { Tag } from \"../../models\";\r\nimport './dmScreen.scss';\r\nimport { APP_STATE } from \"../../consts/states\";\r\n\r\n\r\n\r\ninterface DMScreenProps {\r\n\r\n}\r\n\r\nconst DMScreen: React.FC<DMScreenProps> = () => {\r\n\r\n\tconst campaignManager = useCampaignManager();\r\n  const characterManager = useCharacterManager();\r\n\tconst encounter = campaignManager.getCurrentEncounter();\r\n  const appManager = useAppManager();\r\n  const uiManager = useUiManager();\r\n  const [collectedTags, setCollectedFlavorTags] = useState(campaignManager.getEstablishedTags());\r\n  const [rumorTags, setRumorTags] = useState(campaignManager.getRumorTags());\r\n  const [locationTagsEstablished, setLocationTagsEstablished] = useState(campaignManager.getWeightedLocationTagsEstablished());\r\n  //const [flavorTagThemes, setFlavorTagThemes] = useState(campaignManager.getCollectedThemes());\r\n  const [backstoryTags, setBackstoryTags] = useState(characterManager.getAllExpectedBackstoryTags());\r\n  const [expectedEncounterTags, setExpectedEncounterTags] = useState(campaignManager.getExpectedEncounterTags());\r\n  const [establishedEncounterTags, setEstablishedEncounterTags] = useState(campaignManager.getResolvedTagsForBranch());\r\n  const [dmPoints, setDMPoints] = useState(campaignManager.getDMPoints());\r\n  const [dmTricks , setDMTricks] = useState(campaignManager.getDmTricks());\r\n\tconst [locationTags, setLocationTags] = useState(campaignManager.getEncounterLocationTags());\r\n  const [campaignScore, setCampaignScore] = useState(campaignManager.getCampaignScore());\r\n  const [dmLevel, setDMLevel] = useState(campaignManager.getDmLevel());\r\n  const [dmExperience, setDMExperience] = useState(campaignManager.getDmExp());\r\n\r\n  \r\n\r\n  const setSceneTags = useMemo(() => encounter?.location.tags.sort() || [], [encounter?.location.tags]);\r\n  const sortedSetSceneTags = useMemo(() => {\r\n    return [...setSceneTags].sort((a, b) => a.name.localeCompare(b.name));\r\n  }, [setSceneTags]);\r\n\r\n\r\n  useEffect(() => {\r\n    const updateScreenInfo = () => {\r\n      const newTags = campaignManager.getEstablishedTags();\r\n      const newExpectedEncounterTags = campaignManager.getExpectedEncounterTags();\r\n      const newEstablishedEncounterTags = campaignManager.getResolvedTagsForBranch();\r\n\r\n      setExpectedEncounterTags(newExpectedEncounterTags);\r\n      setEstablishedEncounterTags(newEstablishedEncounterTags); \r\n      //filter out tags that are already established\r\n      const newCollectedTags = newTags.filter(tag => \r\n        !newExpectedEncounterTags.some(collectedTag => collectedTag.name === tag.name) &&\r\n        !newEstablishedEncounterTags.some(establishedTag => establishedTag.name === tag.name));\r\n\r\n    \r\n      \r\n\r\n      setCollectedFlavorTags([...newCollectedTags]); // Ensure a new array reference\r\n      setDMExperience(campaignManager.getDmExp());\r\n      setDMLevel(campaignManager.getDmLevel());\r\n      \r\n      \r\n      setBackstoryTags(characterManager.getAllExpectedBackstoryTags());\r\n      setDMTricks(campaignManager.getDmTricks());\r\n      setLocationTagsEstablished(campaignManager.getWeightedLocationTagsEstablished());\r\n     \r\n      setRumorTags(campaignManager.getRumorTags());\r\n     // setFlavorTagThemes(campaignManager.getCollectedThemes());\r\n      setDMPoints(campaignManager.getDMPoints());\r\n      setCampaignScore(campaignManager.getCampaignScore());\r\n    };\r\n\r\n    campaignManager.on('dmScreenUpdated', updateScreenInfo);\r\n\r\n  \r\n    return () => {\r\n      campaignManager.off('dmScreenUpdated', updateScreenInfo);\r\n    };\r\n  }, [campaignManager, characterManager]);\r\n\r\n\r\n  const encounterBranches = encounter?.branches;\r\n\r\n\r\n  const renderDMScreenHeader = () => {\r\n    return (\r\n      <div className=\"dm-screen-header\">\r\n       \r\n        <div className=\"dm-screen-dm-points\">\r\n          <div className=\"dm-screen-dm-points-label\">\r\n            DM POINTS\r\n          </div>\r\n          <div className=\"dm-screen-dm-point\">\r\n            <NumberDie baseDie={20} displayNumber={dmPoints} />\r\n          </div>\r\n        </div>\r\n        <div className=\"dm-screen-campaign\">\r\n          <div className={`campaign-display ${CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].theme} icon-only`}> \r\n            <div className=\"campaign-score-info\">\r\n              <div className=\"score-label\">CAMPAIGN SCORE</div>\r\n              <div className=\"score-value\">{campaignScore}</div>\t\r\n            </div>\r\n            <div className={'campaign-info left'}>\r\n            <div className=\"campaign-info\">{CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].name}</div>\r\n            <div className=\"campaign-info hooks\">PLOT HOOKS</div>\r\n            <div className=\"circle-display\">\r\n              {Array.from({ length: 4 }, (_, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`circle ${index < campaignManager.getCampaignProgress() ? 'filled' : ''}`}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n            \r\n            <div className=\"campaign-icon solo\">\r\n              <CImage imageId={CAMPAIGNS[campaignManager.getCurrentCampaign() || 0].icon} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"dm-screen-dm-level\">\r\n     DM LEVEL: {dmLevel}\r\n     <FillBar totalSegments={5} filledSegments={dmExperience} theme={\"exhaustion\"} label={`Experience`} />\r\n  </div>\r\n        {/* <div className=\"score-info\">\r\n          <div className=\"score-label\">CAMPAIGN SCORE</div>\r\n\t\t\t\t\t<div className=\"score-value\">{campaignScore}</div>\t\r\n\t\t\t\t</div> */}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const getPlayerAttitudesStyle = (tag: Tag) => {\r\n    if(showPlayerAttitude) {\r\n      return uiManager.getPlayerAttitudesStyle(tag);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  if(!encounter) {\r\n    return null;\r\n  }\r\n\r\n  const currentLocationTheme = encounter.location.themes[0];\r\n\r\n  const showPlayerAttitude = false;\r\n \r\n\r\n  sortedSetSceneTags.forEach(tag => {\r\n    if(tag === undefined) {\r\n      debugger\r\n    }\r\n});\r\n   \r\nestablishedEncounterTags.forEach(tag => {\r\n  if(tag === undefined) {\r\n    debugger\r\n  }\r\n});\r\n\r\nexpectedEncounterTags.forEach(tag => {\r\n  if(tag === undefined) {\r\n    debugger\r\n  }\r\n});\r\n\r\n\r\n  return (\r\n\t<div className = {`dm-screen-container ${appManager.state !== APP_STATE.SESSION ? 'hidden' : ''}`} >\r\n    {renderDMScreenHeader()}\r\n\r\n \r\n\r\n    <div className=\"dm-screen-set-scene\">\r\n      {<FillBar totalSegments={locationTags.length} filledSegments={locationTagsEstablished} theme={currentLocationTheme} label={`Set the Scene: ${encounter?.location.name} `} />}\r\n      <div className=\"dm-screen-set-scene-tags\">\r\n        {sortedSetSceneTags.map((tag, index) => (\r\n          <div key={index} className={`encounter-flavor-tag text-pill  ${campaignManager.getCollectedLocationTags().includes(tag) ? 'type-location': ''}`}>\r\n            {tag.name}\r\n          </div>\r\n        ))}  \r\n      </div>\r\n    </div>\r\n    <div className=\"dm-screen-set-scene\">\r\n      {<FillBar totalSegments={establishedEncounterTags.length + expectedEncounterTags.length} filledSegments={establishedEncounterTags.length} theme={currentLocationTheme} label={`encounter elements`} />}\r\n        <div className=\"dm-screen-encounter-tags-row\">\r\n        \r\n          <div className=\"dm-screen-set-scene-tags\">\r\n            {establishedEncounterTags.map((tag, index) => (\r\n              <div key={index} className={`encounter-flavor-tag text-pill type-location`}>\r\n                {tag.name}\r\n              </div>\r\n            ))}  \r\n          </div>\r\n          <div className=\"dm-screen-set-scene-tags\">\r\n            {expectedEncounterTags.map((tag, index) => (\r\n              <div key={index} className={`encounter-flavor-tag text-pill`}>\r\n                {tag.name}\r\n              </div>\r\n            ))}  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n    {encounterBranches && encounterBranches.length > 0 && (\r\n        <div className=\"dm-screen-branches-container\">\r\n          <div className={`dm-screen-branches-header text-theme-${currentLocationTheme} `}>PREP FOR UPCOMING ENCOUNTERS</div>\r\n          <div className=\"dm-screen-upcoming-branches\">\r\n            {encounterBranches.map((branch, index) => (\r\n              <div key={index} className={`dm-screen-branch text-theme-${branch.location.themes[0]}`}>\r\n                <FillBar totalSegments={4} filledSegments={Math.min(4 ,campaignManager.getExpectedTagsForBranch(branch.name).length)}  theme={branch.location.themes[0]} label={branch.name} />\r\n                <div className=\"dm-screen-branch-tags\">\r\n                {(() => {\r\n                  \r\n                  const expectedTags = campaignManager.getExpectedTagsForBranch(branch.name);\r\n                  const authoredTags = campaignManager.getAuthoredEncounterTags(branch.name).filter((tag) => !expectedTags.includes(tag));\r\n                  const totalSlots = NB_EXPECTED_ENCOUNTER_TAGS - (authoredTags.length + expectedTags.length);\r\n                  const fillerTags = Array(totalSlots)\r\n                    .fill({ name: \"?\" });\r\n                  \r\n                  return [...authoredTags.map((tag, index) => (\r\n                    <div key={`authored-${index}`} className={`encounter-flavor-tag text-pill expected`}>\r\n                      {tag.name}\r\n                    </div>\r\n                  )),\r\n                    ...expectedTags.map((tag, index) => (\r\n                    <div key={`expected-${index}`} className={`encounter-flavor-tag text-pill type-foreshadowing`}>\r\n                      {tag.name}\r\n                    </div>\r\n                  )), ...fillerTags.map((tag, index) => (\r\n                    <div key={`filler-${index}`} className={`encounter-flavor-tag text-pill type-foreshadowing expected large-text`}>\r\n                    {tag.name}\r\n                  </div>\r\n                  ))]\r\n                })()}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n    )}\r\n    <div className=\"dm-screen-rumors\">\r\n      {backstoryTags.length > 0 && \r\n        <div className=\"dm-screen-expected-tags\">\r\n            <div className=\"dm-screen-collected-tags-header\">Elements needed to advance a Character's Backstory</div>\r\n            <div className=\"dm-screen-collected-tags-container\">\r\n              {backstoryTags.map((tag, index) => (\r\n              <div key={index} className={`encounter-flavor-tag text-pill ${getPlayerAttitudesStyle(tag)} expected`}>\r\n                {tag.name}\r\n              </div>\r\n              ))}\r\n            </div>\r\n        </div>\r\n        }\r\n\r\n\r\n        \r\n        {rumorTags.length > 0 && \r\n        <div className=\"dm-screen-expected-tags\">\r\n            <div className=\"dm-screen-collected-tags-header\">Rumors</div>\r\n            <div className=\"dm-screen-collected-tags-container\">\r\n              {rumorTags.map((tag, index) => (\r\n              <div key={index} className={`encounter-flavor-tag text-pill ${getPlayerAttitudesStyle(tag)} expected`}>\r\n                {tag.name}\r\n              </div>\r\n              ))}\r\n            </div>\r\n        </div>\r\n        }\r\n          {collectedTags.length > 0 && \r\n          <div className = \"dm-screen-collected-tags\">\r\n            <div className=\"dm-screen-collected-tags-header\">Potential Campaign Elements</div>\r\n            <div className=\"dm-screen-collected-tags-container\">\r\n              {collectedTags.map((tag, index) => (\r\n                <div key={index} className={`encounter-flavor-tag text-pill  ${getPlayerAttitudesStyle(tag)} established`}>\r\n                  {tag.name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>}\r\n        </div>\r\n      {/* {expectedEncounterTags.length > 0 && \r\n      <div className=\"dm-screen-expected-tags\">\r\n          <div className=\"dm-screen-collected-tags-header\">Elements Expected By Players</div>\r\n          <div className=\"dm-screen-collected-tags-container\">\r\n            {expectedEncounterTags.map((tag, index) => (\r\n            <div key={index} className={`encounter-flavor-tag text-pill ${getPlayerAttitudesStyle(tag)} expected`}>\r\n              {tag.name}\r\n            </div>\r\n            ))}\r\n          </div>\r\n      </div>\r\n      } */}\r\n     \r\n       {/* {dmTricks.length > 0 && \r\n      <div className=\"dm-screen-expected-tags\">\r\n          <div className=\"dm-screen-collected-tags-header\">Available DM Powers</div>\r\n          <div className=\"dm-screen-collected-tags-container\">\r\n            {dmTricks.map((tag, index) => (\r\n            <div key={index} className={`encounter-flavor-tag text-pill type-${tag.source}`}>\r\n              {tag.tag.name}\r\n            </div>\r\n            ))}\r\n          </div>\r\n      </div>\r\n      } */}\r\n  \r\n   \r\n\t</div>\r\n  );\r\n}\r\n\r\nexport default DMScreen;","import React, { useEffect, useState } from 'react';\nimport './ModeContainer.scss';\nimport PlayerRecruitmentComponent from './playerRecruitment';\nimport CharacterCreationComponent from './characterCreation';\nimport CampaignSetupComponent from './campaignSetup';\nimport SessionPrepComponent from './sessionControl';\nimport SessionRunComponent from './sessionRun';\nimport FinalStatsComponent from './finalStats';\nimport MainMenuComponent from './mainMenu';\nimport { APP_STATE } from '../consts/states';\nimport CImage from './UI/cimage';\nimport { useAppManager, useCampaignManager, useUiManager } from './managerContexts';\nimport CampaignManager from '../managers/campaignManager';\nimport BottomBar from './GameRoom/bottomBar';\nimport DMScreen from './GameRoom/dmScreen';\n\ninterface ModeContainerProps {\n}\n\nconst ModeContainer: React.FC<ModeContainerProps> = ({}) => {\n\n  const appManager = useAppManager();\n\n  const [state, setState] = useState(appManager.state);\n  const [transitioning, setTransitioning] = useState(false);\n  const [transitionComplete, setTransitionComplete] = useState(false);\n\n  const [showImage, setShowImage] = useState(false);\n\n  const uiManager = useUiManager();\n  const dataManager = appManager.getDataManager();\n  const campaignManager = useCampaignManager();\n\n  useEffect(() => {\n    const handleStateChange = () => {\n      setTransitionComplete(false);\n      setTransitioning(false);\n      setState(appManager.state);\n      updateState(appManager.state);\n      \n    };\n\n    appManager.on('stateChange', handleStateChange);\n    return () => {\n      appManager.off('stateChange', handleStateChange);\n    };\n  \n  }, [appManager]);\n  \n\n  function updateState(state: APP_STATE) {\n\n    if(!uiManager) {return}\n\n    switch(state) {\n      case APP_STATE.MAIN_MENU:\n       \n      break;\n      case APP_STATE.PLAYER_RECRUITMENT:\n      case APP_STATE.CHARACTER_CREATION: \n      case APP_STATE.CAMPAIGN_SETUP:\n        setTransitioning(true);\n        setTimeout(() => {\n           setTransitioning(false);\n           setTransitionComplete(true);\n        }, 1000); \n      break;\n      case APP_STATE.SESSION_OVERVIEW:\n      break;\n      case APP_STATE.SESSION:\n        \n      break;\n      case APP_STATE.SCORE:\n        \n      break;\n    }\n   \n  }\n\n  function getModeComponent() {\n    switch(state) {\n      case APP_STATE.MAIN_MENU:\n        return( \n          <MainMenuComponent\n            appManager={appManager}\n          />\n         )\n      case APP_STATE.PLAYER_RECRUITMENT:\n       return( \n        <PlayerRecruitmentComponent\n          appManager={appManager}\n          playerManager={appManager.getPlayerManager()}\n        />\n       )\n      case APP_STATE.CHARACTER_CREATION:\n        return( \n        <CharacterCreationComponent/>\n        );\n      case APP_STATE.CAMPAIGN_SETUP:\n        return( \n        <CampaignSetupComponent\n          openCampaign={campaignManager.getOpenCampaign()}\n        />\n        );\n      case APP_STATE.SESSION_OVERVIEW:\n        return( \n        <SessionPrepComponent\n         \n      />\n        );\n      case APP_STATE.SESSION:\n        return( \n        <SessionRunComponent\n          appManager={appManager}\n      />\n        );\n      case APP_STATE.SCORE:\n        return( \n        <FinalStatsComponent\n          appManager={appManager}\n      />\n        );\n    }\n    return (\n      <div>NOT YET IMPLEMENTED</div>\n    )\n  }\n\n  const getBackgroundClass = () => {\n    const transitionMode = dataManager.getStateProps().bg_transition_mode;\n    switch(transitionMode) {\n      case 'slide-left':\n        return `${transitioning ? 'slide-left' : ''} ${transitionComplete ? 'left' : ''}`;\n      case 'slide-right':\n        return `${transitioning ? 'slide-right' : ''} ${transitionComplete ? 'right' : ''}`;\n      case 'slide-down':\n        return `${transitioning ? 'slide-down' : ''} ${transitionComplete ? 'down' : ''}`;\n      default:\n        return '';\n    }\n  }\n\n  return (\n    <div className=\"mode-container\">\n      <div className=\"bgImageContainer\">\n        <div className={`mode-background ${getBackgroundClass()}`}>\n            <div className='mode-background-image' style={{ backgroundRepeat: 'repeat' }}>\n              <CImage imageId={dataManager.getStateProps().background_image_id}/>\n            </div>\n          <div className='mode-background-overlay'>\n              <CImage imageId={dataManager.getStateProps().background_image_id}/>\n          </div>\n          <div className='mode-background-bottom'>\n              <CImage imageId={dataManager.getStateProps().secondary_bg_image_id}/>\n          </div>\n        </div>\n      </div>\n      <div className='mode-component'>\n            {getModeComponent()}\n            <BottomBar/>\n      </div>\n      {appManager.state === APP_STATE.SESSION || \n        appManager.state === APP_STATE.SESSION_OVERVIEW ? (\n         <DMScreen/>\n      ) : null}\n     \n    </div>\n  );\n}\n\nexport default ModeContainer;\n","import { LEVELUP_OPTION } from \"../../consts/general\";\r\nimport { useModal } from \"../../hooks/useModal\";\r\nimport CImage from \"./cimage\";\r\nimport EffectDisplay from \"./effectDisplay\";\r\nimport './Modal.scss';\r\n \r\n\r\nexport const Modal: React.FC = () => {\r\n    const { modalConfig, handleOptionSelect, closeModal } = useModal();\r\n  \r\n    if (!modalConfig) return null;\r\n  \r\n\r\n    if(modalConfig.type === 'levelup') {\r\n      return (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container\">\r\n            <div className=\"modal-header\">\r\n              <h2>{modalConfig.title}</h2>\r\n              <button className=\"close-button\" onClick={closeModal}></button>\r\n            </div>\r\n            <div className=\"modal-options\">\r\n              {modalConfig.options.map((option) => (\r\n                <button\r\n                  key={option.id}\r\n                  className={`modal-option ${option.class || ''}`}\r\n                  onClick={() => handleOptionSelect(option.id)}\r\n                >\r\n                  <div className=\"option-content\">\r\n                  <h3>{option.title}</h3>\r\n                  </div>\r\n                  {option.icon && (\r\n                    option.id === LEVELUP_OPTION.CHARACTER ? \r\n                      <CImage imageId={option.icon} /> \r\n                    : \r\n                      <span className=\"option-icon\">{option.icon}</span>\r\n                  )}\r\n                  <div className=\"option-content\">\r\n                  \r\n                    {option.description && <p>{option.description}</p>}\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if(modalConfig.type === 'travelresult' && modalConfig.travelConfig) {\r\n      return (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container travel\">\r\n            <div className=\"modal-header\">\r\n              {modalConfig.title}\r\n              <button className=\"close-button\" onClick={closeModal}></button>\r\n            </div>\r\n            <div className=\"travel-results\">\r\n\r\n            \r\n              {modalConfig.travelConfig.results.map((result) => (\r\n                  <EffectDisplay\r\n                    effectData={result}\r\n                    />\r\n              ))}\r\n            </div>\r\n            <div className=\"travel-tags\">\r\n              {modalConfig.options.map((option) => (\r\n                // These are always tags? \r\n                <div>{option.id}</div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-container\">\r\n          <div className=\"modal-header\">\r\n            <h2>{modalConfig.title}</h2>\r\n            <button className=\"close-button\" onClick={closeModal}></button>\r\n          </div>\r\n          <div className=\"modal-options\">\r\n            {modalConfig.options.map((option) => (\r\n              <button\r\n                key={option.id}\r\n                className={`modal-option ${option.class || ''}`}\r\n                onClick={() => handleOptionSelect(option.id)}\r\n              >\r\n                <div className=\"option-content\">\r\n                <h3>{option.title}</h3>\r\n                </div>\r\n                {option.icon && (\r\n                  option.id === LEVELUP_OPTION.CHARACTER ? \r\n                    <CImage imageId={option.icon} /> \r\n                  : \r\n                    <span className=\"option-icon\">{option.icon}</span>\r\n                )}\r\n                <div className=\"option-content\">\r\n                \r\n                  {option.description && <p>{option.description}</p>}\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };","import { useState, useEffect } from 'react';\r\nimport { ModalConfig } from '../models';\r\nimport { useAppManager } from '../components/managerContexts';\r\n\r\nexport const useModal = () => {\r\n  const [modalConfig, setModalConfig] = useState<ModalConfig | null>(null);\r\n  const appManager = useAppManager();\r\n  const uiManager = appManager.getUiManager();\r\n\r\n  useEffect(() => {\r\n    const handleModalStateChanged = (config: ModalConfig | null) => {\r\n      setModalConfig(config);\r\n    };\r\n\r\n    uiManager.on('modalStateChanged', handleModalStateChanged);\r\n    return () => {\r\n      uiManager.off('modalStateChanged', handleModalStateChanged);\r\n    };\r\n  }, [uiManager]);\r\n\r\n  return {\r\n    modalConfig,\r\n    handleOptionSelect: (optionId: string) => uiManager.handleModalOptionSelected(optionId),\r\n    closeModal: () => uiManager.closeModal()\r\n  };\r\n};","import React, { useEffect } from 'react';\nimport './globalUi.scss';\nimport { APP_STATE } from '../../consts/states';\nimport { useAppManager, useUiManager } from '../managerContexts';\nimport Notebook from './notebook';\nimport { Modal } from './modal';\n\ninterface GlobalUiProps {\n \n}\n\nconst GlobalUi: React.FC<GlobalUiProps> = () => {\n\n  const appManager = useAppManager();\n  const uiManager = useUiManager();\n\n  const [state, setState] = React.useState(appManager.state);\n  const [notebookState, setNotebookState] = React.useState(undefined)\n  const [tutorialPage, setTutorialPage] = React.useState(0)\n\n  useEffect(() => {\n    const handleStateChange = () => {\n      setState(appManager.state);\n    };\n\n    const handleSetNotebookState = (newState: any) => {\n      setTutorialPage(0)\n      setNotebookState(newState);\n    }\n\n    const handleTutorialPage = (page: number) => {\n      setTutorialPage(page)\n    }\n\n    appManager.on('stateChange', handleStateChange);\n    uiManager.on('setNotebookState', handleSetNotebookState)\n    uiManager.on('setTutorialPage', handleTutorialPage)\n    return () => {\n      uiManager.off('setNotebookState', handleSetNotebookState);\n      appManager.off('stateChange', handleStateChange);\n      uiManager.off('setTutorialPage', handleTutorialPage)\n    };\n  \n  }, []);\n  \n  function getStateComponent( state: APP_STATE) {\n    switch(state) {\n      case APP_STATE.PLAYER_RECRUITMENT:\n      case APP_STATE.CHARACTER_CREATION:\n      case APP_STATE.MAIN_MENU:\n      case APP_STATE.CAMPAIGN_SETUP:\n      case APP_STATE.SESSION_OVERVIEW:\n      case APP_STATE.SESSION:\n      case APP_STATE.SCORE:\n      default:\n        return  getDefaultStateComponent()\n    }\n  }\n\n  // not yet implemented state UI\n  function getDefaultStateComponent() {\n    return <div></div>\n  }\n\n  return (\n    <div className=\"global-ui-container\">\n      <div className=\"state-display\">\n        {getStateComponent(state)}\n      </div>\n        {\n        notebookState ?  \n        <Notebook\n            notebookPages={notebookState}\n            pageIndex={tutorialPage}\n        /> : null}\n        <Modal />\n        {/* <Chat /> */}\n    </div>\n  );\n}\n\nexport default GlobalUi;\n","import React from 'react';\nimport './App.scss';\nimport AppManager from './managers/appManager';\nimport ModeContainer from './components/modecontainer';\nimport GlobalUi from './components/UI/globalUi';\n\ninterface AppProps {\n}\n\nconst App: React.FC<AppProps> = ({}) => {\n//  const [state, setState] = React.useState(appManager.state);\n  \n  return (\n    <div>\n      <div className=\"App\">\n        <ModeContainer\n        />\n      </div>\n      <GlobalUi \n      \n      />\n      </div>\n  );\n}\n\nexport default App;\n","import { execPath } from \"process\";\r\nimport {TRAVEL_OPTION } from \"../models\";\r\nimport { TAG } from \"./tags\";\r\n\r\n   \r\n  export const TRAVEL_OPTIONS_SHORT = [\r\n    {\r\n      id: 'exposition',\r\n      name: 'Boring Exposition',\r\n      description: 'Dryly describe the surroundings.',\r\n      time: 2,\r\n      tags: 2,\r\n      score: 0,\r\n      boredom: 10,\r\n      repeatable: true,\r\n      exhaustion: 10,\r\n      travelOptionType: TRAVEL_OPTION.EXPLORE_CURRENT_LOCATION,\r\n      tagInstructions: 'Mention something about the current area as you travel.'\r\n    },\r\n    {\r\n      id: 'forage',\r\n      name: 'Forage for Supplies',\r\n      description: 'Players procure supplies for the journey, or forage along the way.',\r\n      time: 5,\r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 3,\r\n      repeatable: true,\r\n      exhaustion: 2,\r\n      travelOptionType: TRAVEL_OPTION.EXPLORE_CURRENT_LOCATION,\r\n      tagInstructions: 'Mention something about the area',\r\n    },\r\n    {\r\n      id: 'stories',\r\n      name: 'Share Stories',\r\n      description: 'Characters discuss their pasts.',\r\n      time: 5,\r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 2,\r\n      exhaustion: 5,\r\n      travelOptionType: TRAVEL_OPTION.CHARACTER_BACKSTORY,\r\n      tagInstructions: 'Add a detail to a Character\\'s backstory!',\r\n    },\r\n    {\r\n      id: 'scout_ahead',\r\n      name: 'Scout Ahead',\r\n      description: 'The players send a character to scout the path ahead',\r\n      time: 5,\r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 5,\r\n      exhaustion: 3,\r\n      travelOptionType: TRAVEL_OPTION.EXPLORE_UPCOMING_LOCATION,\r\n      tagInstructions: 'Bring up something about what may lie ahead',\r\n    },\r\n  ]\r\n\r\n  export const TRAVEL_OPTIONS_MEDIUM = [\r\n    {\r\n      id: 'camp',\r\n      name: 'Camp',\r\n      description: 'Spend an uneventful night',\r\n      time: 10,\r\n      tags: 0,\r\n      score: 0,\r\n      repeatable: true,\r\n      boredom: 5,\r\n      travelOptionType: TRAVEL_OPTION.CAMP,\r\n      exhaustion: 3,\r\n    },\r\n    {\r\n      id: 'ambush',\r\n      name: 'Camp Ambush',\r\n      description: 'Characters are abushed while resting',\r\n      time: 10,\r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 1,\r\n      travelOptionType: TRAVEL_OPTION.AMBUSH,\r\n      tagInstructions: 'Choose which enemy type to use',\r\n      exhaustion: 10,\r\n    },\r\n    {\r\n      id: 'traders',\r\n      name: 'Traders',\r\n      description: 'Characters meet traders on the road',\r\n      time: 10, \r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 1,\r\n      travelOptionType: TRAVEL_OPTION.TRADERS,\r\n      tagInstructions: 'Choose a magic item to offer',\r\n      exhaustion: 5,\r\n    },\r\n    {\r\n      id: 'mysterious_cache',\r\n      name: 'Elven Cache',\r\n      description: 'Discover a hidden cache along the route.',\r\n      time: 10,\r\n      tags: 1,\r\n      score: 0,\r\n      boredom: 2,\r\n      tag: TAG.RACE.ELVES,\r\n      travelOptionType: TRAVEL_OPTION.SIDE_QUEST,\r\n      tagInstructions: 'Reward a magic item from the cache.',\r\n      exhaustion: 2,\r\n    },\r\n  ]\r\n\r\n  export const TRAVEL_OPTIONS_LONG = [\r\n    {\r\n      id: 'cartography',\r\n      name: 'Cartography',\r\n      description: 'A player wants to carefully draw a map of the region...',\r\n      time: 15,\r\n      tags: 2,\r\n      score: 0,\r\n      exhaustion: 10,\r\n      boredom: 10,\r\n      travelOptionType: TRAVEL_OPTION.EXPLORE_CURRENT_LOCATION,\r\n      tagInstructions: 'The players learn things about the area while drawing a map',\r\n    },\r\n    {\r\n      id: 'horseback',\r\n      name: 'Horseback Riding',\r\n      description: 'Good thing we have these horsies!',\r\n      time: 15,\r\n      tags: 0,\r\n      score: 0,\r\n      boredom: 1,\r\n      exhaustion: 3,\r\n      travelOptionType: TRAVEL_OPTION.TRAVEL,\r\n      tag: TAG.TRAVEL.HORSES,\r\n    },\r\n    {\r\n      id: 'ship',\r\n      name: 'Ship Travel',\r\n      description: 'How convenient! We can take this ship!',\r\n      time: 15,\r\n      tags: 0,\r\n      score: 0,\r\n      boredom: 1,\r\n      exhaustion: 3,\r\n      tag: TAG.TRAVEL.SHIPS,\r\n      travelOptionType: TRAVEL_OPTION.TRAVEL,\r\n    },\r\n   \r\n    {\r\n      id: 'slog',\r\n      name: 'Slog',\r\n      description: 'An extended and lengthy journey',\r\n      time: 20,\r\n      tags: 2,\r\n      score: 0,\r\n      repeatable: true,\r\n      boredom: 5,\r\n      exhaustion: 15,\r\n      travelOptionType: TRAVEL_OPTION.EXPLORE_CURRENT_LOCATION,\r\n      tagInstructions: 'Slowly draw out details about the area during the journey',\r\n    },\r\n    {\r\n      id: 'side_quest',\r\n      name: 'Side Quest',\r\n      description: 'Maybe a detour into this cave?',\r\n      time: -1,\r\n      tags: 0,\r\n      score: 0,\r\n      boredom: -1,\r\n      exhaustion: -1,\r\n      travelOptionType: TRAVEL_OPTION.SIDE_QUEST,\r\n    },\r\n  ]","import { isOmittedExpression } from 'typescript';\r\nimport { Character, ChatMessage, ChatTrigger, Encounter, EncounterEvent, EncounterFlavorTag, EncounterState, FlavorTagSource, FlavorTagTheme, NOTEBOOK_CATEGORY, TAGS_TYPE, PerceptionTags, REWARD_TYPE, RewardItem, RPEncounterFlavorTag, SESSION_STATE, Tag, TAG_TYPE, TravelOption, TRAVEL_OPTION, TravelResultConfig, EffectData, ATTRIBUTE_TYPE, Player } from '.././models';\r\nimport { CAMPAIGNS, NB_EXPECTED_ENCOUNTER_TAGS } from '../consts/campaigns';\r\nimport { TAG } from '../consts/tags';\r\nimport AppManager from './appManager';\r\nimport ChatManager from './chatManager';\r\nimport PlayerManager from './playerManager';\r\nimport EventEmitter from 'events';\r\nimport { AppManagerProvider } from '../components/managerContexts';\r\nimport { APP_STATE } from '../consts/states';\r\nimport { COST } from '../consts/score';\r\nimport { THEME_FILLED_REQ } from '../consts/general';\r\nimport { TRAVEL_OPTIONS_LONG, TRAVEL_OPTIONS_MEDIUM, TRAVEL_OPTIONS_SHORT } from '../consts/travel';\r\n\r\n\r\nclass CampaignManager extends EventEmitter {\r\n  currentCampaign: number | undefined;\r\n  appManager: AppManager;\r\n  // chatManager: ChatManager;\r\n  currentEncounter: Encounter | undefined;\r\n\r\n  encounterState: EncounterState | undefined;\r\n  playerManager: PlayerManager;\r\n\r\n  establishedTags: Tag[] = [];\r\n  rumorTags: Tag[] = [];\r\n  collectedLocationTags: Tag[] = [];\r\n  expectedTagsForBranches: { [key: string]: Tag[] } = {};\r\n  resolvedTagsForBranches: { [key: string]: Tag[] } = {};\r\n  dmTricks: EncounterFlavorTag[] = [];\r\n  dmPoints: number = 0;\r\n  campaignProgress: number = 0;\r\n  themeCounts: { [key in FlavorTagTheme]?: number } = {};\r\n  completedEventIndexes: number[] = [];\r\n  breaksAvailable: number = 1;\r\n  dmLevel: number = 1;\r\n  dmExperience: number = 0;\r\n\r\n  campaignScore: number = 0;\r\n  travelOptions: TravelOption[][] = [TRAVEL_OPTIONS_SHORT, TRAVEL_OPTIONS_MEDIUM, TRAVEL_OPTIONS_LONG];\r\n  constructor(appManager: AppManager) {\r\n    super();\r\n    this.appManager = appManager;\r\n    this.playerManager = appManager.getPlayerManager();\r\n    //init race condition!  this.chatManager = appManager.getChatManager();\r\n\r\n    this.init();\r\n\r\n\r\n  }\r\n\r\n  partyManager() {\r\n\r\n    return this.appManager.getPartyManager();\r\n  }\r\n\r\n  init() {\r\n\r\n    this.dmTricks = [\r\n      // {\r\n      //   tag: {\r\n      //     name: 'Miniatures',\r\n      //     preference: undefined\r\n      //   },\r\n      //   source: FlavorTagSource.DM,\r\n      //   theme: FlavorTagTheme.NONE\r\n      // },\r\n      // {\r\n      //   tag: {\r\n      //     name: 'Maps',\r\n      //     preference: undefined\r\n      //   },\r\n      //   source: FlavorTagSource.DM,\r\n      //   theme: FlavorTagTheme.NONE\r\n      // }\r\n    ]\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // DM SCREEN EVENTS\r\n  // ---------------------------------------------------------------------------------------------------------\r\n\r\n  getWeightedLocationTagsEstablished() {\r\n    // Each tag is counted for 2 points, except any duplicates past the first are only one. \r\n    const totalWeight = this.collectedLocationTags.length;//*2 - (this.collectedLocationTags.length - new Set(this.collectedLocationTags).size);\r\n    return totalWeight;\r\n  }\r\n\r\n\r\n  redeemTheme(theme: string) {\r\n    delete this.themeCounts[theme as FlavorTagTheme];\r\n    switch (theme) {\r\n      case FlavorTagTheme.COMEDIC:\r\n        this.partyManager().addPartyEnjoyment(5);\r\n        break;\r\n      // case FlavorTagTheme.HEROIC:\r\n      //   this.partyManager().addPartyEnjoyment(1);\r\n      //   break;\r\n      case FlavorTagTheme.SERIOUS:\r\n        this.partyManager().setPartyTension(50);\r\n        break;\r\n      case FlavorTagTheme.DRAMATIC:\r\n        this.partyManager().addPartyEngagement(5);\r\n        break;\r\n      // case FlavorTagTheme.GRIM:\r\n      //   this.partyManager().addPartyEnjoyment(1);\r\n      //   break;\r\n      // case FlavorTagTheme.ROMANTIC:\r\n      //   this.partyManager().addPartyEnjoyment(1);\r\n      //   break;\r\n      // case FlavorTagTheme.FANTASY:\r\n      //   this.partyManager().addPartyEnjoyment(1);\r\n      //   break;\r\n      // case FlavorTagTheme.HORROR:\r\n      //   this.partyManager().addPartyEnjoyment(1);\r\n      //   break;\r\n      case FlavorTagTheme.NONE:\r\n        this.partyManager().addPartyEnjoyment(1);\r\n        break;\r\n    }\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n  // This occurs when a user hits a theme that has been filled. \r\n  continueTheme(theme: string) {\r\n    this.partyManager().addPartyScore(10);\r\n  }\r\n\r\n\r\n\r\n  updateFlavorTagThemesTally(tags: EncounterFlavorTag[]) {\r\n    tags.forEach(tag => {\r\n      if (tag.theme === FlavorTagTheme.NONE) {\r\n        return;\r\n      }\r\n      this.addTheme(tag.theme);\r\n    });\r\n  }\r\n\r\n  themedUiClicked(theme: string) {\r\n\r\n    this.addTheme(theme);\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n  addTheme(theme: string) {\r\n    if (theme === FlavorTagTheme.NONE) {\r\n      return;\r\n    }\r\n    if (this.themeCounts[theme as FlavorTagTheme] === undefined) {\r\n      this.themeCounts[theme as FlavorTagTheme] = 1;\r\n    }\r\n    else if ((this.themeCounts[theme as FlavorTagTheme] || 0) >= THEME_FILLED_REQ) {\r\n      this.continueTheme(theme);\r\n    } else {\r\n      this.themeCounts[theme as FlavorTagTheme] = Math.min(THEME_FILLED_REQ, Math.max(0, (this.themeCounts[theme as FlavorTagTheme] || 0) + 1));\r\n    }\r\n\r\n\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n\r\n\r\n  spendDMPoints(points: number) {\r\n    this.dmPoints += points;\r\n    this.emit('dmScreenUpdated', this.dmPoints);\r\n  }\r\n\r\n  getDMPoints() {\r\n    return this.dmPoints;\r\n  }\r\n\r\n\r\n\r\n\r\n  exhaustForRoleplayAction(modifier = 0) {\r\n    const baseActionCost = 1;\r\n    //  const themeMultiplier = this.getActiveThemes() || 1;\r\n    const openRumorCost = this.rumorTags.length || 1;\r\n\r\n    const actionCost = baseActionCost * openRumorCost;\r\n    this.partyManager().exhaustParty(actionCost + modifier);\r\n\r\n  }\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // PERCEPTION EVENTS\r\n  // ---------------------------------------------------------------------------------------------------------\r\n\r\n\r\n  getPerceptionTags(character: Character): PerceptionTags | [] {\r\n    // get player preferences \r\n    const player = this.playerManager.getPlayerAssignedCharacter(character);\r\n    const branches = this.currentEncounter?.branches || [];\r\n    // get player traits\r\n    if (!player || !this.currentEncounter) {\r\n      return [];\r\n    }\r\n\r\n    // TODO: Make this less random! Too many magic items, plot hooks and player backtories. Maybe color-code for rarity as well. \r\n    const perceptionTagType: TAGS_TYPE = Math.floor(Math.random() * 5);\r\n\r\n    switch (perceptionTagType) {\r\n\r\n      case TAGS_TYPE.BRANCH_LOCATION:\r\n        const branchIndex = Math.floor(Math.random() * branches.length);\r\n        const branch = branches[branchIndex];\r\n        const tagName = branch.name;\r\n        let branchTags = this.getTagsForEncounter(branch);\r\n        branchTags = branchTags.filter(tag => !this.getExpectedTagsForBranch(branch.name).includes(tag));\r\n        const nbTags = Math.floor(Math.random() * 2) + 1;\r\n        // Get some random tags from the branch\r\n        if (branchTags.length === 0) {\r\n          // Get a magic item instead?\r\n          const newGear = this.appManager.getCharacterManager().getRandomGear();\r\n          const gearTag = { name: newGear.name, type: TAG_TYPE.GEAR };\r\n\r\n          return {\r\n            tags: [{\r\n              tag: gearTag,\r\n              source: FlavorTagSource.LOCATION,\r\n              theme: FlavorTagTheme.NONE\r\n            }],\r\n            type: perceptionTagType,\r\n            name: branch.name\r\n          }\r\n        }\r\n        const randomTags = branchTags.sort(() => Math.random() - 0.5);\r\n        const selectedBranchTags = randomTags.slice(0, nbTags);\r\n\r\n        const flavorTags: EncounterFlavorTag[] = selectedBranchTags.map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.LOCATION,\r\n            theme: this.getTheme()\r\n          }\r\n        });\r\n\r\n        return {\r\n          tags: flavorTags,\r\n          type: perceptionTagType,\r\n          name: tagName\r\n        }\r\n      case TAGS_TYPE.CURRENT_LOCATION:\r\n\r\n        const curLocationName = this.currentEncounter.location.name;\r\n        const locationTags = this.getEncounterLocationTags();\r\n        const nbLocationTags = Math.floor(Math.random() * 2) + 1;\r\n        // Get some random tags from the branch\r\n        const randomLocationTags = locationTags.sort(() => Math.random() - 0.5);\r\n        const selectedLocationTags = randomLocationTags.slice(0, nbLocationTags);\r\n\r\n        const locationFlavorTags: EncounterFlavorTag[] = selectedLocationTags.map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.LOCATION,\r\n            theme: this.getTheme()\r\n          }\r\n        });\r\n\r\n        return {\r\n          tags: locationFlavorTags,\r\n          type: perceptionTagType,\r\n          name: curLocationName\r\n        }\r\n\r\n      case TAGS_TYPE.PLOT_HOOK:\r\n\r\n        return {\r\n          tags: [{\r\n            tag: { name: `Plot Hook: ${this.campaignProgress + 1}`, type: TAG_TYPE.PLOT },\r\n            source: FlavorTagSource.PLOT,\r\n            theme: FlavorTagTheme.NONE\r\n          }],\r\n          type: TAGS_TYPE.PLOT_HOOK,\r\n          name: 'Campaign Story'\r\n        }\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY:\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS:\r\n\r\n        // TODO: This can cause a bug where Player A has a unique tag, and player B will be assigned it at random as it is in the pool. \r\n        const outstandingBackstoryTags = this.appManager.getCharacterManager().getAllExpectedBackstoryTags();\r\n\r\n        // Determine if we should get a new random element, or one of the outstanding ones\r\n        if (outstandingBackstoryTags.length > 0 && Math.random() < 0.5) {\r\n          const randomIndex = Math.floor(Math.random() * outstandingBackstoryTags.length);\r\n          const tag = outstandingBackstoryTags[randomIndex];\r\n          return {\r\n            tags: [{\r\n              tag: tag,\r\n              source: FlavorTagSource.PLAYERS,\r\n              theme: this.getTheme()\r\n            }],\r\n            type: TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS,\r\n            name: character.name\r\n          }\r\n        }\r\n\r\n\r\n        return {\r\n          tags: this.getNewBackstoryTags(player, character, 1),\r\n          type: TAGS_TYPE.CHARACTER_BACKSTORY,\r\n          name: character.name\r\n        }\r\n\r\n      case TAGS_TYPE.MAGIC_ITEM:\r\n\r\n        const expectedGearTags = this.getRumorTags().filter(tag => tag.type === TAG_TYPE.GEAR);\r\n\r\n        // determine if we should get a new random element, or one of the outstanding ones\r\n        if (expectedGearTags.length > 0 && Math.random() < 0.5) {\r\n          const randomIndex = Math.floor(Math.random() * expectedGearTags.length);\r\n          const tag = expectedGearTags[randomIndex];\r\n          return {\r\n            tags: [{\r\n              tag: tag,\r\n              source: FlavorTagSource.PLAYERS,\r\n              theme: this.getTheme()\r\n            }],\r\n            type: TAGS_TYPE.MAGIC_ITEM,\r\n            name: tag.name\r\n          }\r\n        }\r\n\r\n        const newGear = this.appManager.getCharacterManager().getRandomGear();\r\n        const gearTag = { name: newGear.name, type: TAG_TYPE.GEAR };\r\n\r\n        return {\r\n          tags: [{\r\n            tag: gearTag,\r\n            source: FlavorTagSource.PLAYERS,\r\n            theme: FlavorTagTheme.NONE\r\n          }],\r\n          type: TAGS_TYPE.MAGIC_ITEM,\r\n          name: gearTag.name\r\n        }\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getNewBackstoryTags(player: Player, character: Character, nbTags: number): EncounterFlavorTag[] {\r\n    // Get a random one. \r\n    const NB_ALLTAGS = 5;\r\n\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n    const randomBackstoryTags = allTags.sort(() => Math.random() - 0.5).slice(0, NB_ALLTAGS);\r\n    // player.preferences is [Tag, ATTITUDE][]\r\n    // To flatten and extract just the Tag objects:\r\n    const mixedTags = [\r\n      ...player.preferences.map(([tag]) => tag),\r\n      ...randomBackstoryTags\r\n    ];\r\n\r\n    // get nbTags of random tags\r\n    const randomTags = mixedTags.sort(() => Math.random() - 0.5).slice(0, nbTags);\r\n\r\n    // Ensure randomTag is of type Tag\r\n    // const tag: Tag = Array.isArray(randomTag) ? randomTag[0] : randomTag;\r\n\r\n    return randomTags.map(tag => ({\r\n      tag: tag,\r\n      source: FlavorTagSource.BACKSTORY,\r\n      theme: this.getTheme()\r\n    }));\r\n    // type: TAGS_TYPE.CHARACTER_BACKSTORY,\r\n    // name: character.name\r\n\r\n  }\r\n\r\n  acceptPerceptionTags(perceptionTags: PerceptionTags, character: Character) {\r\n\r\n    this.updateFlavorTagThemesTally(perceptionTags.tags);\r\n    // adjust player happiness based on this tag\r\n    const flatTags = perceptionTags.tags.map(tag => tag.tag);\r\n    flatTags.forEach(tag => {\r\n      this.playerManager.exposeEncounterTag(tag);\r\n    });\r\n\r\n    const player = this.playerManager.getPlayerAssignedCharacter(character);\r\n\r\n    let updateAllAttention = -1;\r\n\r\n\r\n\r\n    switch (perceptionTags.type) {\r\n      case TAGS_TYPE.CURRENT_LOCATION:\r\n        // this.collectedLocationTags = [...this.collectedLocationTags, ...(perceptionTags.tags.map(tag => tag.tag))];\r\n        // this.addCampaignScore(COST.CAMPAIGN_SCORE.LOCATION_DESCRIBED * perceptionTags.tags.length);\r\n        // this.partyManager().addPartyScore(1);\r\n        perceptionTags.tags.forEach(tag => {\r\n          this.exposeCurrentlocationTag(tag.tag); // Expose the current location tag\r\n        });\r\n        break;\r\n      case TAGS_TYPE.BRANCH_LOCATION:\r\n        perceptionTags.tags.forEach(tag => {\r\n          this.expectedTagsForBranches[perceptionTags.name].push(tag.tag);\r\n        });\r\n        this.addCampaignScore(COST.CAMPAIGN_SCORE.FORESHADOWED_ENCOUNTER * perceptionTags.tags.length);\r\n        this.partyManager().addPartyScore(2);\r\n        break;\r\n      case TAGS_TYPE.PLOT_HOOK:\r\n        updateAllAttention = 0;\r\n        // this.setCampaignProgress(this.campaignProgress + 1);\r\n        this.advanceCampaignStory();\r\n        this.partyManager().addPartyScore(3);\r\n        break;\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY:\r\n        this.partyManager().addPartyScore(COST.PARTY_SCORE.BACKSTORY_ASSIGNED);\r\n        this.appManager.getCharacterManager().assignBackstory(character, perceptionTags.tags[0].tag);\r\n        break;\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS:\r\n        this.partyManager().addPartyScore(COST.PARTY_SCORE.BACKSTORY_FULFILLED);\r\n        this.appManager.getCharacterManager().assignBackstory(character, perceptionTags.tags[0].tag);\r\n\r\n        break;\r\n      case TAGS_TYPE.MAGIC_ITEM:\r\n        const newTag = perceptionTags.tags[0].tag;\r\n        if (this.isRumor(newTag.name)) {\r\n          this.appManager.getCharacterManager().assignGear(character, newTag.name);\r\n          this.rumorTags = this.rumorTags.filter(tag => tag.name !== newTag.name);\r\n          this.partyManager().addPartyScore(COST.PARTY_SCORE.MAGIC_ITEM_INTRODUCED);\r\n        } else {\r\n          this.partyManager().addPartyScore(COST.PARTY_SCORE.MAGIC_ITEM_FOUND);\r\n          this.rumorTags = [...this.rumorTags, ...[newTag]];\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (updateAllAttention !== -1) {\r\n      this.partyManager().updateAllAttention(updateAllAttention);\r\n    } else {\r\n      this.partyManager().playersTakeAction(((player && [player.name]) || undefined), true);\r\n    }\r\n    if (player) {\r\n      this.partyManager().stressAction([player]);\r\n    }\r\n    this.emit('dmScreenUpdated', this.establishedTags);\r\n  }\r\n\r\n\r\n  rewardsAccepted = (rewardsAccepted: RewardItem[], rewardDifference: number, advanceEvent: boolean) => {\r\n\r\n    if (rewardDifference === -2) {\r\n      this.partyManager().addPartyEnjoyment(-2);\r\n    } else if (rewardDifference === -1) {\r\n      this.partyManager().addPartyEnjoyment(-1);\r\n    } else if (rewardDifference === 1) {\r\n      this.partyManager().multiplyPartyTension(.5)\r\n    } else if (rewardDifference === 2) {\r\n      this.partyManager().multiplyPartyTension(0)\r\n    }\r\n\r\n    const partyManager = this.appManager.getPartyManager();\r\n    rewardsAccepted.forEach(reward => {\r\n      switch (reward.type) {\r\n        case REWARD_TYPE.TREASURE:\r\n          partyManager.addPartyEnjoyment(reward.value);\r\n          break;\r\n        case REWARD_TYPE.TOOLS:\r\n          partyManager.replenishPartyTools();\r\n          break;\r\n        case REWARD_TYPE.XP:\r\n          partyManager.levelUpLowestCharacter();\r\n          break;\r\n        case REWARD_TYPE.ITEM:\r\n          const player = this.playerManager.getRandomPlayer();\r\n          const character = this.playerManager.getRandomCharacterForPlayer(player, true);\r\n          if (reward.tag) {\r\n            this.appManager.getCharacterManager().assignGear(character!, reward.tag.name);\r\n          }\r\n          this.rumorTags = this.rumorTags.filter(tag => tag.name !== reward.tag?.name);\r\n          break;\r\n        case REWARD_TYPE.PLOT_HOOK:\r\n          this.advanceCampaignStory();\r\n          //update dm screen\r\n\r\n          break;\r\n        case REWARD_TYPE.HEALING:\r\n          if (reward.value === 1) {\r\n            partyManager.healRandomCharacter();\r\n          } else {\r\n            partyManager.raiseRandomFromDead();\r\n          }\r\n          break;\r\n        case REWARD_TYPE.BACKSTORY:\r\n          break;\r\n        case REWARD_TYPE.MAGIC:\r\n          partyManager.replenishPartyMagic();\r\n          break;\r\n      }\r\n    })\r\n\r\n    if (advanceEvent) {\r\n      this.backToOverview();\r\n    }\r\n    this.emit('dmScreenUpdated');\r\n  }\r\n\r\n\r\n  setCampaignProgress(progress: number) {\r\n    this.campaignProgress = progress;\r\n    this.emit('campaignProgressUpdated', progress);\r\n  }\r\n\r\n  getCampaignProgress() {\r\n    return this.campaignProgress;\r\n  }\r\n\r\n  // ------------------------------------------------------------------------------------------------------\r\n  // Tag Exposure\r\n  // ------------------------------------------------------------------------------------------------------\r\n\r\n  handleExpositionClicked() {\r\n    // Expose an unexposed location tag, encounter tag, or upcoming encounter tag.\r\n    const encounter = this.currentEncounter;\r\n    if (!encounter) {\r\n      return;\r\n    }\r\n    const upcomingBranches = encounter.branches || [];\r\n    const possibleTags: Tag[] = [];\r\n    this.currentEncounter?.location.tags.forEach(tag => {\r\n      if (!this.collectedLocationTags.includes(tag)) {\r\n        possibleTags.push(tag);\r\n      }\r\n    });\r\n\r\n    this.getExpectedEncounterTags().forEach(tag => {\r\n      // if(!this.establishedTags.includes(tag) && !possibleTags.includes(tag)) {\r\n      possibleTags.push(tag);\r\n      // }\r\n    }\r\n    )\r\n\r\n\r\n    upcomingBranches.forEach(branch => {\r\n      branch.tags.forEach(tag => {\r\n        if (!this.establishedTags.includes(tag) && !possibleTags.includes(tag) && !this.getExpectedTagsForBranch(branch.name).includes(tag)) {\r\n          possibleTags.push(tag);\r\n        }\r\n      });\r\n    });\r\n\r\n    if (possibleTags.length === 0) {\r\n      return;\r\n    }\r\n    const randomIndex = Math.floor(Math.random() * possibleTags.length);\r\n    const tag = possibleTags[randomIndex];\r\n\r\n    this.exposeTagForEncounter({\r\n      tag: tag,\r\n      source: FlavorTagSource.EXPOSITION,\r\n      theme: FlavorTagTheme.NONE\r\n    });\r\n\r\n\r\n    // COST FOR EXPOSITION - CAN BE AFFECTED BY LEVELING UP\r\n    this.partyManager().updateAllAttention(-1);\r\n\r\n\r\n\r\n    this.emit('encounterUpdated', this.establishedTags);\r\n\r\n\r\n    //this.playerManager.handleLevelUp(this.playerManager.getPlayers()[0]);\r\n\r\n  }\r\n\r\n\r\n  exposeTagForEncounter(flavorTag: EncounterFlavorTag) {\r\n\r\n\r\n\r\n    let startNewRumor = true;\r\n    this.updateFlavorTagThemesTally([flavorTag]);\r\n\r\n    // adjust player happiness based on this tag\r\n    this.playerManager.exposeEncounterTag(flavorTag.tag);\r\n\r\n    // Check if this fulfills a character's backstory\r\n    const charactersWithBackstoryTag = this.appManager.getCharacterManager().getCharactersWithBackstoryTag(flavorTag.tag);\r\n    charactersWithBackstoryTag.forEach(character => {\r\n      this.appManager.getCharacterManager().assignBackstory(character, flavorTag.tag);\r\n      this.partyManager().addPartyScore(COST.PARTY_SCORE.BACKSTORY_ASSIGNED);\r\n      startNewRumor = false;\r\n    });\r\n\r\n    // check if this fulfills a magic-item rumor \r\n    if (this.isMagicItemRumor(flavorTag.tag.name)) {\r\n\r\n      const player = this.playerManager.getRandomPlayer();\r\n      const character = this.playerManager.getRandomCharacterForPlayer(player, true);\r\n      this.appManager.getCharacterManager().assignGear(character!, flavorTag.tag.name);\r\n      this.partyManager().addPartyScore(COST.PARTY_SCORE.MAGIC_ITEM_FOUND);\r\n      this.rumorTags = this.rumorTags.filter(tag => tag.name !== flavorTag.tag.name);\r\n      startNewRumor = false;\r\n\r\n    }\r\n\r\n    // Also apply any wanted location-based tags\r\n    if (flavorTag.source === FlavorTagSource.LOCATION || flavorTag.source === FlavorTagSource.EXPOSITION || this.isLocationRumor(flavorTag.tag.name)) {\r\n\r\n      this.exposeCurrentlocationTag(flavorTag.tag);\r\n      startNewRumor = false;\r\n    }\r\n\r\n    let campaignChatTrigerred = false;\r\n\r\n    // This triggers the chat as well\r\n    if (this.appManager.getChatManager().expectedTagResolved(flavorTag.tag)) {\r\n      campaignChatTrigerred = true;\r\n    }\r\n\r\n\r\n\r\n    // APPLY A KNOWN TAG TO AN UPCOMING ENCOUNTER\r\n    // note this also does some processing to determine a valid branch to assign a random tag to. \r\n    const possibleBranchesToAssignRandomTagTo: number[] = [];\r\n    let tagAssigned = false;\r\n    const upcomingBranches = this.currentEncounter?.branches || [];\r\n    upcomingBranches.forEach((branch, index) => {\r\n      if (branch.tags.includes(flavorTag.tag)) {\r\n        this.expectedTagsForBranches[branch.name].push(flavorTag.tag);\r\n        // if(!campaignChatTrigerred) {\r\n        //  this.appManager.getChatManager().expectedTagForeshadowed(flavorTag, branch.name);\r\n        // }\r\n        tagAssigned = true;\r\n        this.addCampaignScore(COST.CAMPAIGN_SCORE.FORESHADOWED_ENCOUNTER);\r\n        startNewRumor = false;\r\n      } else if (!tagAssigned && this.couldAssignRandomTagToBranch(branch)) {\r\n        possibleBranchesToAssignRandomTagTo.push(index);\r\n      }\r\n    });\r\n\r\n\r\n\r\n    // APPLY A RANDOM TAG TO AN UPCOMING ENCOUNTER\r\n    if (flavorTag.source === FlavorTagSource.FORESHADOWING_RANDOM && !tagAssigned && possibleBranchesToAssignRandomTagTo.length > 0) {\r\n      const randomIndex = Math.floor(Math.random() * possibleBranchesToAssignRandomTagTo.length);\r\n      const branchIndex = possibleBranchesToAssignRandomTagTo[randomIndex];\r\n      const branch = upcomingBranches[branchIndex];\r\n      this.expectedTagsForBranches[branch.name].push(flavorTag.tag);\r\n      // if(!this.appManager.getChatManager().expectedTagForeshadowed(flavorTag, branch.name)){\r\n      this.appManager.getChatManager().triggerAddRandomTagToEncounterConversation(flavorTag.tag, branch);\r\n      // }\r\n      this.addCampaignScore(COST.CAMPAIGN_SCORE.FORESHADOWED_ENCOUNTER);\r\n      startNewRumor = false;\r\n    }\r\n\r\n\r\n    //  }\r\n\r\n\r\n    // Any player-expectations? \r\n    if (this.getExpectedEncounterTags().includes(flavorTag.tag)) {\r\n      // Whee!!! Add player engagement\r\n\r\n      this.partyManager().addPartyEngagement(10);\r\n\r\n\r\n      this.resolveExpectedTagsForBranch(flavorTag.tag);\r\n      this.addCampaignScore(COST.CAMPAIGN_SCORE.ENCOUNTER_TAG_RESOLVED);\r\n      startNewRumor = false;\r\n    }\r\n\r\n    // If we just started talking about some new random shit, start a rumor\r\n    if (startNewRumor) {\r\n      this.establishOrStartRumor(flavorTag.tag);\r\n    }\r\n\r\n\r\n    this.emit('dmScreenUpdated', this.establishedTags);\r\n  }\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // ROLEPLAY EVENT\r\n  // ---------------------------------------------------------------------------------------------------------\r\n\r\n  selectRoleplayFlavorTag(rpFlavorTag: RPEncounterFlavorTag, freeTags: number) {\r\n\r\n\r\n    if (rpFlavorTag.type === 'character' && rpFlavorTag.character) {\r\n      // this.appManager.getChatManager().RPCharacterSelected(rpFlavorTag.character);\r\n      const player = this.playerManager.getPlayerAssignedCharacter(rpFlavorTag.character);\r\n\r\n      if (player) {\r\n        this.partyManager().playersTakeAction([player.name], true, 2);\r\n        this.partyManager().stressAction([player]);\r\n      }\r\n      return;\r\n    }\r\n\r\n\r\n    if (rpFlavorTag.type === 'treasure') {\r\n      this.partyManager().addTreasurePoints(1);\r\n\r\n      return;\r\n    }\r\n\r\n    if (rpFlavorTag.type === 'dmpoint') {\r\n      this.addDmExp(1);\r\n\r\n      return;\r\n    }\r\n\r\n\r\n    const flavorTag = rpFlavorTag.tag;\r\n    if (!flavorTag) {\r\n      return;\r\n    }\r\n\r\n    this.exposeTagForEncounter(flavorTag);\r\n\r\n    // Pay the action cost FIRST\r\n    if (freeTags <= 0) {\r\n      this.partyManager().playersTakeAction();\r\n    }\r\n    this.partyManager().stressAction();\r\n    this.exhaustForRoleplayAction();\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  establishOrStartRumor(tag: Tag) {\r\n    if (this.establishedTags.includes(tag)) {\r\n      return;\r\n    }\r\n    if (this.rumorTags.includes(tag)) {\r\n      this.rumorTags = this.rumorTags.filter(rumorTag => rumorTag !== tag);\r\n      this.establishedTags.push(tag);\r\n\r\n    } else {\r\n      this.rumorTags.push(tag);\r\n    }\r\n  }\r\n\r\n  resolveExpectedTagsForBranch(tag: Tag) {\r\n    if (!this.currentEncounter) {\r\n      return;\r\n    }\r\n\r\n    const outstandingTags = this.expectedTagsForBranches[this.currentEncounter.name || ''];\r\n    this.expectedTagsForBranches[this.currentEncounter.name || ''] = outstandingTags.filter(outstandingTag => outstandingTag !== tag);\r\n    this.resolvedTagsForBranches[this.currentEncounter.name].push(tag)\r\n    this.establishedTags = [...this.establishedTags, tag];\r\n\r\n\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n\r\n\r\n\r\n  generateRoleplayEventTags(consoleThing: string): RPEncounterFlavorTag[] {\r\n    console.log(consoleThing);\r\n    const nbTags = 12;\r\n    const encounter = this.currentEncounter;\r\n    if (!encounter) {\r\n      return [];\r\n    }\r\n\r\n    let accumulatedTags: Tag[] = [...this.establishedTags, ...this.getCollectedLocationTags()];\r\n    // Get all tag types.\r\n    const allLocationTags = this.getEncounterLocationTags();\r\n    const allRumoredTagsToAdd = this.getRumorTags();\r\n    const allExpectedEncounterTags = this.getExpectedEncounterTags();\r\n    const allPlayerTags = this.playerManager.getAllPlayerPreferences();\r\n    const allBackstoryTags = this.appManager.getCharacterManager().getAllExpectedBackstoryTags();\r\n    const allAllTags = Object.values(TAG).flatMap(category => Object.values(category));\r\n\r\n    const upcomingBranches = encounter.branches || [];\r\n\r\n\r\n    let upcomingEncounterTags = upcomingBranches.flatMap(branch => branch.tags);\r\n    // Filter out the tags that are already in the established tags\r\n    const alreadyExpectedTags = upcomingBranches.flatMap(branch => this.getExpectedTagsForBranch(branch.name));\r\n\r\n    // Filter out the tags that are already in the established tags\r\n    upcomingEncounterTags = upcomingEncounterTags.filter(tag => !alreadyExpectedTags.includes(tag) && !allExpectedEncounterTags.includes(tag));\r\n    // do NOT filter out tags that are already in the established tags, as we want to foreshadow them\r\n    const upcomingEncounterTagsToAdd = this.getRandomTags([2, 3], upcomingEncounterTags, []);\r\n    accumulatedTags = [...accumulatedTags, ...upcomingEncounterTagsToAdd];\r\n\r\n\r\n\r\n    // We always want a few location tags\r\n    const locationTags = this.getRandomTags([2, 3], allLocationTags, [...accumulatedTags]);\r\n    accumulatedTags = [...accumulatedTags, ...allLocationTags];\r\n\r\n\r\n    // mix up expected and rumor tags\r\n    const rumoredTagsToAdd = this.getRandomTags([2, 3], [...allRumoredTagsToAdd, ...allExpectedEncounterTags], accumulatedTags);\r\n    accumulatedTags = [...accumulatedTags, ...rumoredTagsToAdd];\r\n\r\n\r\n\r\n    // Remove tags that have been reolved for upcoming encounters:\r\n    accumulatedTags = [...accumulatedTags, ...this.getTagsForUpcomingEncounters()];\r\n\r\n    const playerPreferenceTags = this.getRandomTags([1, 2], allPlayerTags, accumulatedTags);\r\n    accumulatedTags = [...accumulatedTags, ...playerPreferenceTags];\r\n\r\n\r\n    if (allBackstoryTags.length > 0 && Math.random() < 0.1) {\r\n      const backstoryTag = this.getRandomTags(1, allBackstoryTags, accumulatedTags);\r\n      playerPreferenceTags.push(...backstoryTag);\r\n      accumulatedTags = [...accumulatedTags, ...backstoryTag];\r\n    }\r\n\r\n\r\n    const totalPossibleTagsNb = locationTags.length + rumoredTagsToAdd.length + playerPreferenceTags.length;\r\n\r\n    //add in some number of random tags from ALL, omitting the ones already picked, and equal to the missing number of tags\r\n    const extraTags = this.getRandomTags(nbTags - totalPossibleTagsNb, allAllTags, accumulatedTags);\r\n\r\n\r\n\r\n\r\n    //Convert the locationTags into EncounterFlavorTags\r\n    const EncounterFlavorTags: EncounterFlavorTag[] = locationTags.map(tag => {\r\n      return {\r\n        tag: tag,\r\n        source: this.getFormattedSource(tag, FlavorTagSource.LOCATION),\r\n        theme: this.getTheme()\r\n      }\r\n    });\r\n\r\n    //CONVERT THE UPCOMING TAGS INTO FORESHADOWING TAGS\r\n    const ForeshadowingFlavorTags: EncounterFlavorTag[] = upcomingEncounterTagsToAdd.map(tag => {\r\n\r\n      return {\r\n        tag: tag,\r\n        source: this.getFormattedSource(tag, FlavorTagSource.FORESHADOWING),\r\n        theme: this.getTheme()\r\n      }\r\n    });\r\n\r\n    //Convert the expected tags into EncounterFlavorTags\r\n    const rumoredFlavorTags: EncounterFlavorTag[] = rumoredTagsToAdd.map(tag => {\r\n      return {\r\n        tag: tag,\r\n        source: this.getFormattedSource(tag, FlavorTagSource.RUMOR),\r\n        theme: this.getTheme()\r\n      }\r\n    });\r\n\r\n    //Convert the player tags into EncounterFlavorTags\r\n    const playerFlavorTags: EncounterFlavorTag[] = playerPreferenceTags.map(tag => {\r\n\r\n      return {\r\n        tag: tag,\r\n        source: this.getFormattedSource(tag, FlavorTagSource.PLAYERS),\r\n        theme: this.getTheme()\r\n      }\r\n    });\r\n\r\n    //Convert the random tags into EncounterFlavorTags\r\n    const randomFlavorTags: EncounterFlavorTag[] = extraTags.map(tag => {\r\n      if (tag === undefined) {\r\n        debugger\r\n      }\r\n      if (this.couldAssignRandomTag() && Math.random() < 0.25) {\r\n        return {\r\n          tag: tag,\r\n          source: this.getFormattedSource(tag, FlavorTagSource.FORESHADOWING_RANDOM),\r\n          theme: this.getTheme()\r\n        }\r\n\r\n      }\r\n\r\n      return {\r\n        tag: tag,\r\n        source: this.getFormattedSource(tag, FlavorTagSource.ALL),\r\n        theme: this.getTheme()\r\n      }\r\n    });\r\n\r\n    const allRpTags = [...EncounterFlavorTags, ...rumoredFlavorTags, ...playerFlavorTags, ...randomFlavorTags, ...ForeshadowingFlavorTags];\r\n    const randomRpTags = allRpTags.sort(() => Math.random() - 0.5).slice(0, nbTags);\r\n\r\n\r\n    // Add a character to the mix\r\n\r\n    const includeCharacter = Math.random() < 0.5;\r\n    const allTags: RPEncounterFlavorTag[] = [];\r\n    randomRpTags.forEach((flavortag) => {\r\n      allTags.push({\r\n        tag: flavortag,\r\n        type: 'tag'\r\n      })\r\n    });\r\n    if (includeCharacter) {\r\n      const characters = this.appManager.getCharacterManager().getPlayerCharacters();\r\n      const randomChar = characters[Math.floor(Math.random() * characters.length)];\r\n      const charTag: RPEncounterFlavorTag =\r\n      {\r\n        character: randomChar,\r\n        type: 'character',\r\n      };\r\n      allTags.push(charTag);\r\n\r\n    }\r\n\r\n\r\n    // add a treasure to the mix\r\n\r\n    const includeTreasure = Math.random() < 0.5;\r\n    if (includeTreasure) {\r\n      const treasureTag: RPEncounterFlavorTag =\r\n      {\r\n        type: 'treasure',\r\n      };\r\n      allTags.push(treasureTag);\r\n    }\r\n\r\n    // add a DM point to the mix\r\n    const includeDMPoint = Math.random() < 0.5;\r\n    if (includeDMPoint) {\r\n      const dmpointTag: RPEncounterFlavorTag =\r\n      {\r\n        type: 'dmpoint',\r\n      };\r\n      allTags.push(dmpointTag);\r\n    }\r\n\r\n\r\n    return allTags;\r\n\r\n\r\n  }\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  //  TRAVEL \r\n  // ---------------------------------------------------------------------------------------------------------\r\n  setDefaultTravelOptions() {\r\n    this.travelOptions = [TRAVEL_OPTIONS_SHORT, TRAVEL_OPTIONS_MEDIUM, TRAVEL_OPTIONS_LONG];\r\n  }\r\n  setTravelOptions(travelOptions: TravelOption[][]) {\r\n    this.travelOptions = travelOptions;\r\n    this.emit('travelOptionsUpdated', travelOptions);\r\n  }\r\n  getTravelOptions() {\r\n    return this.travelOptions;\r\n  }\r\n\r\n  hasTravelTag(tag: Tag) {\r\n    return this.establishedTags.includes(tag) || this.rumorTags.includes(tag) || this.collectedLocationTags.includes(tag);\r\n  }\r\n\r\n  getEventTag(travelOption: TravelOption): Tag | undefined {\r\n\r\n    let randomIndex = 0;\r\n\r\n    switch (travelOption.travelOptionType) {\r\n      case TRAVEL_OPTION.AMBUSH:\r\n        if (this.getEstablishedCombatantTags().length > 0) {\r\n          // get a random one\r\n          randomIndex = Math.floor(Math.random() * this.getEstablishedCombatantTags().length);\r\n          return this.getEstablishedCombatantTags()[randomIndex];\r\n        }\r\n        randomIndex = Math.floor(Math.random() * this.getPotentialCombatantsTags().length);\r\n        return this.getPotentialCombatantsTags()[randomIndex];\r\n\r\n      case TRAVEL_OPTION.TRADERS:\r\n        if (this.getEstablishedFriendlyTags().length > 0) {\r\n          // get a random one\r\n          randomIndex = Math.floor(Math.random() * this.getEstablishedFriendlyTags().length);\r\n          return this.getEstablishedFriendlyTags()[randomIndex];\r\n        }\r\n        return this.getRandomFriendlyTags(1)[0];\r\n    }\r\n    return travelOption.tag;\r\n\r\n  }\r\n\r\n\r\n  getResultTags(travelOption: TravelOption): EncounterFlavorTag[] | undefined {\r\n\r\n    let randomIndex = 0;\r\n    //We need a random player to apply things to, and a random Character as well\r\n\r\n    const players = this.playerManager.getPlayers();\r\n    const randomPlayerIndex = Math.floor(Math.random() * players.length);\r\n    const randomPlayer = players[randomPlayerIndex];\r\n    const randomCharacter = this.playerManager.getRandomCharacterForPlayer(randomPlayer, true);\r\n    if (!randomCharacter) {\r\n      return [];\r\n    }\r\n\r\n    switch (travelOption.travelOptionType) {\r\n\r\n      case TRAVEL_OPTION.TRADERS:\r\n        break;\r\n      case TRAVEL_OPTION.AMBUSH:\r\n        break;\r\n      case TRAVEL_OPTION.EXPLORE_CURRENT_LOCATION:\r\n        return this.getEncounterLocationTags().map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.LOCATION,\r\n            theme: this.getTheme()\r\n          }\r\n        });\r\n      case TRAVEL_OPTION.EXPLORE_UPCOMING_LOCATION:\r\n        return this.getUpcomingEncounterTags().map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.FORESHADOWING,\r\n            theme: this.getTheme()\r\n          }\r\n        })\r\n      case TRAVEL_OPTION.CHARACTER_BACKSTORY:\r\n        const tags = this.getNewBackstoryTags(randomPlayer, randomCharacter, 3);\r\n      return tags;\r\n      case TRAVEL_OPTION.SIDE_QUEST:\r\n        return this.getRandomTags(1, Object.values(TAG).flatMap(category => Object.values(category))).map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.QUESTS,\r\n            theme: this.getTheme()\r\n          }\r\n        });\r\n      case TRAVEL_OPTION.TRAVEL:\r\n        //NOTE: I dont think this is used...yet? Change it if you want, I totally just made up that it should be a rumor tag or a that its a random one...\r\n        return this.getRandomTags(1, this.getRumorTags()).map(tag => {\r\n          return {\r\n            tag: tag,\r\n            source: FlavorTagSource.RUMOR,\r\n            theme: this.getTheme()\r\n          }\r\n        });\r\n      default:\r\n        break;\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  selectTravelOption(travelOption: TravelOption, boredomLevel: number) {\r\n    const results: EffectData[] = [];\r\n    // check for boredom \r\n\r\n    // -1's indicate that it should be be randomized\r\n    if (travelOption.boredom === -1) {\r\n      travelOption.boredom = Math.floor(Math.random() * 25);\r\n    }\r\n    if (travelOption.score === -1) {\r\n      travelOption.score = Math.floor(Math.random() * 25);\r\n    }\r\n\r\n    if (travelOption.time === -1) {\r\n      travelOption.time = Math.floor(Math.random() * 20);\r\n    }\r\n\r\n    if(travelOption.exhaustion === -1) {\r\n      travelOption.exhaustion = Math.floor(Math.random() * 15);\r\n    }\r\n\r\n    const addResult = (object: Player | Character | 'party', effect: string, className: string) => {\r\n\r\n      if (!object) {\r\n        return;\r\n      }\r\n\r\n      // need to check if the player has a result in the results array already as the object\r\n      const existingResult = results.find(result => result.object === object);\r\n      if (existingResult && existingResult.effects) {\r\n        existingResult.effects.push({\r\n          effect: effect,\r\n          class: className\r\n        });\r\n        return;\r\n      }\r\n\r\n      results.push({\r\n        object: object,\r\n        effects: [{\r\n          effect: effect,\r\n          class: className\r\n        }]\r\n      });\r\n    }\r\n\r\n    const players = this.playerManager.getPlayers();\r\n    const boredomRisk = boredomLevel > 66 ? 1 : boredomLevel > 33 ? 0.5 : 0.2;\r\n   \r\n\r\n    const travelResultCharacter = this.playerManager.getRandomCharacter();\r\n    if (!travelResultCharacter) {\r\n      return;\r\n    }\r\n    const travelResultPlayer = this.playerManager.getPlayerAssignedCharacter(travelResultCharacter);\r\n\r\n    if (!travelResultPlayer) {\r\n      return;\r\n    }\r\n\r\n    switch (travelOption.travelOptionType) {\r\n      case TRAVEL_OPTION.AMBUSH:\r\n\r\n\r\n\r\n        if (travelResultCharacter) {\r\n          if (Math.random() < 0.5) {\r\n            const injuryResult = this.partyManager().addInjury(travelResultCharacter);\r\n            addResult(travelResultCharacter, injuryResult, \"injury\");\r\n          } else if (Math.random() < 0.5 && this.appManager.getCharacterManager().getRemainingAttributes(travelResultCharacter, ATTRIBUTE_TYPE.MAGIC) > 0) {\r\n            const magicReduced = this.appManager.getCharacterManager().useHalfRemainingAttributes(travelResultCharacter, ATTRIBUTE_TYPE.MAGIC);\r\n            addResult(travelResultCharacter, \"Used \" + magicReduced + \" Magic\", \"used-ability\");\r\n          } else if (this.appManager.getCharacterManager().getRemainingAttributes(travelResultCharacter, ATTRIBUTE_TYPE.TOOLS) > 0) {\r\n            const gearReduced = this.appManager.getCharacterManager().useHalfRemainingAttributes(travelResultCharacter, ATTRIBUTE_TYPE.TOOLS);\r\n            addResult(travelResultCharacter, \"Used \" + gearReduced + \" Tools\", \"used-ability\");\r\n          }\r\n        }\r\n        break;\r\n      case TRAVEL_OPTION.CHARACTER_BACKSTORY:\r\n        addResult(travelResultCharacter, \"+New Backstory Details\", \"backstory\");\r\n      break;\r\n    }\r\n\r\n    // IMPORTANT TO DO THESE LAST\r\n\r\n\r\n    // check for boredom\r\n    players.forEach(player => {\r\n      if (Math.random() < boredomRisk) {\r\n        this.partyManager().updateAttention(player, -1);\r\n\r\n        addResult(player, \"-1 Attention\", \"boredom\");\r\n      }\r\n      if (boredomLevel > 66 && Math.random() < 0.15) {\r\n        this.partyManager().addEnjoyment(player, -1);\r\n        addResult(player, \"-1 Attitude\", \"boredom\");\r\n      }\r\n\r\n    });\r\n    // reduce tension\r\n    const tensionAmount = boredomLevel > 66 ? -10 : boredomLevel > 33 ? -5 : -1;\r\n    this.partyManager().addPartyTension(tensionAmount);\r\n    addResult('party', \"-\" + Math.abs(tensionAmount) + \" Tension\", \"tension\");\r\n    if(travelOption.exhaustion) {\r\n      this.partyManager().exhaustParty(travelOption.exhaustion);\r\n      addResult('party', \"+\" + Math.abs(travelOption.exhaustion) + \" Exhaustion\", \"exhaustion\");\r\n    }\r\n \r\n\r\n    return {\r\n      travelResults: results,\r\n      travelTags: this.getResultTags(travelOption),\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // Utils \r\n  // ---------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n  exposeCurrentlocationTag(tag: Tag) {\r\n    // This is used to expose the current location tag to the players.\r\n    this.collectedLocationTags.push(tag); // add to the collected location tags\r\n    this.addCampaignScore(COST.CAMPAIGN_SCORE.LOCATION_DESCRIBED);\r\n    if (this.currentEncounter) {\r\n      this.appManager.getUiManager().setEventImageOpacity(this.collectedLocationTags.length / this.currentEncounter?.location.tags.length);\r\n    }\r\n\r\n  }\r\n\r\n  // Check against magic items, backstories, etc and change the location based on that. This will then set the style\r\n  getFormattedSource = (tag: Tag, source: FlavorTagSource) => {\r\n    let formattedSource = source;\r\n    if (this.isMagicItemRumor(tag.name) || tag.type === TAG_TYPE.GEAR) {\r\n      formattedSource = FlavorTagSource.MAGIC_ITEM;\r\n    } else if (this.isBackstoryTag(tag.name)) {\r\n      formattedSource = FlavorTagSource.BACKSTORY;\r\n    }\r\n    else if (this.isLocationRumor(tag.name) || this.isEncounterLocationTag(tag.name)) {\r\n      formattedSource = FlavorTagSource.LOCATION;\r\n    } else if (this.isCurrentEncounterTag(tag.name)) {\r\n      //  debugger\r\n      formattedSource = FlavorTagSource.FORESHADOWING;\r\n    }\r\n    else if (this.isUpcomingEncounterTag(tag.name)) {\r\n      //  debugger\r\n      formattedSource = FlavorTagSource.FORESHADOWING;\r\n    }\r\n\r\n\r\n    return formattedSource;\r\n  }\r\n\r\n  isCurrentEncounterTag(tagName: string) {\r\n    if (!this.currentEncounter) {\r\n      return false;\r\n    }\r\n    return this.expectedTagsForBranches[this.currentEncounter.name].some(tag => tag.name === tagName);\r\n  }\r\n\r\n\r\n  isUpcomingEncounterTag(tagName: string) {\r\n    if (!this.currentEncounter) {\r\n      return false;\r\n    }\r\n    const upcomingBranches = this.currentEncounter.branches || [];\r\n    return upcomingBranches.some(branch => branch.tags.some(tag => tag.name === tagName));\r\n  }\r\n\r\n\r\n  advanceCampaignStory() {\r\n    this.partyManager().updateAllAttention(2);\r\n    this.setCampaignProgress(this.campaignProgress + 1);\r\n    this.addCampaignScore(25);\r\n    this.emit('campaignProgressUpdated', this.campaignProgress);\r\n  }\r\n\r\n\r\n  getCampaignTooltipForTag(flavorTag: EncounterFlavorTag): string | undefined {\r\n    const campaign = CAMPAIGNS[this.currentCampaign || 0];\r\n\r\n    if (campaign.tooltipTags && campaign.tooltipTags[this.currentEncounter?.name || '']?.[flavorTag.tag.name]) {\r\n      const tooltip = campaign.tooltipTags[this.currentEncounter?.name || '']?.[flavorTag.tag.name];\r\n      if (tooltip) {\r\n        return tooltip + this.appManager.getChatManager().getThemePostFix(flavorTag);\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  //const encounter = campaign.processedEncounters?.flat().find(encounter => encounter.tags.includes(tag));\r\n\r\n  couldAssignRandomTagToBranch(encounter: Encounter) {\r\n\r\n    // How many authored tags are there \r\n    const nbTagsExpected = encounter.tags.length;\r\n    // Total number of random tags allowed. \r\n    const totalNbRandomTagsAllowed = 4 - nbTagsExpected;\r\n\r\n    // These are tags assigned to the branch already, but we dont know if they are authored or not\r\n    const nbTagsAlreadyAssignedToBranch = this.expectedTagsForBranches[encounter.name].length;\r\n\r\n    // find out how many authored tags are among the tags already assigned to the branch\r\n    const nbAuthoredTagsInExpectedTags = encounter.tags.filter(t => this.expectedTagsForBranches[encounter.name].includes(t)).length;\r\n    const nbRandomTagsAlreadyAssigned = nbTagsAlreadyAssignedToBranch - nbAuthoredTagsInExpectedTags;\r\n\r\n    if (nbRandomTagsAlreadyAssigned >= totalNbRandomTagsAllowed) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  getUpcomingEncounterTags() {\r\n    if (!this.currentEncounter) {\r\n      return [];\r\n    }\r\n    const upcomingBranches = this.currentEncounter.branches || [];\r\n    let upcomingTags: Tag[] = [];\r\n    upcomingBranches.forEach((branch) => {\r\n      upcomingTags = [...upcomingTags, ...branch.tags.filter(tag => !this.expectedTagsForBranches[branch.name].includes(tag))];\r\n    });\r\n    return upcomingTags;\r\n  }\r\n\r\n\r\n  resolveTownTag(flavorTag: EncounterFlavorTag) {\r\n    this.updateFlavorTagThemesTally([flavorTag]);\r\n\r\n    // adjust player happiness based on this tag\r\n    this.playerManager.exposeEncounterTag(flavorTag.tag);\r\n\r\n    this.exposeTagForEncounter(flavorTag);\r\n\r\n  }\r\n\r\n  couldAssignRandomTag() {\r\n    if (!this.currentEncounter) {\r\n      return 0;\r\n    }\r\n    const upcomingBranches = this.currentEncounter.branches || [];\r\n    let couldAssignRandomTagToAnyBranch = false;\r\n    upcomingBranches.forEach((branch) => {\r\n      if (this.couldAssignRandomTagToBranch(branch)) {\r\n        couldAssignRandomTagToAnyBranch = true;\r\n      }\r\n    });\r\n    return couldAssignRandomTagToAnyBranch;\r\n  }\r\n\r\n  getExpectedGear() {\r\n    return this.getRumorTags().filter(tag => tag.type === TAG_TYPE.GEAR);\r\n  }\r\n\r\n  getActiveThemes() {\r\n    // sum of all keys in themeCounts with a number greater than 0\r\n    return Object.values(this.themeCounts).reduce((sum, count) => sum + (count > 0 ? 1 : 0), 0);\r\n\r\n  }\r\n\r\n  // This is for the Campaign Choose screen UI\r\n  getOpenCampaign() {\r\n    return this.currentCampaign;\r\n  }\r\n\r\n\r\n  getExpectedTagsForBranch(branchName: string) {\r\n    return this.expectedTagsForBranches[branchName];\r\n  }\r\n\r\n  getOutstandingBackstoryTags() {\r\n    return this.appManager.getCharacterManager().getAllExpectedBackstoryTags();\r\n  }\r\n\r\n  getColorForEncounterByName(name: string) {\r\n    const encounter = CAMPAIGNS[this.currentCampaign || 0].processedEncounters?.flat().find(encounter => encounter.name === name);\r\n    if (!encounter) {\r\n      return 'none';\r\n    }\r\n    return encounter.location.themes[0];\r\n  }\r\n\r\n  getRumorTags() {\r\n    return this.rumorTags;\r\n  }\r\n\r\n  getNextPlotHookPerceptionText() {\r\n    const plotHookIndex = this.campaignProgress;\r\n    let description = CAMPAIGNS[this.currentCampaign || 0].plotHooks?.[plotHookIndex || 0];\r\n    if (!description) {\r\n      description = 'Next important plot information....';\r\n    }\r\n    return description;\r\n  }\r\n\r\n  isRumor(tagName: string) {\r\n    return this.rumorTags.some(tag => tag.name === tagName);\r\n  }\r\n\r\n  isMagicItemRumor(tagName: string) {\r\n    return this.rumorTags.some(tag => tag.name === tagName && tag.type === TAG_TYPE.GEAR);\r\n  }\r\n\r\n  isLocationRumor(tagName: string) {\r\n    return this.rumorTags.some(tag => tag.name === tagName && this.getEncounterLocationTags().includes(tag));\r\n  }\r\n\r\n  isEncounterLocationTag(tagName: string) {\r\n    return this.getEncounterLocationTags().some(tag => tag.name === tagName);\r\n  }\r\n\r\n  isBackstoryTag(tagName: string) {\r\n    const backstoryTags = this.appManager.getCharacterManager().getAllExpectedBackstoryTags();\r\n    return backstoryTags.some(tag => tag.name === tagName);\r\n  }\r\n\r\n  // isPlotHookTag(tagName: string) {\r\n  //   //return tagName.includes('Plot Hook');    \r\n  //   return this.getCampaignPlotTags().some((tag) => tag.name === tagName);\r\n  // }\r\n\r\n  getEstablishedTags() {\r\n    return this.establishedTags;\r\n  }\r\n\r\n  // getCampaignPlotTags() {\r\n  //   return this.currentCampaign !== undefined ? CAMPAIGNS[this.currentCampaign].plotTags : [];\r\n  // }\r\n\r\n  getCollectedThemes() {\r\n    return this.themeCounts;\r\n  }\r\n\r\n  getAvailableCampaigns() {\r\n    return CAMPAIGNS;\r\n  }\r\n\r\n\r\n  getCampaignIcon() {\r\n    return CAMPAIGNS[this.currentCampaign || 0].icon;\r\n  }\r\n\r\n  getCampaignName() {\r\n    return CAMPAIGNS[this.currentCampaign || 0].name;\r\n  }\r\n\r\n  getDmTricks() {\r\n    return this.dmTricks;\r\n  }\r\n\r\n  getAuthoredEncounterTags(branchName: string) {\r\n    const encounter = CAMPAIGNS[this.currentCampaign || 0].processedEncounters?.flat().find(encounter => encounter.name === branchName);\r\n    if (!encounter) {\r\n      return [];\r\n    }\r\n    return encounter.tags;\r\n  }\r\n\r\n\r\n  getCurrentEncounter() {\r\n    return this.currentEncounter;\r\n  }\r\n\r\n  getNextEncounters() {\r\n    return this.currentEncounter?.branches || [];\r\n  }\r\n\r\n  getCurrentCampaign() {\r\n    return this.currentCampaign;\r\n  }\r\n\r\n  getCollectedLocationTags(includeDupes = true) {\r\n    if (!includeDupes) {\r\n      return Array.from(new Set(this.collectedLocationTags));\r\n    }\r\n    return this.collectedLocationTags;\r\n  }\r\n\r\n  getCollectedLocationTagsForChallenge() {\r\n    const tags = this.getCollectedLocationTags(false);\r\n\r\n    return tags;\r\n  }\r\n\r\n  getEncounterEvents() {\r\n    return this.currentEncounter?.events || [[], [], []];\r\n  }\r\n\r\n  getEncounterLocationTags() {\r\n    return this.currentEncounter?.location.tags || [];\r\n  }\r\n\r\n  getOutstandingLocationTags() {\r\n    const tags = this.getEncounterLocationTags();\r\n    const outstandingTags = tags.filter(tag => !this.collectedLocationTags.includes(tag));\r\n    return outstandingTags;\r\n  }\r\n\r\n  getEncounterTags() {\r\n    return this.currentEncounter?.tags || [];\r\n  }\r\n\r\n  getExpectedEncounterTags() {\r\n    // check that each tag is valid\r\n\r\n    return this.expectedTagsForBranches[this.currentEncounter?.name || ''] || [];\r\n  }\r\n\r\n  getTagsForUpcomingEncounters() {\r\n    const upcomingBranches = this.currentEncounter?.branches || [];\r\n    let upcomingTags: Tag[] = [];\r\n    upcomingBranches.forEach((branch) => {\r\n      upcomingTags = [...upcomingTags, ...branch.tags];\r\n    });\r\n    return upcomingTags;\r\n  }\r\n\r\n  getTheme(): FlavorTagTheme {\r\n\r\n    // 1 in 5 chance of having a theme\r\n    if (Math.floor(Math.random() * 5) !== 0) {\r\n      return FlavorTagTheme.NONE;\r\n    }\r\n\r\n    const themeRoll = Math.floor(Math.random() * 4);\r\n\r\n    if (themeRoll === 0) {\r\n      return FlavorTagTheme.COMEDIC;\r\n    } else if (themeRoll === 1) {\r\n      return FlavorTagTheme.DRAMATIC;\r\n    } else if (themeRoll === 2) {\r\n      return FlavorTagTheme.SERIOUS;\r\n    }\r\n    // } else if (themeRoll === 3) {\r\n    //   return FlavorTagTheme.GRIM;\r\n    // }\r\n    // else if (themeRoll === 4) {\r\n    //  return FlavorTagTheme.HEROIC;\r\n    // } else if (themeRoll === 5) {\r\n    //   return FlavorTagTheme.ROMANTIC;\r\n    // } else if (themeRoll === 6) {\r\n    //   return FlavorTagTheme.FANTASY;\r\n    // } else if (themeRoll === 7) {\r\n    //   return FlavorTagTheme.HORROR;\r\n    // }\r\n\r\n    return FlavorTagTheme.NONE;\r\n\r\n  }\r\n\r\n  getCampaignScore() {\r\n    return this.campaignScore;\r\n  }\r\n\r\n  addCampaignScore(score: number) {\r\n    this.campaignScore += score;\r\n    this.emit('dmScreenUpdated', this.campaignScore);\r\n  }\r\n\r\n\r\n  getEstablishedFriendlyTags() {\r\n    // get number of unique friendly tags from the list:\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n    const friendlyTags = allTags.filter(tag => tag.friendly);\r\n    const establishedFriendlyTags = this.establishedTags.filter(tag => friendlyTags.includes(tag));\r\n    return establishedFriendlyTags;\r\n  }\r\n\r\n  getRandomFriendlyTags(nbTags: number) {\r\n    // get number of unique friendly tags from the list:\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n    const friendlyTags = allTags.filter(tag => tag.friendly);\r\n    const randomFriendlyTags = this.getRandomTags(nbTags, friendlyTags);\r\n    return randomFriendlyTags;\r\n  }\r\n\r\n  getPotentialCombatantsTags() {\r\n    // get number of unique friendly tags from the list:\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n    const combatantTags = allTags.filter(tag => tag.enemy || tag.friendly);\r\n    return combatantTags;\r\n  }\r\n\r\n  getEstablishedCombatantTags() {\r\n    // get number of unique friendly tags from the list:\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n    const combatantTags = allTags.filter(tag => tag.enemy || tag.friendly);\r\n    const establishedCombatantTags = this.establishedTags.filter(tag => combatantTags.includes(tag));\r\n    return establishedCombatantTags;\r\n  }\r\n\r\n\r\n  getRandomMagicItemTag(nbTags: number): Tag[] {\r\n\r\n    const expectedGearTags = this.getRumorTags().filter(tag => tag.type === TAG_TYPE.GEAR);\r\n    // determine if we should get a new random element, or one of the outstanding ones\r\n\r\n    while (expectedGearTags.length < nbTags + 2) {\r\n      const newGear = this.appManager.getCharacterManager().getRandomGear();\r\n      const gearTag = { name: newGear.name, type: TAG_TYPE.GEAR };\r\n      expectedGearTags.push(gearTag);\r\n    }\r\n    const randomTags = this.getRandomTags(nbTags, expectedGearTags);\r\n    return randomTags;\r\n\r\n  }\r\n\r\n\r\n  getEncounterExpositionText() {\r\n    return \"Expose details, players lose attention\";\r\n  }\r\n\r\n\r\n  getFriendlyCombatantTags() {\r\n    // Look through all established tags for friendly types. \r\n    return [...this.establishedTags.filter(tag => tag.friendly), ...this.getCollectedLocationTags(false).filter(tag => tag.friendly)];\r\n  }\r\n\r\n  getHostileCombatantTags(filteredName?: string) {\r\n    // Look through all established tags for hostile types. \r\n    return [...this.establishedTags.filter(tag => tag.enemy && tag.name !== filteredName), ...this.getCollectedLocationTags(false).filter(tag => tag.enemy)];\r\n  }\r\n\r\n\r\n  getCampaignChatTriggers(): Record<string, Record<string, ChatTrigger | string | ChatMessage[]>> | undefined {\r\n    if (this.currentCampaign === undefined) {\r\n      return {};\r\n    }\r\n    return CAMPAIGNS[this.currentCampaign].chatTriggers;\r\n  }\r\n\r\n  getEncounterChatTriggers(): Record<string, ChatTrigger | string | ChatMessage[]> | undefined {\r\n    const campaignTriggers = this.getCampaignChatTriggers();\r\n    if (this.currentEncounter === undefined || campaignTriggers === undefined) {\r\n      return {};\r\n    }\r\n    const encounterTriggers = campaignTriggers[this.currentEncounter.name];\r\n    return encounterTriggers;\r\n  }\r\n\r\n  getEncounterChatTrigger(tag: Tag) {\r\n    const encounterTriggers = this.getEncounterChatTriggers();\r\n    if (encounterTriggers === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    return encounterTriggers[tag.name];\r\n  }\r\n\r\n\r\n  getRandomTags(nbTags: number | number[], tagList: Tag[], omittedTags?: Tag[]) {\r\n\r\n    if (Array.isArray(nbTags)) {\r\n      // if nbTags is a range, get a random amount selected from that range\r\n      nbTags = Math.floor(Math.random() * (nbTags[1]) + nbTags[0]);\r\n    }\r\n    if (nbTags <= 0) {\r\n      return [];\r\n    }\r\n    if (omittedTags) {\r\n      const omittedNames = omittedTags.map(tag => tag.name);\r\n      tagList = tagList.filter(tag => !omittedNames.includes(tag.name));\r\n    }\r\n    const randomTags = tagList.sort(() => Math.random() - 0.5).slice(0, nbTags);\r\n    return randomTags;\r\n  }\r\n\r\n  useBreak() {\r\n    this.partyManager().takeBreak();\r\n    this.breaksAvailable--;\r\n  }\r\n\r\n  canTakeBreak() {\r\n    return this.breaksAvailable > 0;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // Initialization Functions\r\n  // ------------------------------------------------------------------------------------------------\r\n\r\n\r\n  initiateQuickStart() {\r\n    this.startCampaign(0);\r\n  }\r\n\r\n  // TODO - move most of this into startEncounter\r\n  startCampaign(index: number) {\r\n    this.currentCampaign = index;\r\n    this.currentEncounter = CAMPAIGNS[index]?.startingEncounter || undefined;\r\n\r\n    this.rumorTags = [];\r\n    this.resolvedTagsForBranches = {};\r\n    const currentEncounterBranches = this.currentEncounter?.branches || [];\r\n    this.resolvedTagsForBranches[this.currentEncounter.name] = [];\r\n    currentEncounterBranches.forEach(branch => {\r\n      this.expectedTagsForBranches[branch.name] = [];\r\n      this.resolvedTagsForBranches[branch.name] = [];\r\n    });\r\n\r\n    const currentTagsForBranch = this.expectedTagsForBranches[this.currentEncounter?.name || ''] || [];\r\n    this.expectedTagsForBranches[this.currentEncounter?.name || ''] = [...currentTagsForBranch, ...this.getEncounterTags()];\r\n\r\n    this.validateTags(CAMPAIGNS[index].processedEncounters?.flat() || []);\r\n    this.partyManager().setPartyTension(25);\r\n    this.completedEventIndexes = [];\r\n    this.displayNewEncounter();\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n  getTagsForEncounter(encounter: Encounter): Tag[] {\r\n    let tagsForBranches = this.expectedTagsForBranches[encounter.name] || [];\r\n    let tags = [...encounter.tags, ...tagsForBranches];\r\n    return Array.from(new Set(tags));\r\n  }\r\n  setSessionState(state: SESSION_STATE) {\r\n    this.encounterState = {\r\n      sessionState: state,\r\n      eventIndex: 0,\r\n    }\r\n  }\r\n\r\n  getResolvedTagsForBranch() {\r\n    const currentBranchName = this.currentEncounter?.name || '';\r\n    return this.resolvedTagsForBranches[currentBranchName] || [];\r\n  }\r\n\r\n\r\n  validateTags(encounters: Encounter[]) {\r\n    // check that all tags are defined\r\n    for (let i = 0; i < encounters.length; i++) {\r\n      for (let j = 0; j < encounters[i].tags.length; j++) {\r\n        if (encounters[i].tags[j] === undefined) {\r\n          console.error(`Encounter ${encounters[i].name} tag ${j} is undefined`);\r\n        }\r\n      }\r\n      for (let j = 0; j < encounters[i].location.tags.length; j++) {\r\n        if (encounters[i].location.tags[j] === undefined) {\r\n          console.error(`Encounter ${encounters[i].name} location ${encounters[i].location.name} tag ${j} is undefined`);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // DM level\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  getDmLevel() {\r\n    return this.dmLevel;\r\n  }\r\n  addDmExp(amount: number) {\r\n    this.dmExperience += amount;\r\n    if (this.dmExperience >= 5) {\r\n      this.dmLevel++;\r\n      this.dmExperience = 0;\r\n    }\r\n    this.emit('dmScreenUpdated', this.dmExperience);\r\n  }\r\n\r\n  getDmExp() {\r\n    return this.dmExperience;\r\n  }\r\n\r\n\r\n\r\n\r\n  // ---------------------------------------------------------------------------------------------------------\r\n  // Encounter Progression\r\n  // ---------------------------------------------------------------------------------------------------------\r\n\r\n\r\n  getCompletedEvents() {\r\n    return this.completedEventIndexes;\r\n  }\r\n\r\n  getEncounterAdvanceReadinessText() {\r\n    const currentEncounterEstablished = (this.getExpectedEncounterTags().length === 0);\r\n    const branches = this.currentEncounter?.branches || [];\r\n    const someBranchesReady = branches.some(branch => this.getExpectedTagsForBranch(branch.name).length >= NB_EXPECTED_ENCOUNTER_TAGS - 1);\r\n    const allBranchesReady = branches.every(branch => this.getExpectedTagsForBranch(branch.name).length >= NB_EXPECTED_ENCOUNTER_TAGS - 1);\r\n    if (!currentEncounterEstablished) {\r\n      return 'Players will be confused. They expect more from the current encounter.';\r\n    }\r\n    if (!someBranchesReady) {\r\n      return 'Players don\\'t have enough information to choose what to do next.';\r\n    }\r\n    if (!allBranchesReady) {\r\n      return 'Players are ready to move on, but feel some choices are unclear.';\r\n    }\r\n    return 'Players are ready to move on.';\r\n\r\n  }\r\n\r\n  encounterEventSelected(eventIndex: number) {\r\n    if (this.encounterState === undefined) {\r\n      return;\r\n    }\r\n    if (this.completedEventIndexes.includes(eventIndex)) {\r\n      return;\r\n    }\r\n    this.appManager.state = APP_STATE.SESSION\r\n    this.completedEventIndexes.push(eventIndex);\r\n    this.encounterState.eventIndex = eventIndex;\r\n    this.appManager.getUiManager().updateEncounterState(this.encounterState);\r\n  }\r\n\r\n  getEncounterState() {\r\n    return this.encounterState;\r\n  }\r\n\r\n  getCurrentEvent() {\r\n    if (this.encounterState === undefined) {\r\n      return;\r\n    }\r\n    return this.currentEncounter?.events[this.encounterState.eventIndex];\r\n  }\r\n\r\n  backToOverview() {\r\n    if (this.encounterState === undefined) {\r\n      return;\r\n    }\r\n    this.appManager.state = APP_STATE.SESSION_OVERVIEW;\r\n\r\n    this.appManager.getUiManager().updateEncounterState(this.encounterState);\r\n\r\n  }\r\n\r\n\r\n  advanceEncounter(branch?: Encounter) {\r\n    const potentialBranches = this.currentEncounter?.branches || [];\r\n\r\n\r\n    // Would I ever have secret branches? \r\n    if (branch && potentialBranches.includes(branch)) {\r\n      this.currentEncounter = branch;\r\n    }\r\n    else {\r\n      const branchWithMoreExpectedTags =\r\n        potentialBranches.sort((a, b) => this.getExpectedTagsForBranch(b.name).length - this.getExpectedTagsForBranch(a.name).length)[1];\r\n      this.currentEncounter = branchWithMoreExpectedTags || potentialBranches[0];\r\n    }\r\n    this.resolvedTagsForBranches = {};\r\n    const currentEncounterBranches = this.currentEncounter?.branches || [];\r\n    this.resolvedTagsForBranches[this.currentEncounter.name] = [];\r\n\r\n\r\n\r\n\r\n    currentEncounterBranches.forEach(branch => {\r\n      this.expectedTagsForBranches[branch.name] = [];\r\n      this.resolvedTagsForBranches[branch.name] = [];\r\n    });\r\n\r\n    const currentTagsForBranch = this.expectedTagsForBranches[this.currentEncounter?.name || ''] || [];\r\n    this.expectedTagsForBranches[this.currentEncounter?.name || ''] = [...currentTagsForBranch, ...this.getEncounterTags()];\r\n\r\n    this.collectedLocationTags = [];\r\n\r\n    this.completedEventIndexes = [];\r\n    this.displayNewEncounter();\r\n    this.emit('encounterUpdated', this.themeCounts);\r\n    this.emit('dmScreenUpdated', this.themeCounts);\r\n  }\r\n\r\n\r\n  displayNewEncounter() {\r\n    //Show notebook for current encounter: \r\n    if (!this.currentEncounter) {\r\n      return;\r\n    }\r\n    this.appManager.getUiManager().showBasicNotebook(NOTEBOOK_CATEGORY.ENCOUNTER, this.currentEncounter)\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default CampaignManager;","import { PlayerTrait } from \"../models\";\n\nexport const PLAYER_TRAITS: Record<string, PlayerTrait> = {\n    TEAM_PLAYER: {\n        name: \"Team Player\",\n        description: \"+1 to all other players happiness\"\n    },\n    GRUMPY: { \n        name: \"Grumpy\",\n        description: \"-1 to all other players happiness\"\n    },\n    FORMER_DM: {\n        name: \"Former DM\",\n        description: \"Ignores personal LIKES and HATES when choosing encounters\"\n    },\n    MIN_MAXER: {\n        name: \"Min-Maxer\",\n        description: \"Gets a bonus to Combat encounters\"\n    },\n    ROLE_PLAYER: {\n        name: \"Role Player\",\n        description: \"Gets a bonus to Social encounters\"\n    },\n    LOGICIAN: {\n        name: \"Logician\",\n        description: \"Gets a bonus to Puzzle encounters\"\n    },\n    WEALTHY: {\n        name: \"Wealthy\",\n        description: \"Gives a bonus 20% reward at the end of a Campaign if Happy\"\n    },\n    BLOODTHIRSTY: {\n        name: \"Bloodthirsty\",\n        description: \"Gets x2 happiness from Combat encounters\"\n    }\n\n\n}","\r\nimport { ATTITUDE, Character, Player } from '../models';\r\nimport { CHARACTER_CLASS, RACE } from './general';\r\nimport { PLAYER_TRAITS } from './playerTraits';\r\nimport { TAG } from './tags';\r\n\r\n\r\n\r\n\r\nexport const QUICKSTART_CHARACTERS: Character[] = [\r\n    {\r\n        race: RACE.ELF,\r\n        character_class: CHARACTER_CLASS.WIZARD, \r\n        abilities: [],\r\n        level: 1,\r\n        name: 'Saul',\r\n        id: 0,\r\n        icon: 'elf_1',\r\n        gear: [],\r\n        backstory: [{\r\n            tag: {\r\n                name: 'Dark Gem',\r\n            },\r\n            completed: false,\r\n        }],\r\n       \r\n    },\r\n    {\r\n        race: RACE.HUMAN,\r\n        character_class: CHARACTER_CLASS.FIGHTER, \r\n        abilities: [],\r\n        level: 1,\r\n        name: 'Riker',\r\n        id: 1,\r\n        icon: 'human_1',\r\n        gear: [],\r\n        backstory: [],\r\n    },\r\n    {\r\n        race: RACE.HUMAN,\r\n        character_class: CHARACTER_CLASS.ROGUE, \r\n        abilities: [],\r\n        level: 1,\r\n        name: 'Godfrey',\r\n        id: 2,\r\n        icon: 'human_2',\r\n        gear: [],\r\n        backstory: []\r\n    }\r\n]\r\n\r\n\r\n\r\nexport const QUICKSTART_PLAYERS: Player[] = [\r\n    {\r\n        name: 'Matt W',\r\n        characters: [QUICKSTART_CHARACTERS[0]],\r\n        id: 0,\r\n        icon: 'player_1',\r\n        schedule: [10, 20, 30, 40, 50, 60, 70],\r\n        preferences:  [\r\n            [TAG.RACE.ELVES, ATTITUDE.LIKE],\r\n            [TAG.RACE.HUMANS, ATTITUDE.LIKE],\r\n            [TAG.MONSTERS.UNDEAD, ATTITUDE.LIKE],\r\n            [TAG.GAME.EXPOSITION, ATTITUDE.HATE],\r\n            [TAG.GAME.POLITICS, ATTITUDE.HATE],\r\n            [TAG.LOCATION.BRIDGES, ATTITUDE.LIKE],\r\n            [TAG.GAME.SOCIALIZING, ATTITUDE.LIKE],\r\n            [TAG.PROPS.BEER, ATTITUDE.LIKE],\r\n        ],\r\n        traits: [],\r\n        playerStats: {\r\n            stress: 0,\r\n            enjoyment: 1,\r\n            engagement: 25,\r\n            involvement: 3,\r\n            experience: 0,\r\n            level: 1,\r\n            maxEngagement: 5,\r\n            maxInvolvement: 5,\r\n            maxEnjoyment: 5,\r\n            stressBuffer: 10,\r\n          }\r\n    },\r\n    {\r\n        name: 'Dan A',\r\n        characters: [QUICKSTART_CHARACTERS[1]],\r\n        id: 1,\r\n        icon: 'player_2',\r\n        schedule: [10, 20, 30, 40, 50, 60, 70],\r\n        preferences:  [\r\n        \r\n            [TAG.RACE.HALFLINGS, ATTITUDE.LIKE],\r\n            [TAG.GAME.POLITICS, ATTITUDE.LIKE],\r\n            [TAG.LOCATION.TAVERNS, ATTITUDE.LIKE],\r\n            [TAG.MONSTERS.GOBLINS, ATTITUDE.HATE],\r\n            [TAG.GAME.EXPLORATION, ATTITUDE.LIKE],\r\n            [TAG.PROPS.BEER, ATTITUDE.LIKE],\r\n        \r\n        ],\r\n        traits: [],\r\n        playerStats: {\r\n            stress: 0,\r\n            enjoyment: 4,\r\n            engagement: 25,\r\n            involvement: 3,\r\n            experience: 0,\r\n            level: 1,\r\n            maxEngagement: 5,\r\n            maxInvolvement: 5,\r\n            maxEnjoyment: 5,\r\n            stressBuffer: 10,\r\n          }\r\n    },\r\n    {\r\n        name: 'Olivier B',\r\n        characters: [QUICKSTART_CHARACTERS[2]],\r\n        id: 2,\r\n        icon: 'player_3',\r\n        schedule: [10, 20, 30, 40, 50, 60, 70],\r\n        preferences:  [\r\n            [TAG.RACE.DWARVES, ATTITUDE.LIKE],\r\n            [TAG.RACE.HALFLINGS, ATTITUDE.LIKE],\r\n            [TAG.GAME.PUZZLES, ATTITUDE.LIKE],\r\n            [TAG.GAME.TRAVEL, ATTITUDE.LIKE],\r\n            [TAG.GAME.SOCIALIZING, ATTITUDE.LIKE],\r\n            [TAG.GAME.BORING_THINGS, ATTITUDE.HATE],\r\n            [TAG.PROPS.BEER, ATTITUDE.LIKE],\r\n        \r\n        ],\r\n        traits: [PLAYER_TRAITS.TEAM_PLAYER],\r\n        playerStats: {\r\n            stress: 0,\r\n            enjoyment: 3,\r\n            engagement: 25,\r\n            involvement: 3,\r\n            experience: 0,\r\n            level: 1,\r\n            maxEngagement: 5,\r\n            maxInvolvement: 5,\r\n            maxEnjoyment: 5,\r\n            stressBuffer: 10,\r\n          }\r\n    }\r\n]\r\n\r\n","import { LEVELUP_OPTION, MAX_CHARS_PER_PLAYER, PLAYER_EXP_LEVEL } from '../consts/general';\r\nimport { ATTITUDE, Character, ModalOption, Player, PREFERENCE, Tag } from '../models';\r\nimport { TAG } from '../consts/tags';\r\nimport { generateName } from '../utils/utils';\r\nimport { PLAYER_TRAITS } from '../consts/playerTraits';\r\nimport { QUICKSTART_PLAYERS } from '../consts/quickStart';\r\nimport UiManager from './uiManager';\r\nimport AppManager from './appManager';\r\nimport { channel } from 'diagnostics_channel';\r\nimport { ENEMIES } from '../consts/enemies';\r\nimport ChatManager from './chatManager';\r\nimport CharacterManager from './characterManager';\r\n\r\n\r\nconst CHANCE_FOR_PLAYER_TRAIT = 0.5;\r\n\r\n\r\n\r\n\r\n\r\nclass PlayerManager {\r\n  private recruitablePlayers: Player[];\r\n  private selectedPlayers: Player[];\r\n  private players: Player[];\r\n  private uniqueID: number = 0;\r\n  private _currentPlayerIndex: number = 0;\r\n  private appManager: AppManager;\r\n  private uiManager: UiManager | undefined;\r\n \r\n\r\n  constructor(appManager: AppManager) {\r\n    this.recruitablePlayers = [];\r\n    this.players = [];\r\n    this.selectedPlayers = [];\r\n    this.appManager = appManager;\r\n  }\r\n\r\n\r\n  getCurrentPlayer() {\r\n    return this.players.length === 0 ? undefined : this.players[this._currentPlayerIndex];\r\n  }\r\n\r\n  isCurrentPlayerLast() {\r\n    return this._currentPlayerIndex === this.players.length - 1;\r\n  }\r\n\r\n  init() {  \r\n      this.uiManager = this.appManager.getUiManager();\r\n      this.generateAvailablePlayers(8);\r\n  }\r\n  \r\n  stressPlayers(amount: number) {\r\n    \r\n    this.players.forEach((player) => {\r\n      player.playerStats.stress += amount;\r\n    });\r\n  \r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  getRecruitablePlayers() {\r\n    return this.recruitablePlayers;\r\n  }\r\n\r\n  setSelectedPlayers(selectedPlayers:number[]) {\r\n    this.selectedPlayers = this.recruitablePlayers.filter((_, index) => {\r\n      return selectedPlayers.includes(index);\r\n    });\r\n  }\r\n  \r\n  getPlayers() {\r\n    return this.players;\r\n  }\r\n\r\n  getSelectedPlayers() {\r\n    return this.selectedPlayers;\r\n  }\r\n\r\n  getPlayerById(id: number): Player | undefined {\r\n    return this.players.find((player) => player.id === id) || undefined;\r\n  }\r\n\r\n  getSelectedPlayerIds() {\r\n    return this.selectedPlayers.map((player) => player.id);\r\n  }\r\n\r\n  generateIcon() {\r\n    return \"player_\" + Math.ceil(Math.random() * 9.9);\r\n  }\r\n\r\n  generateSchedule() {\r\n    const schedule = [];\r\n    for(let i = 0; i<7; i++) {\r\n      schedule.push(Math.ceil(Math.random() * 100));\r\n    }\r\n    return schedule;\r\n  }\r\n\r\n  generateAvailablePlayers(nbPlayer: number) {\r\n    for(let p = 0; p<nbPlayer; p++){\r\n      const newPlayer: Player = {\r\n        name: generateName(false),\r\n        id: this.uniqueID++,\r\n        characters: [],\r\n        icon: this.generateIcon(),\r\n        schedule: this.generateSchedule(),\r\n        preferences: this.generatePreferences(),\r\n        traits: this.generatePlayerTraits(),\r\n        playerStats: {\r\n          stress: 50,\r\n          enjoyment: 3,\r\n          engagement: 50,\r\n          involvement: 3,\r\n          experience: 0,\r\n          level: 1,\r\n          maxEngagement: 5,\r\n          maxInvolvement: 5,\r\n          maxEnjoyment: 5,\r\n          stressBuffer: 10,\r\n        }\r\n      }\r\n      this.recruitablePlayers.push(newPlayer);\r\n    }\r\n  }\r\n\r\n  // This should be a campaign setting maaybe....\r\n  getMaxCharactersPerPlayer() {\r\n    return MAX_CHARS_PER_PLAYER;\r\n  }\r\n\r\n  acceptSelectedPlayers() {\r\n    this.players = this.selectedPlayers;\r\n  }\r\n\r\n  getPlayerWithAttitudeForTag(tag: Tag, attitude: ATTITUDE) {\r\n    \r\n    const playersWithAttitude = this.players.filter((player) => {\r\n      return player.preferences.some((pref) => pref[0].name === tag.name && pref[1] === attitude);\r\n    });\r\n    if(playersWithAttitude.length > 0) {\r\n      return playersWithAttitude[Math.floor(Math.random() * playersWithAttitude.length)];\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n\r\n  generatePlayerTraits() {\r\n    const allTraits = Object.values(PLAYER_TRAITS);\r\n    \r\n    if(Math.random() < CHANCE_FOR_PLAYER_TRAIT) {\r\n      const randomTrait = allTraits[Math.floor(Math.random() * allTraits.length)];\r\n      return [randomTrait];\r\n    }\r\n    return [];\r\n\r\n  }\r\n\r\n  generatePreferences(): [Tag, ATTITUDE][] {\r\n    const preferences: [Tag, ATTITUDE][] = [];\r\n\r\n    // Flatten the TAG object to get all tags\r\n    const allTags: Tag[] = Object.values(TAG).flatMap(category => Object.values(category));\r\n\r\n    // Filter tags with preference = PREFERENCE.START\r\n    const startTags = allTags.filter(tag => tag.preference === PREFERENCE.START);\r\n    const mainTags = allTags.filter(tag => tag.preference === PREFERENCE.MAIN);\r\n\r\n    // Select one main like and one main hate\r\n    if (startTags.length > 1) {\r\n      const mainLike = startTags.splice(Math.floor(Math.random() * startTags.length), 1)[0];\r\n      const mainHate = startTags.splice(Math.floor(Math.random() * startTags.length), 1)[0];\r\n      preferences.push([mainLike, ATTITUDE.LIKE]);\r\n      preferences.push([mainHate, ATTITUDE.HATE]);\r\n    }\r\n\r\n    // Function to get random likes and hates\r\n    const getRandomPreferences = (tags: Tag[], count: number, min: number, max: number) => {\r\n      const selectedPreferences: [Tag, ATTITUDE][] = [];\r\n      for (let i = 0; i < count; i++) {\r\n        const randomTag = tags[Math.floor(Math.random() * tags.length)];\r\n        const randomValue = Math.floor(Math.random() * (max - min + 1)) + min;\r\n        selectedPreferences.push([randomTag, randomValue]);\r\n      }\r\n      return selectedPreferences;\r\n    };\r\n\r\n    // Get 0-2 random likes and hates\r\n    const randomLikesCount = Math.floor(Math.random() * 3);\r\n    const randomHatesCount = Math.floor(Math.random() * 3);\r\n\r\n    const randomLikes = getRandomPreferences(mainTags, randomLikesCount, 1, 5);\r\n    const randomHates = getRandomPreferences(mainTags, randomHatesCount, -5, -1);\r\n\r\n    preferences.push(...randomLikes);\r\n    preferences.push(...randomHates);\r\n\r\n    return preferences;\r\n  }\r\n\r\n  exposeEncounterTag(tag: Tag) {\r\n    // Player's happiness will go up or down by 5 points depending on their attitude towards the tag\r\n    this.players.forEach((player) => {\r\n      const attitude = player.preferences.find((pref) => pref[0].name === tag.name);\r\n      if(attitude) {\r\n        player.playerStats.enjoyment = Math.max(Math.min(player.playerStats.maxEnjoyment, player.playerStats.enjoyment + attitude[1]), 0);\r\n      }\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n\r\n  toggleSinglePlayerForCharacter(player: Player, character: Character) {\r\n    if(player) {\r\n      if(player.characters.includes(character)) {\r\n        this.removeCharacterFromPlayer(player, character);\r\n      }else{\r\n        this.players.forEach((p) => {\r\n          if(p.characters.includes(character)) {\r\n            this.removeCharacterFromPlayer(p, character);\r\n          }\r\n        });\r\n      player.characters.push(character);\r\n     }\r\n    }\r\n  }\r\n\r\n  getPlayerAssignedCharacter(character: Character): Player | undefined {\r\n    let thePlayer: Player | undefined;\r\n    this.players.forEach((p) => {\r\n      if(p.characters.includes(character)) {\r\n        thePlayer = p;\r\n      }\r\n    });\r\n    return thePlayer;\r\n  }\r\n\r\n  assignCharactersToPlayer(player: Player, characters: Character[]) {\r\n    if(player) {\r\n     characters.forEach((character) => {\r\n        player.characters.push(character);\r\n      })\r\n    }\r\n  }\r\n\r\n  isCharacterAssigned(character: Character) {\r\n    return this.players.some((player) => player.characters.includes(character));\r\n  }\r\n\r\n  removeCharacterFromPlayer(player: Player, character: Character) {\r\n    if(player) {\r\n      const index = player.characters.indexOf(character);\r\n      if(index > -1) {\r\n        player.characters.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  aggregateSchedule() {\r\n    const dayData = [0, 0, 0, 0, 0, 0, 0];\r\n    this.selectedPlayers.forEach((player) => {\r\n      player.schedule.forEach((dayValue, index) => {\r\n        dayData[index] += dayValue/this.selectedPlayers.length;\r\n        dayData[index] = Math.ceil(dayData[index]);\r\n      });\r\n    });\r\n    return dayData;\r\n  }\r\n\r\n  \r\n  getGroupAttitudes(players: Player[] = this.selectedPlayers) {\r\n    const groupAttitudes: { [key: string]: ATTITUDE } = {};\r\n    players.forEach((player) => {\r\n      player.preferences.forEach((pref) => {\r\n        const tag = pref[0];\r\n        const feel = pref[1];\r\n        \r\n        if(groupAttitudes[tag.name]) {\r\n          switch(groupAttitudes[tag.name]) {\r\n            case ATTITUDE.LIKE:\r\n              if(feel < 0) {\r\n                groupAttitudes[tag.name] = ATTITUDE.CONFLICTED;\r\n              }\r\n              break;\r\n            case ATTITUDE.HATE:\r\n              if(feel > 0) {\r\n                groupAttitudes[tag.name] = ATTITUDE.CONFLICTED;\r\n              }\r\n              break;\r\n          }\r\n        } else {\r\n          groupAttitudes[tag.name] = feel < 0 ? ATTITUDE.HATE : ATTITUDE.LIKE;\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n  \r\n\r\n\r\n       const likes = Object.keys(groupAttitudes).map(key => {\r\n          if(groupAttitudes[key] === ATTITUDE.LIKE) return key\r\n          return ''\r\n        }\r\n       ).filter((e) => e !== '')\r\n\r\n       const hates = Object.keys(groupAttitudes).map(key => {\r\n        if(groupAttitudes[key] === ATTITUDE.HATE) return key\r\n        return ''\r\n      }\r\n     ).filter((e) => e !== '')\r\n\r\n     const conflicted = Object.keys(groupAttitudes).map(key => {\r\n      if(groupAttitudes[key] === ATTITUDE.CONFLICTED) return key\r\n      return ''\r\n    }\r\n   ).filter((e) => e !== '')\r\n\r\n\r\n    return {likes, hates, conflicted};\r\n  }\r\n\r\n  getGroupAttitudeForTag(players:Player[] ,tag: Tag) {\r\n    const groupAttitudes = this.getGroupAttitudes(players);\r\n    if(groupAttitudes.likes.includes(tag.name)) {\r\n      return ATTITUDE.LIKE;\r\n    } else if(groupAttitudes.hates.includes(tag.name)) {\r\n      return ATTITUDE.HATE;\r\n    } else if(groupAttitudes.conflicted.includes(tag.name)) {\r\n      return ATTITUDE.CONFLICTED;\r\n    }\r\n    return ATTITUDE.NEUTRAL;\r\n  }\r\n\r\n  getPartyAttitudeForTag(tag: Tag) {\r\n    return this.getGroupAttitudeForTag(this.players, tag);\r\n  }\r\n\r\n\r\n  // There are players in the group.\r\n  readyForGame() {\r\n    if(this.players.length === 0) return false;\r\n    let allPlayersHaveCharacter = true;\r\n    this.players.forEach((player) => {\r\n      if(player.characters.length === 0){\r\n        allPlayersHaveCharacter = false;\r\n      }\r\n    })\r\n    return allPlayersHaveCharacter; \r\n  }\r\n\r\n  initiateQuickStart() {\r\n    \r\n    this.recruitablePlayers = this.players = QUICKSTART_PLAYERS;\r\n  }\r\n\r\n  addPlayerExp(player: Player | undefined, amount: number) {\r\n   if(!player) return;\r\n      player.playerStats.experience += amount;\r\n      if(player.playerStats.experience >= this.expNeededForLevel(player.playerStats.level)) {\r\n        player.playerStats.level += 1;\r\n        player.playerStats.experience = 0;\r\n        console.log(\"player leveled up!!!!\");\r\n        this.appManager.getChatManager().dmMessage(`${player.name} learned something!`);\r\n        this.handleLevelUp(player);\r\n      }\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  expNeededForLevel(level: number) {\r\n    return PLAYER_EXP_LEVEL[level - 1] || 0;\r\n  }\r\n\r\n  getAllPlayerPreferences() {\r\n    const allPreferences: Tag[] = [];\r\n    this.players.forEach((player) => {\r\n      player.preferences.forEach((pref) => {\r\n        if(!allPreferences.includes(pref[0])) {\r\n          allPreferences.push(pref[0]);\r\n        }\r\n      });\r\n    });\r\n    return allPreferences;\r\n  }\r\n\r\n  getAllPlayerCharacters(): Character[] {\r\n    const allCharacters: Character[] = [];\r\n    this.players.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(!allCharacters.includes(character)) {\r\n          allCharacters.push(character);\r\n        }\r\n      });\r\n    });\r\n    return allCharacters;\r\n  }\r\n\r\n  getRandomPlayer() {\r\n    return this.players[Math.floor(Math.random() * this.players.length)];\r\n  }\r\n\r\n  getRandomCharacter(allowDead: boolean = false) {\r\n    const allCharacters = this.getAllPlayerCharacters();\r\n    if(allCharacters.length === 0) return undefined;\r\n    if(!allowDead) {\r\n      const aliveCharacters = allCharacters.filter((character) => !(character.injury === \"dead\"));\r\n      if(aliveCharacters.length === 0) return undefined;\r\n      return aliveCharacters[Math.floor(Math.random() * aliveCharacters.length)];\r\n    }\r\n    // If allowDead is true, return any character\r\n    return allCharacters[Math.floor(Math.random() * allCharacters.length)];\r\n  }\r\n\r\n\r\n  getRandomCharacterForPlayer(player: Player, allowDead: boolean = false) {\r\n    if(!player) return undefined;\r\n    if(player.characters.length === 0) return undefined;\r\n    if(!allowDead) {\r\n      const aliveCharacters = player.characters.filter((character) => !(character.injury === \"dead\"));\r\n      if(aliveCharacters.length === 0) return undefined;\r\n      return aliveCharacters[Math.floor(Math.random() * aliveCharacters.length)];\r\n    }\r\n    // If allowDead is true, return any character\r\n    return player.characters[Math.floor(Math.random() * player.characters.length)];\r\n  }\r\n  \r\n  refreshPlayer(player: Player) {\r\n    if(player) {\r\n      player.playerStats.involvement = player.playerStats.maxInvolvement;\r\n      player.playerStats.enjoyment = player.playerStats.maxEnjoyment;\r\n      player.playerStats.stress = 0;\r\n    }\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  // player levelups give 1,2 or 3 points to either involvement, or enjoyment, or +5, +10, or +25 to stress buffer\r\n  getPlayerLevelUpOption(player: Player) {\r\n    let levelUpOption: ModalOption;\r\n\r\n    const randomStat = Math.floor(Math.random() * 3) + 1; // 1 for enjoyment, 2 for involvement, 3 for stress\r\n    const level = (() => {\r\n      const rand = Math.random();\r\n      if (rand < 0.5) return 1; // 50% chance\r\n      if (rand < 0.9) return 2; // 40% chance\r\n      return 3; // 10% chance\r\n    })();\r\n    const className =  (level === 1 ? 'common' : level === 2 ? 'rare' : 'legend');\r\n    if (randomStat === 1) { // enjoyment\r\n      levelUpOption = {\r\n        id: LEVELUP_OPTION.MAX_HAPPINESS,\r\n        title: (level === 1 ? '' : level === 2 ? 'Better ' : 'Great ') + 'Happiness',\r\n        description: `+${level} max Enjoyment`,\r\n        icon: '',\r\n        level: level,\r\n        class: className,\r\n        callback: () => {\r\n          player.playerStats.maxEnjoyment += level;\r\n          this.uiManager?.updateParty();\r\n        }\r\n      };\r\n    } else if(randomStat === 2) { // involvement\r\n      levelUpOption = {\r\n        id: LEVELUP_OPTION.MAX_ATTENTION,\r\n        title: (level === 1 ? '' : level === 2 ? 'Better ' : 'Great ') + 'Attention',\r\n        description: `+${level} max Attention`,\r\n        icon: '',\r\n        level: level,\r\n        class: className,\r\n        callback: () => {\r\n          player.playerStats.maxInvolvement += level;\r\n          this.uiManager?.updateParty();\r\n        }\r\n      };\r\n    } else {\r\n      levelUpOption = {\r\n        id: LEVELUP_OPTION.STRESS_BUFFER,\r\n        title: (level === 1 ? '' : level === 2 ? 'Better ' : 'Great ') + 'Stress Proof',\r\n        description: `+${level * 5} Stress Buffer/Reduce`,\r\n        icon: '',\r\n        class: className,\r\n        callback: () => {\r\n          player.playerStats.stressBuffer += level * 5;\r\n          player.playerStats.stress = Math.max(0, player.playerStats.stress - level * 5);\r\n          this.uiManager?.updateParty();\r\n        }\r\n      };\r\n    }\r\n\r\n    return levelUpOption;\r\n  }\r\n\r\n  //This will eventully provide player traits but for now I want it to just generae a random chataracter and offer it as a level up option\r\n  getFancyLevelUpOption(player: Player) {\r\n    const randomCharacter = this.appManager.getCharacterManager().generateRandomCharacter(1)\r\n    const levelUpOption: ModalOption = {\r\n      id: LEVELUP_OPTION.CHARACTER,\r\n      title: 'New Character',\r\n      description: `Get ${randomCharacter.name}`,\r\n      icon: `${randomCharacter.icon}`,\r\n      class: 'level-up-option-character',\r\n      callback: () => {\r\n        player.characters.push(randomCharacter);\r\n        this.uiManager?.updateParty();\r\n        \r\n      }\r\n    };\r\n    return levelUpOption;\r\n  }\r\n\r\n\r\n\r\nhandleLevelUp(player: Player) {\r\n  const levelUpOptions: ModalOption[] = []\r\n\r\n  // Option to waive level up in favor of replenishing happiness, attention, and reducing stress. \r\n  levelUpOptions.push({\r\n    id: LEVELUP_OPTION.REFRESH,\r\n    title: 'Refresh',\r\n    description: 'Fill Attitude, Attention. Reduce Stress.',\r\n    icon: '',\r\n\r\n    callback: () => this.refreshPlayer(player)\r\n  });\r\n\r\n  // get mid level up option\r\n  levelUpOptions.push(this.getPlayerLevelUpOption(player));\r\n\r\n  // get end level up option\r\n  levelUpOptions.push(this.getFancyLevelUpOption(player));\r\n\r\n\r\n  this.uiManager?.showModal({\r\n    title: player.name + ' Level Up!',\r\n    options: levelUpOptions,\r\n    onClose: () => console.log('Modal closed'),\r\n    type: 'levelup',\r\n  });\r\n}\r\n\r\n}\r\n\r\nexport default PlayerManager;\r\n\r\n\r\n","\nclass SessionManager {\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n\n  }\n\n  startSession() {\n    console.log('Starting session...');\n    // Logic to guide players through the graph\n  }\n\n  // Other methods to manage sessions\n}\n\nexport default SessionManager;","import EventEmitter from 'events';\r\nimport { Character, HeroCombatant, Player, Tag } from '../models';\r\nimport AppManager from './appManager';\r\nimport CampaignManager from './campaignManager';\r\nimport CharacterManager from './characterManager';\r\nimport DataManager from './dataManager';\r\nimport PlayerManager from './playerManager';\r\nimport UiManager from './uiManager';\r\n\r\nclass PartyManager extends EventEmitter {\r\n\r\n  private dataManager: DataManager | undefined;\r\n  private appManager: AppManager | undefined;\r\n  private characterManager: CharacterManager | undefined;\r\n  private campaignManager: CampaignManager | undefined;\r\n  private playerManager: PlayerManager | undefined;\r\n  private uiManager: UiManager | undefined;\r\n  private partyScore: number = 0;\r\n  private partyTension: number = 0;\r\n  private treasureLevel: number = 0;\r\n  private treasurePoints: number = 0;\r\n  partyExhaustion: number = 0;\r\n\r\n  \r\n  private stressColors = ['#FFB347', '#FFDF80', '#FFDF80', '#B2FF66', '#B2FF66', '#B2FF66', '#66FF66', '#FF7043', '#FF7043', '#FF6666'];\r\n  constructor(appManager: AppManager) {\r\n    super();\r\n    setTimeout(() => {\r\n      this.appManager = appManager;\r\n      this.dataManager = appManager.getDataManager();\r\n      this.characterManager = appManager.getCharacterManager();\r\n      this.campaignManager = appManager.getCampaignManager();\r\n      this.playerManager = appManager.getPlayerManager();\r\n      this.uiManager = appManager.getUiManager();\r\n    }, 0);\r\n\r\n  }\r\n\r\n  perceptionEventReveal(character: Character) {\r\n    // We need to bump the player's engagement, and decreae all other players engamgement\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      if(player.characters.includes(character)) {\r\n        player.playerStats.engagement = Math.min(player.playerStats.maxEngagement, Math.max(player.playerStats.engagement + 1, 0));\r\n      } else {\r\n        player.playerStats.engagement = Math.min(player.playerStats.maxEngagement, Math.max(player.playerStats.engagement - 1, 0));\r\n\r\n      }\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n \r\n  getPartyStrength() {\r\n    const players = this.playerManager?.getPlayers();\r\n    // sum the levels for now\r\n    let strength = 0;\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character) {\r\n          strength += character.level;\r\n        }\r\n      });\r\n    });\r\n    return strength;\r\n  }\r\n\r\n  playersTakeAction(playersAttended?: string[], reduceAllOthers = true, addAmount = 1) {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      if(playersAttended?.includes(player.name)) {\r\n        player.playerStats.involvement = Math.min(player.playerStats.involvement + addAmount, player.playerStats.maxInvolvement );\r\n        this.playerManager?.addPlayerExp(player, addAmount);\r\n      }\r\n      else if(reduceAllOthers) {\r\n       this.updateAttention(player, -addAmount);\r\n      }\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  updateAllAttention(amount: number) {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n\r\n      this.updateAttention(player, amount);\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  updateAttention(player: Player, amount: number) {\r\n    if(player) {\r\n      if(amount < 0 && player.playerStats.involvement === 0) {\r\n        player.playerStats.enjoyment = Math.max(player.playerStats.enjoyment - 1, 0);\r\n      }\r\n      player.playerStats.involvement = Math.max(0, Math.min(player.playerStats.involvement + amount, player.playerStats.maxInvolvement));\r\n    }\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  multiplyPartyTension(amount: number) {\r\n    // const players = this.playerManager?.getPlayers();\r\n    // players?.forEach((player) => {\r\n    //   player.playerStats.stress *= amount;\r\n    // });\r\n    this.partyTension *= amount;\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  addPartyTension(amount: number) { \r\n    // const players = this.playerManager?.getPlayers();\r\n    // players?.forEach((player) => {\r\n    //   player.playerStats.stress += amount;\r\n    // });\r\n\r\n    this.partyTension += amount;\r\n    if(this.partyTension > 100) {\r\n      this.partyTension = 100;\r\n    }\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  setPartyTension(amount: number) {\r\n    // const players = this.playerManager?.getPlayers();\r\n    // players?.forEach((player) => {\r\n    //   player.playerStats.stress = amount;\r\n    // });\r\n    this.partyTension = amount;\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  takeBreak() {\r\n    this.partyTension = this.partyTension * 0.5;\r\n    // note, this will not affect the mood. \r\n    this.updateAllAttention(-2);\r\n    this.partyExhaustion = this.partyExhaustion * 0.5;\r\n    this.emit('dmScreenUpdated', this.partyExhaustion);\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  getPartyExhaustion() {\r\n    return this.partyExhaustion;\r\n  }\r\n  \r\n  exhaustParty(amount:  number) {\r\n    this.partyExhaustion += amount;\r\n    this.emit('dmScreenUpdated', this.partyExhaustion);\r\n  }\r\n  addPartyEngagement(amount: number) {  \r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      player.playerStats.engagement = Math.min(player.playerStats.maxEngagement, Math.max(player.playerStats.engagement + amount, 0));\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  addPartyScore(amount: number) {\r\n    this.partyScore += amount * this.getTensionScoreMultiplier();\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  getPartyScore() {\r\n    return this.partyScore;\r\n  }\r\n\r\n\r\n  addInjury(character: Character): string {\r\n    if(!character) { \r\n      return ' invalid';\r\n    }\r\n    character.injury = character.injury === 'injured' ? 'dead' : 'injured';\r\n\r\n\r\n    const player = this.playerManager?.getPlayerAssignedCharacter(character);\r\n    if(player){\r\n      if(character.injury === 'injured') {\r\n        player.playerStats.enjoyment = Math.max(player.playerStats.enjoyment - 1, 0);\r\n      }else{\r\n        player.playerStats.enjoyment = Math.max(player.playerStats.enjoyment - 1, 0);\r\n      }\r\n    }\r\n\r\n\r\n    this.uiManager?.updateParty();\r\n    return character.injury;\r\n  }\r\n\r\n  addEnjoyment(player: Player, amount: number) {\r\n    if(player) {\r\n      player.playerStats.enjoyment = Math.min(player.playerStats.maxEnjoyment, Math.max(player.playerStats.enjoyment + amount, 0));\r\n      this.uiManager?.updateParty();\r\n    }\r\n  }\r\n\r\n  getTreasureLevel() { \r\n    return this.treasureLevel;\r\n  }\r\n\r\n  getTreasurePoints() {\r\n    return this.treasurePoints;\r\n  }\r\n\r\n  getTreasureThreshold(level: number): number {\r\n    return level + 1;\r\n  };\r\n  \r\n\r\n  addTreasurePoints(points: number) {\r\n    this.treasurePoints += points;\r\n    while (this.getTreasureThreshold(this.treasureLevel + 1) <= this.treasurePoints) {\r\n      this.treasureLevelUp(this.treasureLevel);\r\n      this.treasureLevel++;\r\n      this.treasurePoints = 0;\r\n      \r\n    }\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n\r\n  treasureLevelUp(level: number) {\r\n    const reward = this.getTreasureReward(level);\r\n    if(reward.type === 'score') {\r\n      this.addPartyScore(reward.value);\r\n    } else {\r\n      const players = this.playerManager?.getPlayers();\r\n      players?.forEach((player) => {\r\n        player.playerStats.enjoyment = Math.min(player.playerStats.maxEnjoyment, player.playerStats.enjoyment + reward.value);\r\n      });\r\n    }\r\n  }\r\n\r\n  getTreasureReward = (level: number) => {\r\n    if(level % 2 === 0) {\r\n      return { type: 'attitude', value: 1 };\r\n    }\r\n    return { type: 'score', value: 5 * (level+1) };\r\n  };\r\n\r\n  addPartyEnjoyment(amount: number) {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      player.playerStats.enjoyment = Math.min(player.playerStats.maxEnjoyment, Math.max(player.playerStats.enjoyment + amount, 0));\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  replenishTools(character: Character, amount?: number) {\r\n    if(!character.attributeLoss || !character.attributeLoss.tools) {\r\n      return;\r\n    }\r\n\r\n    if(!amount) {\r\n      amount = character.attributeLoss.tools;\r\n    }\r\n\r\n    character.attributeLoss.tools = Math.max(0, character.attributeLoss.tools - amount);\r\n    character.attributeLoss.tools = 0;\r\n  } \r\n\r\n  replenishPartyTools() {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character && character.attributeLoss) {\r\n          character.attributeLoss.tools = 0;\r\n        }\r\n      });\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n\r\n  healRandomCharacter() {\r\n    const players = this.playerManager?.getPlayers();\r\n    const injuredCharacters: Character[] = [];\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character && character.injury) {\r\n          injuredCharacters.push(character);\r\n        }\r\n      });\r\n    });\r\n    if(injuredCharacters.length === 0) {\r\n      return;\r\n    }\r\n    const randomIndex = Math.floor(Math.random() * injuredCharacters.length);\r\n    const character = injuredCharacters[randomIndex];\r\n    character.injury = undefined;\r\n  }\r\n\r\n  healParty() {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character) {\r\n          character.injury = undefined;\r\n        }\r\n      });\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  healCharacter(character: Character) {\r\n    if(!character) {\r\n      return;\r\n    }\r\n    character.injury = undefined;\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  raiseRandomFromDead() {\r\n    const players = this.playerManager?.getPlayers();\r\n    const deadCharacters: Character[] = [];\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character && character.injury === 'dead') {\r\n          deadCharacters.push(character);\r\n        }\r\n      });\r\n    });\r\n    if(deadCharacters.length === 0) {\r\n      return;\r\n    }\r\n    const randomIndex = Math.floor(Math.random() * deadCharacters.length);\r\n    const character = deadCharacters[randomIndex];\r\n    character.injury = undefined;\r\n  }\r\n\r\n  replenishPartyMagic() {\r\n    const players = this.playerManager?.getPlayers();\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character && character.attributeLoss) {\r\n          character.attributeLoss.magic = 0;\r\n        }\r\n      });\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n  replenishMagic(character: Character, amount?: number) {\r\n    if(!character.attributeLoss \r\n      || !character.attributeLoss.magic\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if(!amount) {\r\n      amount = character.attributeLoss.magic;\r\n    }\r\n    character.attributeLoss.magic = Math.max(0, character.attributeLoss.magic - amount);\r\n\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n  levelUpLowestCharacter() {\r\n    const players = this.playerManager?.getPlayers();\r\n    let lowestLevel = 100;\r\n    let lowestCharacter: Character | undefined;\r\n    players?.forEach((player) => {\r\n      player.characters.forEach((character) => {\r\n        if(character && character.level < lowestLevel) {\r\n          lowestLevel = character.level;\r\n          lowestCharacter = character;\r\n        }\r\n      });\r\n    });\r\n    if(lowestCharacter) {\r\n      lowestCharacter.level += 1;\r\n    }\r\n  }\r\n\r\n  levelUp(character: Character) {\r\n    if(character) {\r\n      character.level += 1;\r\n    }\r\n  }\r\n\r\n  //stress action\r\n  //any action which will cause stress to increase when tension is high\r\n  stressAction(affectedPlayers? : Player[]) {\r\n    const players = this.playerManager?.getPlayers();\r\n    const stressIncrease = this.getStressIncrease(this.partyTension) || 0;\r\n    players?.forEach((player) => {\r\n      if(!affectedPlayers || affectedPlayers.includes(player)) {\r\n       player.playerStats.stress = Math.min(100, player.playerStats.stress + stressIncrease);\r\n      }\r\n    });\r\n    this.uiManager?.updateParty();\r\n  }\r\n\r\n\r\n\r\n    // Make a unified wrapper for both hero and NPCs for the display. \r\n   generateHeroes(npcs: Tag[]) {\r\n\r\n      const heroCombatants: HeroCombatant[] = [];\r\n      npcs.forEach((npc) => {\r\n        const heroCombatant: HeroCombatant = {\r\n          npcTag: npc,\r\n          icon: `combat_${npc.name}`,\r\n          name: npc.name,\r\n        };\r\n        heroCombatants.push(heroCombatant);\r\n      });\r\n     \r\n      const characters = this.characterManager?.getPlayerCharacters();\r\n      characters?.forEach((character) => {\r\n        const heroCombatant: HeroCombatant = {\r\n          character: character,\r\n          icon: character.icon,\r\n          name: character.name,\r\n        };\r\n        heroCombatants.push(heroCombatant);\r\n      });\r\n\r\n\r\n      return heroCombatants;\r\n    }\r\n\r\n    getPartyTension() {\r\n     return this.partyTension;\r\n    }\r\n\r\n    private tensionDescriptions = [\r\n      { max: 10, description: \"Too Low\", scoreMultiplier: 0, stressIncrease: 0 },\r\n      { max: 30, description: \"Very Low\", scoreMultiplier: 0.5, stressIncrease: 0 },\r\n      { max: 60, description: \"Good\", scoreMultiplier: 1, stressIncrease: 0 },\r\n      { max: 70, description: \"Perfect!\", scoreMultiplier: 2, stressIncrease: 0 },\r\n      { max: 90, description: \"Stress\", scoreMultiplier: 1, stressIncrease: 5 },\r\n      { max: 100, description: \"High Stress\", scoreMultiplier: 1, stressIncrease: 10 },\r\n      { max: Infinity, description: \"Impossible\", scoreMultiplier: 0, stressIncrease: 20 }\r\n    ];\r\n\r\n    getTensionScoreMultiplier() {\r\n      for (const tension of this.tensionDescriptions) {\r\n        if (this.partyTension <= tension.max) {\r\n          return tension.scoreMultiplier;\r\n        }\r\n      }\r\n      return 0;\r\n    }\r\n\r\n    getTensionDescription(value: number) {\r\n      for (const tension of this.tensionDescriptions) {\r\n        if (value <= tension.max) {\r\n          return tension.description;\r\n        }\r\n      }\r\n      return \"Unknown Tension\";\r\n    }\r\n\r\n    getTensionDescription2(value: number) {\r\n      let mult = 0;\r\n      for (const tension of this.tensionDescriptions) {\r\n        if (value <= tension.max) {\r\n          mult = tension.scoreMultiplier;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(mult === 0) {\r\n        return \"none\";\r\n      }if(mult === 0.5) {\r\n        return \"1/2\";\r\n      }if(mult === 1) {\r\n        return \"normal\";\r\n      }\r\n      return `x${mult}`;\r\n    }\r\n\r\n    getScoreMultiplier(value: number) {\r\n      for (const tension of this.tensionDescriptions) {\r\n      if (value <= tension.max) {\r\n        return tension.scoreMultiplier;\r\n      }\r\n      }\r\n    }\r\n\r\n    getStressIncrease(value: number) {\r\n      for (const tension of this.tensionDescriptions) {\r\n        if (value <= tension.max) {\r\n          return tension.stressIncrease;\r\n        }\r\n      }\r\n      return 0;\r\n    }\r\n\r\n    getStressColors() {\r\n      return this.stressColors;\r\n    }\r\n\r\n}\r\n\r\nexport default PartyManager;","import { Character, Encounter, NOTEBOOK_CATEGORY, NotebookState, Player, Location, TutorialStep, ChatSpeaker, CHAT_TYPE, EncounterState, ATTITUDE, Tag, ModalConfig } from \"../models\";\r\nimport { EventEmitter } from 'events';\r\nimport AppManager from \"./appManager\";\r\nimport PlayerManager from \"./playerManager\";\r\nimport CharacterManager from \"./characterManager\";\r\n\r\nclass UiManager extends EventEmitter {\r\n  private appManager: AppManager;\r\n  private playerManager: PlayerManager;\r\n  private characterManager: CharacterManager;\r\n  public renderImageForEvent: boolean = true;\r\n  public eventImageOpacity: number = 0;\r\n  private activeModal: ModalConfig | null = null;\r\n\r\n  constructor(appManager: AppManager) {\r\n    super();\r\n    this.init();\r\n    this.appManager = appManager;\r\n    this.playerManager = this.appManager.getPlayerManager();\r\n    this.characterManager = this.appManager.getCharacterManager();\r\n  }\r\n\r\n  showModal(config: ModalConfig) {\r\n    this.activeModal = config;\r\n    this.emit('modalStateChanged', this.activeModal);\r\n  }\r\n\r\n  closeModal() {\r\n    if (this.activeModal?.onClose) {\r\n      this.activeModal.onClose();\r\n    }\r\n    this.activeModal = null;\r\n    this.emit('modalStateChanged', null);\r\n  }\r\n\r\n  \r\n  handleModalOptionSelected(optionId: string) {\r\n    const option = this.activeModal?.options.find((opt: { id: string; }) => opt.id === optionId);\r\n    if (option) {\r\n      option.callback();\r\n      this.closeModal();\r\n    }\r\n  }\r\n\r\n\r\n  // TODO: Put all this in some kinda message thinger\r\n  closeNotebook() {\r\n    this.emit('setNotebookState', undefined);\r\n  }\r\n  closeTutorial() {\r\n    this.closeNotebook();\r\n  }\r\n\r\n  updateEncounterState(encounterState: EncounterState) {\r\n    this.emit('updateEncounterState', encounterState);\r\n  }\r\n\r\n  showNotebook(newNotebookStateArray: NotebookState[]) {\r\n    this.emit('setNotebookState', newNotebookStateArray)\r\n  }\r\n\r\n  removePlayer(player: Player) {\r\n    this.emit('removePlayer', player);\r\n  }\r\n\r\n  getEventIcon(eventType: string) {\r\n    return `event_${eventType}`;\r\n}   \r\n\r\n  showTutorialPage(page: number) {\r\n    this.emit('setTutorialPage', page);\r\n  }\r\n\r\n  changeEventTimer(time: number) {\r\n\r\n    this.emit('setupTimeChange', time);\r\n  }\r\n\r\n\r\n  showRewardModal(rewards: number, advanceEvent: boolean) {\r\n    this.emit('showRewardModal', rewards, advanceEvent);\r\n  }\r\n\r\n  toggleImageForEvent() {\r\n    this.renderImageForEvent = !this.renderImageForEvent;\r\n    this.emit('eventUpdated');\r\n  }\r\n\r\n\r\n\r\n  getMessageIconId(speaker: ChatSpeaker) {\r\n    let iconId;\r\n    switch(speaker.type) {\r\n      case CHAT_TYPE.PLAYER:\r\n        const player = this.playerManager.getRecruitablePlayers()[speaker.id]; \r\n        iconId = player.icon;\r\n        break;\r\n      case CHAT_TYPE.CHARACTER:\r\n        const character = this.characterManager.getCharacterById(speaker.id);\r\n        iconId = character.icon;\r\n        break;\r\n      case CHAT_TYPE.DM:\r\n        iconId = 'chat_dm';\r\n        break;\r\n      case CHAT_TYPE.HELPER:\r\n      default:\r\n        iconId = 'chat_imp';\r\n        break;\r\n    }\r\n    return iconId;\r\n  }\r\n\r\n  getMessageSpeakerName(speaker: ChatSpeaker) {\r\n    let name;\r\n    switch(speaker.type) {\r\n      case CHAT_TYPE.PLAYER:\r\n        const player = this.playerManager.getRecruitablePlayers()[speaker.id]; \r\n        name = player.name;\r\n        break;\r\n      case CHAT_TYPE.CHARACTER:\r\n        const character = this.characterManager.getCharacterById(speaker.id);\r\n        name = character.name;\r\n        break;\r\n      case CHAT_TYPE.DM:\r\n        name = 'You';\r\n        break;\r\n      case CHAT_TYPE.HELPER:\r\n      default:\r\n        name = 'Impy';\r\n        break;\r\n    }\r\n    return name;\r\n  }\r\n\r\n  getShortenedName(name: string) {\r\n    return name.split(' ').map((n) => n[0]).join('');\r\n  }\r\n\r\n  showImageForEvent() {\r\n    return this.renderImageForEvent;\r\n  }\r\n\r\n  setEventImageOpacity(opacity: number) {\r\n    this.eventImageOpacity = opacity;\r\n    this.emit('eventUpdated'); \r\n    }\r\n\r\n  getEventImageOpacity() {\r\n    return this.eventImageOpacity;\r\n  }\r\n\r\n  getHeroFirstName(charName: string) {\r\n    return charName.split(' ')[0];\r\n  }\r\n  \r\n\r\n\r\n  showBasicNotebook(category: string, item: Character | Encounter | Location | Player, startPage: number = 0) {\r\n    let content;\r\n    let notebookTitle ='';\r\n    \r\n    let secondaryEntries = []\r\n    \r\n    // We might need to add more to this payload...? This might be unneccesary I dont know. I also dont\r\n    // know how to spell unessecary. \r\n    switch(category){\r\n      case NOTEBOOK_CATEGORY.CHARACTER:\r\n        content = {character: item as Character};\r\n        notebookTitle = content.character.name;\r\n        let playerInfo = this.playerManager.getPlayerAssignedCharacter(content.character)\r\n        if(playerInfo) {\r\n          secondaryEntries.push({\r\n            category: NOTEBOOK_CATEGORY.PLAYER,\r\n            content: {\r\n              player: playerInfo,\r\n              message: ''\r\n            },\r\n            title: playerInfo.name\r\n          })\r\n        }\r\n      break;\r\n      case NOTEBOOK_CATEGORY.LOCATION:\r\n        content = {location: item as Location};\r\n        notebookTitle = content.location.name\r\n      break;\r\n      case NOTEBOOK_CATEGORY.ENCOUNTER:\r\n        content = {encounter: item as Encounter};\r\n        notebookTitle = content.encounter.name;\r\n        secondaryEntries.push({\r\n          category: NOTEBOOK_CATEGORY.LOCATION,\r\n          content: {location: content.encounter.location},\r\n          title: content.encounter.location.name\r\n        })\r\n      break;\r\n      case NOTEBOOK_CATEGORY.PLAYER:\r\n        content = {player: item as Player};\r\n        notebookTitle = content.player.name;\r\n        //const characterManager = this.appManager.getCharacterManager();\r\n\r\n        content.player.characters.forEach((character) => {\r\n       \r\n        secondaryEntries.push({\r\n          category: NOTEBOOK_CATEGORY.CHARACTER,\r\n          content: {\r\n            character: character,\r\n            message: ''\r\n          },\r\n          title: character.name\r\n        })\r\n      });\r\n\r\n      break;\r\n      default:\r\n        console.error(\"BAD SHOW BASIC NOTEBOOK CALLED\")\r\n        return;\r\n    }\r\n    const notebookState: NotebookState = {\r\n      category,\r\n      content: content,\r\n      title: notebookTitle,\r\n    } \r\n\r\n    if(secondaryEntries.length > 0) {\r\n      this.showNotebook([notebookState, ...secondaryEntries])\r\n    } else {\r\n      this.showNotebook([notebookState])\r\n    }\r\n\r\n  }\r\n\r\n\r\n  showTutorialMessage(tutorialStep: TutorialStep) {\r\n    const notebookState: NotebookState = {\r\n      category: NOTEBOOK_CATEGORY.TUTORIAL,\r\n      content: {\r\n        message: tutorialStep.content[0],\r\n        showNext:  tutorialStep.content.length > 1 ? 1 : undefined,\r\n        icon: tutorialStep.icons ? tutorialStep.icons[0] : undefined,\r\n        title: tutorialStep.title\r\n      },\r\n      title: tutorialStep.title,\r\n    }\r\n    const secondaryEntries = tutorialStep.content.slice(1).map((content, index) => {\r\n      return {\r\n        category: NOTEBOOK_CATEGORY.TUTORIAL,\r\n        content: {\r\n          message: content,\r\n          showNext: index < tutorialStep.content.length - 2 ? index + 2 : undefined,\r\n          showPrev:  index,\r\n          icon: tutorialStep.icons ? tutorialStep.icons[index + 1] : undefined,\r\n          title: tutorialStep.title\r\n        },\r\n        title: tutorialStep.title,\r\n      }\r\n    })\r\n  \r\n    if(secondaryEntries.length > 0) {\r\n      this.showNotebook([notebookState, ...secondaryEntries])\r\n    } else {\r\n      this.showNotebook([notebookState])\r\n    }\r\n\r\n  }\r\n\r\n  getPlayerAttitudesStyle(tag: Tag) {\r\n    const playerAttitudes = this.playerManager.getGroupAttitudeForTag(this.playerManager.getPlayers(), tag);\r\n    switch(playerAttitudes) {\r\n      case ATTITUDE.LIKE:\r\n        return 'player-like';\r\n      case ATTITUDE.CONFLICTED:\r\n        return 'player-conflicted';\r\n      case ATTITUDE.HATE:\r\n        return 'player-hate';\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  updateParty() {\r\n    \r\n    this.emit('playerUpdate');\r\n  }\r\n\r\n\r\n  showAcceptCampaignModal(campaignID: number) {\r\n    console.log('showing accept campaign modal...');\r\n  }\r\n\r\n  init() {\r\n    console.log('init uiManager...');\r\n    // Logic to guide players through the graph\r\n  }\r\n\r\n  update(timeDt: number) {\r\n   // this.updateColorLerps(timeDt);\r\n  }\r\n\r\n  static getPlayerEmail(playerName: string) {\r\n    const seed = this.hashString(playerName);\r\n    const random = this.seededRandom(seed);\r\n    const email = `${playerName.replace(' ', '.').toLowerCase()}${this.randomDigit(random)}${this.randomDigit(random)}${this.randomDigit(random)}@gmail.com`;\r\n    return email;\r\n  }\r\n\r\n    static getPlayerPhone(playerName: string) {\r\n      const seed = this.hashString(playerName);\r\n      const random = this.seededRandom(seed);\r\n      const phoneNumber = `(${this.randomDigit(random)}${this.randomDigit(random)}${this.randomDigit(random)}) ${this.randomDigit(random)}${this.randomDigit(random)}${this.randomDigit(random)}-${this.randomDigit(random)}${this.randomDigit(random)}${this.randomDigit(random)}${this.randomDigit(random)}`;\r\n      return phoneNumber;\r\n    }\r\n\r\n   private static hashString(str: string): number {\r\n      let hash = 0;\r\n      for (let i = 0; i < str.length; i++) {\r\n        const char = str.charCodeAt(i);\r\n        hash = (hash << 5) - hash + char;\r\n        hash |= 0; // Convert to 32bit integer\r\n      }\r\n      return hash;\r\n    }\r\n\r\n    private static seededRandom(seed: number): () => number {\r\n      return function() {\r\n        const x = Math.sin(seed++) * 10000;\r\n        return x - Math.floor(x);\r\n      };\r\n    }\r\n\r\n    private static randomDigit(random: () => number): number {\r\n      return Math.floor(random() * 10);\r\n    }\r\n  }\r\n\r\n\r\n  // Other methods to manage sessions\r\n\r\n\r\nexport default UiManager;","import { APP_STATE, DEFAULT_STATE_CONFIG, STATE_CONFIG } from \"../consts/states\";\nimport { StateConfig, Graph } from \"../models\";\nimport AppManager from \"./appManager\";\n\nclass DataManager {\n\n  // Should this LIVE here? :thinking: \n  campaignGraph: Graph | undefined;\n  stateConfigs: Map<APP_STATE, StateConfig> = new Map();\n  appManager: AppManager;\n\n  getGraph() : Graph | undefined {  \n    return this.campaignGraph;\n  }\n\n  constructor(appManager: AppManager) {\n    this.appManager = appManager;\n    this.init();\n  }\n\n  init() {\n    this.campaignGraph = new Graph();\n   \n\n    this.initStates();\n    console.log('init dataManager...');\n  }\n\n  getStateProps(state?: APP_STATE) : StateConfig {\n    return this.stateConfigs.get(state || this.appManager.state) ?? DEFAULT_STATE_CONFIG;\n  }\n\n  initStates() {\n    this.stateConfigs.set(APP_STATE.MAIN_MENU, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.MAIN_MENU]});\n    this.stateConfigs.set(APP_STATE.CAMPAIGN_SETUP, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.CAMPAIGN_SETUP]});\n    this.stateConfigs.set(APP_STATE.PLAYER_RECRUITMENT, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.PLAYER_RECRUITMENT]});\n    this.stateConfigs.set(APP_STATE.CHARACTER_CREATION, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.CHARACTER_CREATION]});\n    this.stateConfigs.set(APP_STATE.SESSION_OVERVIEW, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.SESSION_OVERVIEW]});\n    this.stateConfigs.set(APP_STATE.SESSION, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.SESSION]});\n    this.stateConfigs.set(APP_STATE.SCORE, {...DEFAULT_STATE_CONFIG, ...STATE_CONFIG[APP_STATE.SCORE]});\n  // Other methods to manage sessions\n  }\n}\n\nexport default DataManager;","import { GEAR, getCombinedClassAttributes } from '../consts/characterConsts';\r\nimport { ENEMIES } from '../consts/enemies';\r\nimport { CHARACTER_CLASS, RACE } from '../consts/general';\r\nimport { QUICKSTART_CHARACTERS } from '../consts/quickStart';\r\nimport { SCORE } from '../consts/score';\r\nimport { ATTRIBUTE_TYPE, Character, Tag } from '../models';\r\nimport { generateName } from '../utils/utils';\r\nimport AppManager from './appManager';\r\n\r\nclass CharacterManager {\r\n  private characters: Character[];\r\n  private uniqueID: number = 0;\r\n  private selectedCharacters: number[];\r\n  private appManager: AppManager;\r\n\r\n  constructor(appManager: AppManager) {\r\n    this.characters = [];\r\n    this.selectedCharacters = [];\r\n    this.appManager = appManager;\r\n  }\r\n\r\n  init() {\r\n    this.generateRandomCharacters(12);\r\n  }\r\n\r\n  getCharacters() {\r\n    return this.characters;\r\n  }\r\n\r\n  getPlayerCharacters() {\r\n    const players = this.appManager.getPlayerManager().getPlayers();\r\n    return players.flatMap((player) => player.characters);\r\n  }\r\n   \r\n  getUFClass= (classId: CHARACTER_CLASS)  =>{\r\n    switch(classId) {\r\n      case CHARACTER_CLASS.CLERIC: return 'Cleric';\r\n      case CHARACTER_CLASS.DRUID: return 'Druid';\r\n      case CHARACTER_CLASS.FIGHTER: return 'Fighter';\r\n      case CHARACTER_CLASS.PALADIN: return 'Paladin';\r\n      case CHARACTER_CLASS.ROGUE: return 'Rogue';\r\n      case CHARACTER_CLASS.WIZARD: return 'Wizard';\r\n      default: return 'Unknown';\r\n    }  \r\n  }\r\n\r\n   getUFRace= (raceId: RACE) => {\r\n    switch(raceId) {\r\n      case RACE.HUMAN: return 'Human';\r\n      case RACE.ELF: return 'Elven';\r\n      case RACE.DWARF: return 'Dwarven';\r\n      case RACE.HALFLING: return 'Halfling';\r\n      case RACE.HALF_ELF: return 'Half-Elf';\r\n      case RACE.HALF_ORC: return 'Half-Orc';\r\n      default: return 'Unknown';\r\n    }\r\n  }\r\n\r\n  getUFAttributeName= (attributeId: ATTRIBUTE_TYPE) => {\r\n    switch(attributeId) {\r\n      case ATTRIBUTE_TYPE.COMBAT: return 'Combat';\r\n      case ATTRIBUTE_TYPE.MAGIC: return 'Magic';\r\n      case ATTRIBUTE_TYPE.TOOLS: return 'Tools';\r\n      default: return 'Unknown';\r\n    }\r\n  }\r\n\r\n  getUFAttributeSymbol= (attributeId: ATTRIBUTE_TYPE) => {\r\n    switch(attributeId) {\r\n      case ATTRIBUTE_TYPE.COMBAT: return '';\r\n      case ATTRIBUTE_TYPE.MAGIC: return '';\r\n      case ATTRIBUTE_TYPE.TOOLS: return '';\r\n      default: return '';\r\n    }\r\n  }\r\n\r\n  getUFInitials= (character: Character) => {\r\n    return character.name.split(' ').map((n) => n[0]).join('');\r\n  }\r\n\r\n  setSelectedCharacters(selectedCharacters:number[]) {\r\n    this.selectedCharacters = this.characters\r\n      .filter((_, index) => selectedCharacters.includes(index))\r\n      .map(character => character.id);\r\n  }\r\n\r\n  getCharacterByIndex(index: number) {\r\n    return this.characters[index];\r\n  }\r\n\r\n  getCharacterById(id: number) {\r\n    return this.characters.find(character => character.id === id) || this.characters[0];\r\n  }\r\n\r\n\r\n  getCharacterReferences() {\r\n    return this.characters;\r\n  }\r\n\r\n  setAttributeUsed(character: Character, attributeType: ATTRIBUTE_TYPE, amount: number) {\r\n    if(!character.attributeLoss) {\r\n      character.attributeLoss = {};\r\n    }\r\n    character.attributeLoss[attributeType] = (character.attributeLoss[attributeType] || 0) + amount;\r\n  }\r\n\r\n  useHalfRemainingAttributes(character: Character, attributeType: ATTRIBUTE_TYPE) {\r\n    const remainingAttributes = getCombinedClassAttributes(character)[attributeType] - (character.attributeLoss?.[attributeType] || 0);\r\n    const halfRemaining = Math.floor(remainingAttributes / 2);\r\n    const reductionAmount = remainingAttributes - halfRemaining;\r\n    this.setAttributeUsed(character, attributeType, reductionAmount);\r\n    return reductionAmount;\r\n  } \r\n  \r\n  getRemainingAttributes(character: Character, attributeType: ATTRIBUTE_TYPE) {\r\n    const totalAttributes = getCombinedClassAttributes(character)[attributeType] || 0;\r\n    const usedAttributes = character.attributeLoss?.[attributeType] || 0;\r\n    return totalAttributes - usedAttributes;\r\n  }\r\n\r\n  getSelectedCharacters() {\r\n    return this.selectedCharacters;\r\n  }\r\n\r\n  getRandomRace() {\r\n    const races = Object.values(RACE);\r\n    const randomIndex = Math.floor(Math.random() * races.length);\r\n    return races[randomIndex];\r\n  }\r\n\r\n  getRandomClass() {\r\n    const classes = Object.values(CHARACTER_CLASS);\r\n    const randomIndex = Math.floor(Math.random() * classes.length);\r\n    return classes[randomIndex];\r\n  }\r\n\r\n  getRandomIconNumber() {\r\n    return Math.floor(Math.random() * 2) + 1;\r\n  }\r\n\r\n  getRandomIcon(characterRace: RACE) {\r\n    // currently each race has exactly two icons, named race_1.png and race_2.png. \r\n    // This function should return one of those two names\r\n    switch(characterRace) {\r\n      case RACE.DWARF:\r\n        return 'dwarf_' + this.getRandomIconNumber();\r\n      case RACE.ELF:\r\n        return 'elf_' + this.getRandomIconNumber();\r\n      case RACE.HUMAN:\r\n        return 'human_' + this.getRandomIconNumber();\r\n      case RACE.HALF_ORC:\r\n        return 'halfOrc_' + this.getRandomIconNumber();\r\n      case RACE.HALF_ELF:\r\n        return 'halfElf_' + this.getRandomIconNumber();\r\n      case RACE.HALFLING: \r\n        return 'halfling_' + this.getRandomIconNumber();\r\n      default:\r\n        return 'human_' + this.getRandomIconNumber();\r\n    }\r\n  }\r\n\r\n  generateStartingGear() {\r\n    switch(Math.floor(Math.random() * 6)) {\r\n      case 0: return [GEAR.SWORD_1];\r\n      case 1: return [GEAR.WAND_5];\r\n      case 2: return [GEAR.HELPFUL_IMP];\r\n     default: return [];\r\n    }\r\n  }\r\n\r\n\r\n  getRandomGear() {\r\n    const gearNames = Object.keys(GEAR);\r\n    const randomIndex = Math.floor(Math.random() * gearNames.length);\r\n    return GEAR[gearNames[randomIndex]];\r\n  }\r\n\r\n\r\n  assignGear(character: Character, gearName: string) {\r\n  \r\n    if(GEAR[gearName] === undefined) {\r\n      console.error('Gear not found: ' + gearName);\r\n      // Check if the gearName is the value of the gear instead of the key\r\n      gearName = Object.keys(GEAR).find(key => GEAR[key].name === gearName) || '';\r\n    }\r\n    \r\n    const gear = GEAR[gearName];\r\n\r\n    if(!gear) {\r\n      console.error('Gear not found: ' + gearName);\r\n      return;\r\n    }\r\n\r\n    character.gear.push(gear);\r\n  }\r\n\r\n\r\n  getAllExpectedBackstoryTags(): Tag[] {\r\n    const backstoryTags = this.characters.flatMap((character) => {\r\n      return character.backstory.filter((bs) => !bs.completed).map((backstory) => backstory.tag);\r\n    })\r\n\r\n    return [...new Set(backstoryTags)];\r\n  }\r\n\r\n  getCharactersWithBackstoryTag(tag: Tag): Character[] {\r\n    return this.characters.filter((character) => character.backstory.some((bs) => bs.tag === tag));\r\n  }\r\n\r\n  assignBackstory(character: Character, tag: Tag) {\r\n    const existingBackstory = character.backstory.find((backstory) => backstory.tag === tag);\r\n    if(existingBackstory) {\r\n      existingBackstory.completed = true;\r\n      this.appManager.getPartyManager().addPartyScore(SCORE.COMPLETE_BACKSTORY);\r\n    } else {\r\n      const newBackstory = {\r\n        tag: tag,\r\n        completed: false,\r\n        description: undefined\r\n      }\r\n      character.backstory.push(newBackstory);\r\n    }\r\n  }\r\n\r\n  generateRandomCharacter(level?: number): Character {\r\n    const newChar = this.generateSingleCharacter(level || 1);\r\n    return newChar;\r\n  }\r\n\r\n  generateSingleCharacter(level: number): Character {\r\n    const cclass = this.getRandomClass();\r\n    const crace = this.getRandomRace();\r\n    const newChar: Character = {\r\n      name: generateName(true),\r\n      race: crace,\r\n      character_class: cclass,\r\n      level: level || 1 + Math.floor(Math.random() * 4),\r\n      icon: this.getRandomIcon(crace),\r\n      abilities: [],\r\n      id: this.uniqueID++,\r\n      gear: this.generateStartingGear(),\r\n      backstory: []\r\n    }\r\n    return newChar;\r\n  }\r\n\r\n\r\n  generateRandomCharacters(nbChars: number, level?: number) {\r\n    for (let p = 0; p < nbChars; p++) {\r\n      this.characters.push(this.generateSingleCharacter(level || 1));\r\n    }\r\n   \r\n  }\r\n\r\n  generateNPC(npcTag: Tag) : Character {\r\n    \r\n    const newCharacter: Character = {\r\n      race: RACE.NPC,\r\n      character_class: CHARACTER_CLASS.NPC,\r\n      abilities: [],\r\n      level: 1,\r\n      name: npcTag.name,\r\n      id: this.uniqueID++,\r\n      icon: `combat_${npcTag.name}`,\r\n      gear: [],\r\n      backstory: [],\r\n    }\r\n\r\n    return newCharacter;\r\n  }\r\n\r\n\r\n  initiateQuickStart() {\r\n    \r\n    this.characters = QUICKSTART_CHARACTERS;\r\n  }\r\n\r\n}\r\n\r\nexport default CharacterManager;","import { TutorialStep } from \"../models\";\n\n\nconst longIntroText = {\n    withHTML: `\n        <h1>Welcome!</h1>\n        <p>Thanks for trying out my game, the latest version is version 0.0.1 from Dec 22, 2024. It is still very much in the early stages.<br><br>This is a game about running a fantasy-tabletop RPG. Instead of exploring, adventuring, and conquering, this is a game about scheduling players, designing balanced encounters, managing potential branches in storylines, and above all keeping your players happy!</p>\n        <p>At the moment the only things available are:</p>\n        <ul>\n            <li>Player Recruitment</li>\n            <li>Character Assignment</li>\n            <li>Campaign Selection</li>\n        </ul>\n        <p> Get started by going to Player Recruitment</p>\n        <br>\n        <h1>COMING SOON</h1>\n        <ul>\n            <li>Player chatter / message system</li>\n            <li>Campaign settings / launch game</li>\n        </ul>\n         <h1>COMING LATER</h1>\n          <ul>\n            <li>Rest of game</li>\n        </ul>\n    `,\n};\n\nconst secondPage = 'This is just here to test my tutorial system and I dont have enough real content yet to need more than one page. Guess I shouldn\\'t have spent all that time making it support multiple pages. Oh well!'\n\nconst playerRecruitmentHTML = `\n        <h1>PLAYERS</h1>\n        <p>Players are your clients. After a successful campaign, they will reward you with money and respect. You'll want to recruit players with similar, or complimentary preferences (LIKES/HATES), as well as making sure their schedules are compatible.<br><br>To see a player's preferences, hover over the red or green dots on their player card. When you click a player it will be added to the group, and you will see the player's preferences added to the notebook on the left. The notebook will also contain a page for each player.</p>\n        <p>I think three players is a good number to go for. I have a feeling the game will be more difficult to play with more players - as keeping them all happy and juggling other game elements with high player-counts may prove difficult. having more players would also logically lead to getting paid more at the end of the campaign so it could be a nice synergy of difficulty and reward scaling on its own.</p>\n        \n        <br>`;\nconst playerRecruitmentHTML2 = `\n        <h1>Notes</h1>\n        <ul>\n            <li>I have a new design for the player-cards in mind. I realize they are very busy now.</li>\n            <li>Im not sure how scheduling will work out in the game. Im hesitant to remove it because it provides a bit of a counter to simply matching LIKES/HATES of players. Im thinking that a better-schedule might impact some elements of the actual gameplay later on, even if it's just a points-multiplier at the end if you have a good schedule-synergy...give me ideas!</li>\n            <li>I'm thinking of adding more player-stats. Things like stamina, or focus, which would come into play during sessions. Some players may tolerate certain gameplay elements outside of simply liking/hating based on the metadata tags. \n        </ul>\n        <p>Once you have some Players, head over to Character Assignment to assign them some characters.</p>\n    `;\n\n    const CharacterCreationHTML = `\n        <h1>CHARACTERS</h1>\n        <p>Characters are what you are probably used to in a game. These are the wizards, fighters, elves, dwarves, etc.. Characters are assigned to Players. At the moment, there is a four Character limit for each player, and I feel like that's a lot. Im not sure what the tradeoff is in the Player:Character ratio though.</p>\n        <br>The Character stats are about as far into the 'game within the game' as I'd like to get. Id like for there to be some simple mechanics that can be used to make these stats important or fun though.</p>\n        <p>I'm also not sure what the limit should be for a player to have a higher level character. As a Dungeon Master, having higher level characters at your table isn't a reward in itself, but it might be a fun element of progression in the game. As you get to know your players and play with them over multiple campaigns, maybe the same would be true with the Characters.</p>\n        <p>Once you have some Characters, head over to Campaign Setup to start a campaign.</p>\n    `;\n\n    const CampaignSetupHTML = `\n    <h1>Campaigns</h1>\n    <p>Campaigns are the storyline of the game you are presenting to your players. A Campaign is composed of a series of events, called 'encounters'.\n    <br>Encounters all have different features, including a Location and some number of characteristics. For example, an encounter called 'Goblin Ambush' may feature a Location 'Forest' and have characteristics like 'goblins', 'combat', forest', 'wilderness', 'night', etc.. Any of which may be things certain players prefer (or prefer to avoid!)\n    <p>During the encounter, the players will uncover the different features and react to them based on their preferences. They will also be uncovering information about the <i>upcoming<i> encounters. This will then lead to the players choosing which branching encounter to go to next. Some encounters may be more rewarding than others, so there will be ways to try and 'steer' the player's decisions, but there will still be an element of randomness, and if you try to put too much emphasis on ONE encounter over the others there will be some penalty.</p>\n    `\n    const CampaignSetupHTML2 = `\n        <h1>Notes</h1>\n        <ul>\n            <li>I actually really like the design of this screen. I'd like to achieve this level of style in the rest of the game.</p> \n            <li>Making the encounters is pretty fun too. I like being able to tell the idea of a story - it allows for so much potential in terms of the details that could all <i>possibly</i> exist. \n            <li>I plan to make the actual CREATING of campaigns, encounters, and location possible. I find the idea of making an in-game editor a bit daunting, to be honest so I'll probably circle back to that closer to the end of the first full version of this game.</li>\n        \n        </ul>\n`;\n\n\nexport const TUTORIALS: Record<string, TutorialStep> = {\n    MAIN_MENU:\n    {\n        title: 'Welcome to Dungeon Master Simulator!',\n        content: [longIntroText.withHTML],\n        icons: ['tutorial_mascot', 'tutorial_mascot', 'tutorial_mascot']\n\n    },\n    PLAYER_RECRUITMENT:\n    {\n        title: 'Player Recruitment',\n        content: [playerRecruitmentHTML, playerRecruitmentHTML2],\n        icons: ['tutorial_mascot', 'tutorial_mascot']\n    },\n    CHARACTER_CREATION:\n    {\n        title: 'Character Creation',\n        content: [CharacterCreationHTML],\n        icons: ['tutorial_mascot']\n    },\n    CAMPAIGN_SETUP:\n    {\n        title: 'Campaign Setup',\n        content: [CampaignSetupHTML, CampaignSetupHTML2],\n        icons: ['tutorial_mascot', 'tutorial_mascot']\n    }\n}\n","import { Character, Encounter, NOTEBOOK_CATEGORY, NotebookState, Player, Location } from \"../models\";\nimport { EventEmitter } from 'events';\nimport { TUTORIALS } from '../consts/tutorials';\nimport AppManager from \"./appManager\";\nimport UiManager from \"./uiManager\";\n\nclass TutorialManager extends EventEmitter {\n  private appManager: AppManager;\n  private uiManager: UiManager;\n  private seenTutorials: Set<keyof typeof TUTORIALS> = new Set();\n  private turnOffTutorials: boolean = false;\n  \n\n  constructor(appManager: AppManager) {\n    super();\n    this.appManager = appManager;\n    this.uiManager = this.appManager.getUiManager();\n    this.seenTutorials = new Set();\n  }\n\n  startTutorial(tutorialId: keyof typeof TUTORIALS, force: boolean = false) {\n    if(this.turnOffTutorials) {\n      return;\n    }\n    if(this.seenTutorials.has(tutorialId) && !force){\n      return;\n    }\n    this.uiManager.showTutorialMessage(TUTORIALS[tutorialId]);\n  }\n\n  disableTutorial() {\n    this.turnOffTutorials = true;\n  }\n  \n}\n\n\n\nexport default TutorialManager;","import EventEmitter from \"events\";\r\nimport { ATTITUDE, Building, Character, CHAT_TYPE, ChatMessage, Encounter, EncounterFlavorTag, TAGS_TYPE as TAGS_TYPE, Player, RPEncounterFlavorTag, Tag } from \"../models\";\r\nimport AppManager from \"./appManager\";\r\nimport PlayerManager from \"./playerManager\";\r\nimport { PerceptionTags } from \"../models\";\r\nimport CharacterManager from \"./characterManager\";\r\nimport PartyManager from \"./partyManager\";\r\n\r\nclass ChatManager extends EventEmitter {\r\n  appManager: AppManager;\r\n  playerManager: PlayerManager;\r\n  characterManager: CharacterManager;\r\n\r\n  constructor(appManager: AppManager) {\r\n    super();\r\n    this.appManager = appManager;\r\n    this.playerManager = this.appManager.getPlayerManager();\r\n    this.characterManager = this.appManager.getCharacterManager();\r\n  }\r\n\r\n  fireNewChatMessage(newMessage: ChatMessage | string | ChatMessage[]) {\r\n\r\n\r\n\r\n    if(Array.isArray(newMessage)) {\r\n      this.launchNewConversation(newMessage);\r\n      return;\r\n    }\r\n\r\n    if(typeof newMessage === 'string') {\r\n      newMessage = {\r\n        message: newMessage,\r\n        speaker: {\r\n          type: CHAT_TYPE.DM,\r\n          id: 0\r\n        }\r\n      }\r\n    }\r\n    if(newMessage.speaker.type === CHAT_TYPE.PLAYER){\r\n      const character = this.characterManager.getCharacterById(newMessage.speaker.id);\r\n      if(!character) {\r\n        newMessage.speaker.id = this.playerManager.getRandomPlayer().id;\r\n      }\r\n    }\r\n\r\n    if(newMessage.speaker.type === CHAT_TYPE.CHARACTER) {\r\n      //make sure character exists\r\n      const character = this.characterManager.getCharacterById(newMessage.speaker.id);\r\n      if(!character) {\r\n        console.error(\"Character not found: \", newMessage.speaker.id);\r\n        return;\r\n      }\r\n    }else if(newMessage.speaker.type === CHAT_TYPE.PLAYER) {\r\n      //make sure player exists\r\n      const player = this.playerManager.getPlayerById(newMessage.speaker.id);\r\n      if(!player) {\r\n        console.error(\"Player not found: \", newMessage.speaker.id);\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\n    this.emit('chat-message', newMessage);\r\n  }\r\n\r\n  triggerConversation(convoid: string, percentChance: number) {\r\n    if (Math.random() * 100 < percentChance) {\r\n     this.launchNewConversationById(convoid);\r\n    }\r\n  }\r\n\r\n  playerMessage(message: string, playerId?: number) {\r\n\r\n    \r\n\r\n    let playerMessage: string;\r\n    if (Array.isArray(message)) {\r\n      playerMessage = message[Math.floor(Math.random() * message.length)];\r\n    } else {\r\n      playerMessage = message;\r\n    }\r\n    const player = playerId ?? this.playerManager.getRandomPlayer().id;\r\n    const newMessage: ChatMessage = {\r\n      message: playerMessage,\r\n      speaker: {\r\n        type: CHAT_TYPE.PLAYER,\r\n        id: player \r\n      }\r\n    }\r\n    this.fireNewChatMessage(newMessage);\r\n  }\r\n\r\n  dmMessage(message: string | string[]) {\r\n  \r\n\r\n    let dmMessage: string;\r\n    if (Array.isArray(message)) {\r\n      dmMessage = message[Math.floor(Math.random() * message.length)];\r\n    } else {\r\n      dmMessage = message;\r\n    }\r\n\r\n    const newMessage: ChatMessage = {\r\n      message: dmMessage,\r\n      speaker: {\r\n      type: CHAT_TYPE.DM,\r\n      id: 0    \r\n      }\r\n    }\r\n    this.fireNewChatMessage(newMessage);\r\n  }\r\n\r\n  launchNewConversationById(convoid: string, pacing: number = 5000) {\r\n    const conversation = this.conversations[convoid];\r\n    if(!conversation) {\r\n      console.error(\"Conversation not found: \", convoid);\r\n      return;\r\n    }\r\n    // Schedule one message every 5 seconds\r\n    conversation.forEach((message, index) => {\r\n      setTimeout(() => {\r\n        this.fireNewChatMessage(message);\r\n      }, index * pacing);\r\n    });\r\n\r\n  }\r\n  \r\n  launchNewConversation(conversation:  ChatMessage[], pacing: number = 5000) {\r\n   \r\n    // Schedule one message every 5 seconds\r\n    conversation.forEach((message, index) => {\r\n      setTimeout(() => {\r\n        this.fireNewChatMessage(message);\r\n      }, index * pacing);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  startSessionEvent() {\r\n    this.launchNewConversationById('WELCOME_CONVERSATION', 3000);\r\n  }\r\n\r\n  perceptionEvent(character: Character, perceptionTags: PerceptionTags) {\r\n    let messageString = \"\";\r\n    let campaignChatTrigerred = false;\r\n    perceptionTags.tags.forEach((flavorTag) => {\r\n\r\n      if(this.expectedTagResolved(flavorTag.tag)) {\r\n        campaignChatTrigerred = true;\r\n      }\r\n    })\r\n    if(campaignChatTrigerred) {\r\n      return;\r\n    }\r\n\r\n    switch (perceptionTags.type) {\r\n      case TAGS_TYPE.CURRENT_LOCATION:\r\n        messageString = `${perceptionTags.tags[0].tag.name}? Pretty much what I would expect from a ${perceptionTags.name}.`;\r\n        break;\r\n      case TAGS_TYPE.BRANCH_LOCATION:\r\n        messageString = `Hmm. Sounds like we know where to look for ${perceptionTags.tags[0].tag.name}...`;\r\n        break;\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY:\r\n        messageString = `OH. MY. GOSH.`;\r\n        break;\r\n      case TAGS_TYPE.CHARACTER_BACKSTORY_PROGRESS:\r\n        messageString = `AT LAST! My character has been searching for ${perceptionTags.tags[0].tag.name}.`;\r\n        break;\r\n      case TAGS_TYPE.MAGIC_ITEM:\r\n        messageString = `Magic item? I'm intrigued.`;\r\n        break;\r\n      case TAGS_TYPE.PLOT_HOOK:\r\n   \r\n        const conversation: ChatMessage[] = [{\r\n          message: \"I have a feeling this is going to be important\",\r\n          speaker: {\r\n            type: CHAT_TYPE.PLAYER,\r\n            id: character.id\r\n        }}\r\n        ,{\r\n          message: \"... in a few months.\",\r\n          speaker: {\r\n            type: CHAT_TYPE.PLAYER,\r\n            id: this.playerManager.getRandomPlayer().id,\r\n          }\r\n        }]\r\n   \r\n        this.launchNewConversation(conversation);\r\n        return;\r\n   \r\n   \r\n   \r\n      }\r\n\r\n    const newMessage: ChatMessage = {\r\n      message: messageString,\r\n      speaker: {\r\n        type: CHAT_TYPE.PLAYER,\r\n        id: character.id\r\n      }\r\n    }\r\n    this.fireNewChatMessage(newMessage);\r\n\r\n  }\r\n\r\n\r\n  chance(percentChance: number) {\r\n    return Math.random() * 100 < percentChance;\r\n  }\r\n\r\n  // expectedTagForeshadowed(flavorTag: EncounterFlavorTag, branchName: string) {\r\n  //   const encounterTagMessage = this.appManager.getCampaignManager().getEncounterChatTrigger(flavorTag.tag);\r\n\r\n  //   if(encounterTagMessage && encounterTagMessage.message){\r\n  //     encounterTagMessage.message += this.getThemePostFix(flavorTag);\r\n  //   }\r\n  //   if(encounterTagMessage) {\r\n  //     this.fireNewChatMessage(encounterTagMessage as ChatMessage);\r\n  //     return true;\r\n  //   }\r\n  //   return false\r\n  // }\r\n\r\n\r\n  getThemePostFix(flavorTag: EncounterFlavorTag) {\r\n   switch(flavorTag.theme) {\r\n        case 'comedic':\r\n          return ' in a comedic way';\r\n        case 'heroic':\r\n          return ' in a heroic way';\r\n        case 'serious':\r\n          return ' in a serious way';\r\n        case 'dramatic':\r\n          return ' in a dramatic way';\r\n        case 'grim':\r\n          return ' in a grim way';\r\n        case 'romantic':\r\n          return ' in a romantic way';\r\n        case 'fantasy':\r\n          return ' in a fantasy way';\r\n        case 'horror':\r\n          return ' in a horror way';\r\n        default:\r\n      }\r\n      return '';\r\n  }\r\n\r\n\r\n  roleplayingEvent(rpFlavorTag: RPEncounterFlavorTag) {\r\n   \r\n    if(rpFlavorTag.type === 'character') {\r\n      const character = rpFlavorTag.character;\r\n      this.dmMessage(`We are going to focus on ${character!.name} for a while...`);\r\n      return;\r\n    }\r\n\r\n    if(rpFlavorTag.type === 'treasure') {\r\n      this.dmMessage(`You guys discover.... some treasure!`);\r\n      return;\r\n    }\r\n\r\n    if(rpFlavorTag.type === 'dmpoint') {\r\n      this.dmMessage(`Something just clicked for me! Im getting better at this...`);\r\n      return;\r\n    }\r\n\r\n    const flavorTag = rpFlavorTag.tag;\r\n    if(!flavorTag) {\r\n      console.error(\"No tag found for roleplaying event\");\r\n      return;\r\n    }\r\n\r\n    let player: Player | undefined = this.playerManager.getRandomPlayer();\r\n    let campaignManager = this.appManager.getCampaignManager();\r\n    \r\n    \r\n    let messageString = \"maxim broke something, haha\";\r\n    let chatSpeaker = player.id;\r\n    let type = CHAT_TYPE.PLAYER;\r\n\r\n\r\n  \r\n\r\n    if(this.chance(50) && campaignManager.isMagicItemRumor(flavorTag.tag.name)) {\r\n      this.magicItemConversation(flavorTag.tag.name, player.id);  \r\n     return;\r\n    }\r\n\r\n\r\n    if(this.chance(50) && flavorTag.theme !== 'none') {\r\n      this.themeConversation(flavorTag, player.id);\r\n      return;\r\n    }\r\n  const players = this.playerManager.getPlayers();\r\n  if(campaignManager.getOutstandingBackstoryTags().includes(flavorTag.tag)) {\r\n    const character = this.characterManager.getCharactersWithBackstoryTag(flavorTag.tag)[0];\r\n    player = this.playerManager.getPlayerAssignedCharacter(character) || player;\r\n    messageString = `${character.name} was looking for ${flavorTag.tag.name}!`;\r\n    \r\n  \r\n  }else \r\n    if(this.chance(50) && this.playerManager.getGroupAttitudeForTag(players, flavorTag.tag) !== ATTITUDE.NEUTRAL) {\r\n  \r\n      if(this.playerManager.getGroupAttitudeForTag(players, flavorTag.tag) === ATTITUDE.HATE) {\r\n        player = this.playerManager.getPlayerWithAttitudeForTag(flavorTag.tag, ATTITUDE.HATE);\r\n        messageString = `Ick. ${flavorTag.tag.name}.`;\r\n      } else if(this.playerManager.getGroupAttitudeForTag(players, flavorTag.tag) === ATTITUDE.LIKE) {\r\n        player = this.playerManager.getPlayerWithAttitudeForTag(flavorTag.tag, ATTITUDE.LIKE);\r\n        messageString = `Oooh, I like ${flavorTag.tag.name}.`;\r\n      } else if(this.playerManager.getGroupAttitudeForTag(players, flavorTag.tag) === ATTITUDE.CONFLICTED) {\r\n        player = this.playerManager.getPlayerWithAttitudeForTag(flavorTag.tag, ATTITUDE.LIKE);\r\n        let player2 = this.playerManager.getPlayerWithAttitudeForTag(flavorTag.tag, ATTITUDE.HATE);\r\n\r\n        let playerId = player?.id ?? 0;\r\n        let player2Id = player2?.id ?? 0;\r\n\r\n        const conflictedConversation = [{\r\n          message: `Ugh. I'm sick of ${ flavorTag.tag.name}!`,\r\n          speaker: {\r\n            type: CHAT_TYPE.PLAYER,\r\n            id: player2Id,\r\n          }\r\n        } ,\r\n        {\r\n          message: `...I like ${ flavorTag.tag.name}.`,\r\n          speaker: {\r\n            type: CHAT_TYPE.PLAYER,\r\n            id: playerId,\r\n          }\r\n        }\r\n      ];\r\n      this.launchNewConversation(conflictedConversation);\r\n        return;\r\n      \r\n      }\r\n  \r\n  \r\n    }else {\r\n\r\n      switch(Math.floor(Math.random() * 7)) {\r\n        case 0: // Serious\r\n        messageString = `What do we think about ${flavorTag.tag.name}?`;\r\n        break;\r\n        case 1: // Dramatic\r\n  \r\n        messageString = `You remember something about ${flavorTag.tag.name} ...`;\r\n        type = CHAT_TYPE.DM;\r\n            break;\r\n        case 2: // Grim\r\n  \r\n        messageString = `I was hoping ${flavorTag.tag.name} would come up!`;\r\n            break;\r\n        case 3: // Casual\r\n        messageString = `Can ${flavorTag.tag.name} be important?`;\r\n            break;\r\n        case 4: // Funny\r\n        messageString = `${flavorTag.tag.name}? ok.`;\r\n            break;\r\n        case 5:\r\n        // Dramatic\r\n        messageString = `${flavorTag.tag.name} reminds me of gob${flavorTag.tag.name}lins.`;\r\n        break;\r\n        case 6: \r\n        \r\n    messageString = `You overhear someone talking about ${flavorTag.tag.name}.`;\r\n    type = CHAT_TYPE.DM;\r\n    break;\r\n        default: \r\n      \r\n     }\r\n  \r\n    }\r\n\r\n    const newMessage: ChatMessage = {\r\n      message: messageString,\r\n      speaker: {\r\n        type: type,\r\n        id: chatSpeaker\r\n      }\r\n    }\r\n    this.fireNewChatMessage(newMessage);\r\n\r\n  }\r\n\r\n  expectedTagResolved(tag: Tag) {\r\n    // check for Campaign-specific triggers\r\n    const campaignManager = this.appManager.getCampaignManager();\r\n    const encounterTriggers = campaignManager.getEncounterChatTriggers();\r\n    const trigger = encounterTriggers?.[tag.name];\r\n    if(trigger) {\r\n        this.fireNewChatMessage(trigger as ChatMessage);\r\n        return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  triggerAddRandomTagToEncounterConversation(tag: Tag, branch: Encounter) {\r\n      const randomTagConversations = [[\r\n                                  {\r\n                                  message: `Thinking: \"Hmmm....should I add ${tag.name} to the ${branch.name} encounter....?\"`,\r\n                                  speaker: {\r\n                                    type: CHAT_TYPE.DM,\r\n                                    id: 0,\r\n                                  }\r\n                                } ,\r\n                                {\r\n                                  message: \"Hey!...why are you so quiet? What are you thinking about?\",\r\n                                  speaker: {\r\n                                    type: CHAT_TYPE.PLAYER,\r\n                                    id: this.playerManager.getRandomPlayer().id,\r\n                                  }\r\n                                }, {\r\n                                \r\n                                    message: `Oh, nothing...just thinking about how much you guys are going to love ${tag.name} if you go to ${branch.location.name}...`,\r\n                                    speaker: {\r\n                                      type: CHAT_TYPE.DM,\r\n                                      id: 0,\r\n                                    }\r\n                                }\r\n      ],\r\n      [\r\n        {\r\n          message: `Why do I get the feeling we will find ${tag.name} at ${branch.location.name}?`,\r\n          speaker: {\r\n            type: CHAT_TYPE.PLAYER,\r\n            id: this.playerManager.getRandomPlayer().id,\r\n          }\r\n        } ,\r\n        {\r\n          message: \"Yeah, sure. Why not?\",\r\n          speaker: {\r\n            type: CHAT_TYPE.DM,\r\n            id: 0,\r\n          }\r\n        }, {\r\n        \r\n            message: `You shrewdly devise that you will find ${tag.name} at ${branch.location.name}...`,\r\n            speaker: {\r\n              type: CHAT_TYPE.DM,\r\n              id: 0,\r\n            }\r\n        }\r\n      ],\r\n      [{\r\n        message: `Going off-script here - but I think it will be fun to have ${tag.name} involved with the events at ${branch.location.name}...`,\r\n        speaker: {\r\n          type: CHAT_TYPE.DM,\r\n          id: 0,\r\n        }\r\n        }],\r\n        [\r\n          {\r\n            message: `I bet ${tag.name} will be at ${branch.location.name}!`,\r\n            speaker: {\r\n              type: CHAT_TYPE.PLAYER,\r\n              id: this.playerManager.getRandomPlayer().id,\r\n            }\r\n          } ,\r\n          {\r\n            message: \"Why? I don\\'t think I ever indicated that th-\",\r\n            speaker: {\r\n              type: CHAT_TYPE.DM,\r\n              id: 0,\r\n            }\r\n          }, {\r\n          \r\n              message: `Oh man! I bet you're right! If we get to ${branch.location.name} we are sure to find ${tag.name}!`,\r\n              speaker: {\r\n                type: CHAT_TYPE.PLAYER,\r\n                id: this.playerManager.getRandomPlayer().id,\r\n              }\r\n          }\r\n        ],\r\n    \r\n    \r\n    ]\r\n\r\n   const randomTagConversation1 = randomTagConversations[Math.floor(Math.random() * randomTagConversations.length)];\r\n\r\n\r\n   this.launchNewConversation(randomTagConversation1);\r\n  }\r\n\r\n\r\n  magicItemConversation(magicItem: string, playerId: number) {\r\n    const magicItemConversation = [{\r\n      message: `Behold....the ${magicItem}...`,\r\n      speaker: {\r\n        type: CHAT_TYPE.PLAYER,\r\n        id: playerId,\r\n      }\r\n    } ,\r\n    {\r\n      message: \"Say it in-character\",\r\n      speaker: {\r\n        type: CHAT_TYPE.DM,\r\n        id: this.playerManager.getRandomPlayer().id,\r\n      }\r\n    }, {\r\n    \r\n        message: `Behold....the ${magicItem}...`,\r\n        speaker: {\r\n          type: CHAT_TYPE.CHARACTER,\r\n          id: playerId,\r\n        }\r\n    }];\r\n   this.launchNewConversation(magicItemConversation);\r\n  }\r\n\r\n  \r\n\r\n  townEvent(flavorTag: EncounterFlavorTag, character: Character, building: Building) {\r\n   \r\n    if(!flavorTag) {\r\n      console.error(\"No tag found for roleplaying event\");\r\n      return;\r\n    }\r\n\r\n\r\n    let player = this.playerManager.getPlayerAssignedCharacter(character) || this.playerManager.getRandomPlayer();\r\n    let campaignManager = this.appManager.getCampaignManager();\r\n    \r\n    \r\n    let messageString = \"maxim broke something, haha\";\r\n    let chatSpeaker = player.id;\r\n    let type = CHAT_TYPE.PLAYER;\r\n\r\n    if(this.chance(100) && campaignManager.isMagicItemRumor(flavorTag.tag.name)) {\r\n      this.magicItemConversation(flavorTag.tag.name, player.id);  \r\n     return;\r\n    }\r\n\r\n\r\n    if(this.chance(50) && flavorTag.theme !== 'none') {\r\n      this.themeConversation(flavorTag, player.id);\r\n      return;\r\n    }\r\n\r\n    if(campaignManager.getOutstandingBackstoryTags().includes(flavorTag.tag)) {\r\n      const character = this.characterManager.getCharactersWithBackstoryTag(flavorTag.tag)[0];\r\n      player = this.playerManager.getPlayerAssignedCharacter(character) || player;\r\n      messageString = `${character.name} never expected to find ${flavorTag.tag.name} in a ${building.name}!`;\r\n      \r\n    } else {\r\n\r\n      switch(Math.floor(Math.random() * 7)) {\r\n        case 0: \r\n        messageString = `${flavorTag.tag.name}... at ${building.name}?`;\r\n        break;\r\n        case 1: \r\n  \r\n        messageString = `${flavorTag.tag.name} is clear when you arrive at ${building.name}.`;\r\n        type = CHAT_TYPE.DM;\r\n            break;\r\n        case 2: \r\n  \r\n        messageString = `Why would ${flavorTag.tag.name} be anywhere near ${building.name}?`;\r\n            break;\r\n        case 3: \r\n        messageString = `Hmmm.... ${flavorTag.tag.name}?`;\r\n            break;\r\n        case 4: \r\n        messageString = `${flavorTag.tag.name}...${building.name}...`;\r\n            break;\r\n        case 5:\r\n        \r\n        messageString = `${flavorTag.tag.name} is a strange thing to find at ${building.name}.`;\r\n        break;\r\n        case 6: \r\n        \r\n    messageString = `You overhear someone talking about ${flavorTag.tag.name}.`;\r\n    type = CHAT_TYPE.DM;\r\n    break;\r\n        default: \r\n      \r\n     }\r\n  \r\n    }\r\n\r\n    const newMessage: ChatMessage = {\r\n      message: messageString,\r\n      speaker: {\r\n        type: type,\r\n        id: chatSpeaker\r\n      }\r\n    }\r\n    this.fireNewChatMessage(newMessage);\r\n\r\n  }\r\n\r\n\r\n  themeConversation(flavorTag: EncounterFlavorTag, playerId: number) {\r\n    let messageString = \"\";\r\n    let chatSpeaker = playerId;\r\n    let type = CHAT_TYPE.PLAYER;\r\n\r\n    switch(flavorTag.theme) {\r\n      case 'comedic':\r\n        messageString = `Heheh...\"${flavorTag.tag.name}\"`;\r\n       break; \r\n      case 'grim':\r\n        messageString = `I need to tell you something disturbing about ${flavorTag.tag.name}.`;\r\n        type = CHAT_TYPE.DM;\r\n        break; \r\n      case 'fantasy':\r\n        messageString = `I sometimes daydream about ${flavorTag.tag.name}.`\r\n       break; \r\n      case 'heroic':\r\n        messageString = `Yeah! ${flavorTag.tag.name}!!!`;\r\n        type = CHAT_TYPE.CHARACTER;\r\n       break; \r\n      case 'horror':\r\n        messageString = `A chill descends on the party as they think about ${flavorTag.tag.name}.`;\r\n        type = CHAT_TYPE.DM;\r\n       break; \r\n      case 'romantic':\r\n        messageString = `OOoooooOOOoo ${flavorTag.tag.name}. Kissy kissy!`;\r\n       break; \r\n      case 'serious':\r\n        messageString = `We should focus on ${flavorTag.tag.name}.`;\r\n       break; \r\n      case 'dramatic':\r\n        messageString = `BEHOLD! ${flavorTag.tag.name}!!!`\r\n        type = CHAT_TYPE.CHARACTER;\r\n        break; \r\n    }\r\n\r\n    const newChat = {\r\n      message: messageString,\r\n      speaker: {\r\n        type,\r\n        id: chatSpeaker,\r\n      }\r\n    }\r\n    this.fireNewChatMessage(newChat);\r\n  }\r\n\r\n\r\n\r\n\r\n  sayCombatModifiedMessage(side: 'heroes' | 'enemies', flavor: Tag, enemy: Tag, modifier: number) {\r\n    let messageString = \"\";\r\n    if(flavor.name === \"DM\") {\r\n      if(side === 'heroes') {\r\n        messageString = `The ${enemy.name} are not as strong as you first thought...`;\r\n      } else {\r\n        messageString = `Oops, the ${enemy.name} have more HP than regular...`;\r\n      }\r\n    }else {\r\n      if(modifier < 0){\r\n        messageString = `Nevermind about the ${flavor.name}...`;\r\n      } else {\r\n      if(side === 'heroes') {\r\n        if(flavor.enemy || flavor.friendly) {\r\n          messageString = `Some ${flavor.name} are distracting the ${enemy.name}!`;\r\n        }else {\r\n          messageString = `The ${enemy.name} get stuck trying to avoid the ${flavor.name}.`;\r\n        }\r\n      } else {\r\n        if(flavor.enemy || flavor.friendly) {\r\n          messageString = `The ${enemy.name} seem to have some ${flavor.name} on their side...`;\r\n        }else {\r\n          messageString = `The ${enemy.name} use the ${flavor.name} to their advantage.`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n    const newChat = {\r\n      message: messageString,\r\n      speaker: {\r\n        type: CHAT_TYPE.DM,\r\n        id: 0,\r\n      }\r\n    }\r\n    this.fireNewChatMessage(newChat);\r\n\r\n  }\r\n\r\n\r\n\r\ncombatIntroMessage(enemy: Tag) {\r\n  const playerAttitude = this.playerManager.getGroupAttitudeForTag(this.playerManager.getPlayers(), enemy);\r\n  let messageString = \"\";\r\n  let playerToSpeak = this.playerManager.getRandomPlayer();\r\n  if(playerAttitude === ATTITUDE.LIKE) {\r\n    messageString = `Yay! ${enemy.name} are my favorite!`;\r\n    playerToSpeak = this.playerManager.getPlayerWithAttitudeForTag(enemy, ATTITUDE.LIKE) || playerToSpeak;\r\n  } else if(playerAttitude === ATTITUDE.HATE) {\r\n    playerToSpeak = this.playerManager.getPlayerWithAttitudeForTag(enemy, ATTITUDE.HATE) || playerToSpeak;\r\n    messageString = `Ugh. I hate ${enemy.name}. Why do we even have them in the game?`;\r\n  } else if (playerAttitude === ATTITUDE.CONFLICTED) {\r\n    messageString = `Well, I know some people don't like ${enemy.name}, but I like em.`;\r\n    playerToSpeak = this.playerManager.getPlayerWithAttitudeForTag(enemy, ATTITUDE.LIKE) || playerToSpeak;\r\n  } else {\r\n    messageString = `I figured we'd fight ${enemy.name} eventually.`;\r\n  }\r\n  const newChat = {\r\n    message: messageString,\r\n    speaker: {\r\n      type: CHAT_TYPE.PLAYER,\r\n      id: playerToSpeak.id,\r\n    }\r\n  }\r\n\r\n\r\n  this.dmMessage('You guys enter combat with some ' + enemy.name);\r\n\r\n  setTimeout(() => {\r\n    this.fireNewChatMessage(newChat);\r\n  }, 5000);\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  conversations: Record<string, ChatMessage[]> = {\r\n    WELCOME_CONVERSATION: [  \r\n      {\r\n        message: \"Hello everyone, welcome to the game.\",\r\n        speaker: {\r\n          type: CHAT_TYPE.DM,\r\n          id: 0\r\n        },\r\n      },\r\n      {\r\n        message: \"Hello!\",\r\n        speaker: {\r\n          type: CHAT_TYPE.PLAYER,\r\n          id: 0\r\n        },\r\n      },\r\n      {\r\n      message: \"Have a seat and grab some snacks. I'm just looking over my notes and we will start in a moment.\",\r\n      speaker: {\r\n        type: CHAT_TYPE.DM,\r\n        id: 0\r\n      },\r\n    },\r\n    {\r\n      message: \"Can I sit here?\",\r\n      speaker: {\r\n        type: CHAT_TYPE.PLAYER,\r\n        id: 1\r\n      },\r\n    },\r\n    {\r\n      message: \"Where are the snacks?\",\r\n      speaker: {\r\n        type: CHAT_TYPE.PLAYER,\r\n        id: 2\r\n      },\r\n    },\r\n    {\r\n      // This could be \"campaign manager -> getCurrentLocationIntro\"\r\n      message: \"Everyone settled? We start in the Village of Fairlight...\",\r\n      speaker: {\r\n        type: CHAT_TYPE.DM,\r\n        id: 0\r\n      },\r\n    },\r\n  ],\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default ChatManager;","import { TAG } from '../consts/tags';\r\nimport { ATTRIBUTE_TYPE, Building, BUILDING_EFFECT_TYPE, BUILDING_TYPE, BuildingEffect, Campaign, Character, EncounterFlavorTag, FlavorTagSource, Player, Tag, TownBuilding } from '../models';\r\nimport AppManager from './appManager';\r\nimport CampaignManager from './campaignManager';\r\nimport PartyManager from './partyManager';\r\nimport PlayerManager from './playerManager';\r\nimport UiManager from './uiManager';\r\n\r\nclass TownManager {\r\n\r\nprivate appManager: AppManager;\r\nprivate partyManager: PartyManager;\r\nprivate playerManager: PlayerManager;\r\nprivate campaignManager: CampaignManager\r\n\r\nconstructor(appManager: AppManager) {\r\n    this.appManager = appManager;\r\n    this.partyManager = this.appManager.getPartyManager();\r\n    this.playerManager = this.appManager.getPlayerManager();\r\n    this.campaignManager = this.appManager.getCampaignManager();\r\n}\r\n\r\n  getTagsForBuilding(building: Building): EncounterFlavorTag[] {\r\n        let tags: Tag[] = [...building.tags];\r\n\r\n\r\n        if (building.addFriendlyTags) {\r\n           const friendlyTags = this.campaignManager.getRandomFriendlyTags(1);\r\n           tags = [...tags, ...friendlyTags];\r\n        }\r\n\r\n        if(building.allowMagicItems) {\r\n            const magicTags = this.campaignManager.getRandomMagicItemTag(1);\r\n            tags = [...tags, ...magicTags];\r\n        }\r\n        \r\n        const randomTags = [];\r\n\r\n        // Encounter tags\r\n        const encounterTags = this.campaignManager.getExpectedEncounterTags();\r\n\r\n       // location tags\r\n        const locationTags = this.campaignManager.getOutstandingLocationTags();\r\n       \r\n       // foreshadowing tags\r\n        const upcomingEncounterTags = this.campaignManager.getUpcomingEncounterTags();\r\n\r\n       // backstory tags\r\n        const backstoryTags = this.campaignManager.getOutstandingBackstoryTags()\r\n       // rumor tags\r\n\r\n       const nbRandomTags = (building.nbTags || 5) - tags.length;\r\n        const allTags = [...encounterTags, ...locationTags, ...upcomingEncounterTags, ...backstoryTags];\r\n        const randomTagSet = new Set<Tag>(tags);\r\n        while (randomTagSet.size < nbRandomTags && randomTagSet.size < allTags.length) {\r\n            const randomIndex = Math.floor(Math.random() * allTags.length);\r\n            const randomTag = allTags[randomIndex];\r\n            randomTagSet.add(randomTag);\r\n        }\r\n\r\n        // Turn all the tags into flavor tags\r\n        let flavorTags: EncounterFlavorTag[] = [];\r\n        randomTagSet.forEach(tag => {\r\n            flavorTags.push({\r\n                tag: tag,\r\n                source: this.campaignManager.getFormattedSource(tag, FlavorTagSource.ALL),\r\n                theme: this.campaignManager.getTheme()\r\n            });\r\n        });\r\n\r\n\r\n        return flavorTags;\r\n}\r\n\r\n\r\n// When character is sliding towards building\r\ntownBuildingAssigned(character: Character, building: TownBuilding): void {\r\n    const player = this.playerManager.getPlayerAssignedCharacter(character);\r\n     \r\n    if(player) {\r\n      this.partyManager.playersTakeAction([player.name], true, 1);\r\n      this.partyManager.stressAction([player]);\r\n    }\r\n\r\n    this.appManager.getChatManager().playerMessage(`${character.name} will head towards the ${building.building.name}`, player?.id);\r\n\r\n\r\n}\r\n\r\n\r\n// when building is activasted\r\ntownBuildingResolved(character: Character, building: TownBuilding, position: number): void {\r\n    const outstandingTags = building.tags;\r\n\r\n    const player = this.playerManager.getPlayerAssignedCharacter(character);\r\n\r\n    // award score\r\n    //this.partyManager.addPartyScore(building.score);\r\n\r\n    // apply building effect\r\n    building.effects.forEach(effect => {\r\n        this.applyBuildingEffect(effect, character, building);\r\n    });\r\n\r\n    building.positionEffects[position].forEach(effect => {\r\n        this.applyBuildingEffect(effect, character, building);\r\n    });\r\n\r\n    building.capacity = 0;\r\n\r\n}\r\n\r\napplyBuildingEffect(effect: BuildingEffect, character: Character, building: TownBuilding): void {\r\n    \r\n\r\n\r\n    if(!effect.chance || (Math.random() * 100) < effect.chance) {\r\n        switch(effect.type)\r\n        {\r\n            case BUILDING_EFFECT_TYPE.HEAL:\r\n                this.partyManager.healCharacter(character);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.INJURE:\r\n                this.partyManager.addInjury(character);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_TENSION:\r\n                this.partyManager.addPartyTension(effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.REPLENISH_MAGIC:\r\n                this.partyManager.replenishMagic(character, effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_REWARDS:\r\n                this.appManager.getUiManager().showRewardModal(effect.value, false);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.REPLENISH_TOOLS:\r\n                this.partyManager.replenishTools(character, effect.value);\r\n                break;\r\n            // case 'backstory':\r\n            //     this.partyManager.addPartyBackstory(1);\r\n            //     break;\r\n            case BUILDING_EFFECT_TYPE.RESURRECT:\r\n               // this.partyManager.resurrectCharacter(character);\r\n                this.partyManager.healCharacter(character);\r\n                break;\r\n           \r\n            case BUILDING_EFFECT_TYPE.USE_TOOLS:\r\n                this.appManager.getCharacterManager().setAttributeUsed(character, ATTRIBUTE_TYPE.TOOLS, effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.USE_MAGIC:\r\n                this.appManager.getCharacterManager().setAttributeUsed(character, ATTRIBUTE_TYPE.MAGIC, effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_DM_POINT:\r\n                this.campaignManager.addDmExp(effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_PLAYER_POINT:\r\n                const player = this.playerManager.getPlayerAssignedCharacter(character);\r\n                this.playerManager.addPlayerExp(player, effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_TREASURE:\r\n                this.partyManager.addTreasurePoints(effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_SCORE:\r\n                this.partyManager.addPartyScore(effect.value);\r\n                break;\r\n            case BUILDING_EFFECT_TYPE.ADD_ENJOYMENT:\r\n                this.partyManager.addPartyEnjoyment(effect.value);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n}\r\n\r\nexport default TownManager;\r\n","\r\nimport { ATTITUDE, FlavorTagSource, RPEncounterFlavorTag } from \"../models\";\r\nimport CampaignManager from \"./campaignManager\";\r\nimport ChatManager from \"./chatManager\";\r\nimport PlayerManager from \"./playerManager\";\r\n\r\n\r\nclass TagManager {\r\n\r\nprivate campaignManager: CampaignManager;\r\nprivate playerManager: PlayerManager;\r\nprivate chatManager: ChatManager;\r\nconstructor(\r\n  campaignManager: CampaignManager,\r\n  playerManager: PlayerManager,\r\n  chatManager: ChatManager\r\n) {\r\n  this.playerManager = playerManager;\r\n  this.chatManager = chatManager;\r\n  this.campaignManager = campaignManager;\r\n}\r\n\r\ngetTooltipText(rpFlavorTag: RPEncounterFlavorTag) {\r\n    let tooltipText = \"\";\r\n\r\n    if (rpFlavorTag.tag) {\r\n      if (this.campaignManager.getCampaignTooltipForTag(rpFlavorTag.tag)) {\r\n        return this.campaignManager.getCampaignTooltipForTag(rpFlavorTag.tag);\r\n      }\r\n\r\n      const flavorTag = rpFlavorTag.tag;\r\n      const playerLikes = this.playerManager.getPartyAttitudeForTag(flavorTag.tag);\r\n      switch (flavorTag.source) {\r\n        case FlavorTagSource.LOCATION:\r\n          switch (Math.floor(Math.random() * 2)) {\r\n            case 0:\r\n              tooltipText = `The players interact with ${flavorTag.tag.name}`;\r\n              break;\r\n            case 1:\r\n              tooltipText = `You describe some nearby ${flavorTag.tag.name}`;\r\n              break;\r\n          }\r\n\r\n          break;\r\n        case FlavorTagSource.FORESHADOWING:\r\n          if (playerLikes === ATTITUDE.LIKE) {\r\n            tooltipText = `Some players will be happy to know that ${flavorTag.tag.name} seems to be part of an upcoming encounter`;\r\n          } else if (playerLikes === ATTITUDE.HATE) {\r\n            tooltipText = `Much to one player's annoyaince - you imply that ${flavorTag.tag.name} will be expected in an upcoming encounter`;\r\n          } else {\r\n            tooltipText = `You foreshadow ${flavorTag.tag.name} for an upcoming encounter`;\r\n          }\r\n          break;\r\n        case FlavorTagSource.FORESHADOWING_RANDOM:\r\n          if (playerLikes === ATTITUDE.LIKE) {\r\n            tooltipText = `The players like ${flavorTag.tag.name}...add it on a whim to an upcoming encounter`;\r\n          } else if (playerLikes === ATTITUDE.HATE) {\r\n            tooltipText = `${flavorTag.tag.name} will feature in an upcoming encounter even though some players hate ${flavorTag.tag.name}`;\r\n          } else {\r\n            tooltipText = `Ad-lib ${flavorTag.tag.name} into an upcoming encounter`;\r\n          }\r\n          break;\r\n        case FlavorTagSource.RUMOR:\r\n          // check if this is an expected tag for a branch\r\n          const isExpectedForCurrentEncounter = this.campaignManager\r\n            .getExpectedEncounterTags()\r\n            .includes(flavorTag.tag);\r\n          tooltipText = isExpectedForCurrentEncounter\r\n            ? `You reinforce the importance of ${flavorTag.tag.name}.`\r\n            : `You confirm the players' questions about ${flavorTag.tag.name}`;\r\n          break;\r\n        case FlavorTagSource.PLAYERS:\r\n          tooltipText = `The players have feelings about ${flavorTag.tag.name}`;\r\n          break;\r\n        case FlavorTagSource.QUESTS:\r\n          tooltipText = `A quest may be advanced bacause of ${flavorTag.tag.name}`;\r\n          break;\r\n        case FlavorTagSource.ALL:\r\n          tooltipText = `For no specific reason, the players discuss ${flavorTag.tag.name}`;\r\n          break;\r\n\r\n        case FlavorTagSource.MAGIC_ITEM:\r\n          tooltipText = `You award the players the ${flavorTag.tag.name} they have been looking for!`;\r\n          break;\r\n        case FlavorTagSource.BACKSTORY:\r\n          tooltipText = `The ${flavorTag.tag.name} is integral to a character's backstory!`;\r\n          break;\r\n        case FlavorTagSource.PLOT:\r\n          tooltipText = `${flavorTag.tag.name} will be important to the story`;\r\n          break;\r\n        default:\r\n          tooltipText = \"\";\r\n          break;\r\n      }\r\n\r\n      tooltipText += this.chatManager.getThemePostFix(flavorTag);\r\n\r\n      return tooltipText;\r\n    } else if (rpFlavorTag.character) {\r\n      tooltipText = `Spend some time focusing on ${rpFlavorTag.character.name}`;\r\n      return tooltipText;\r\n    } else if (rpFlavorTag.type === \"treasure\") {\r\n      tooltipText = `award the players a bit of treasure...`;\r\n      return tooltipText;\r\n    } else if (rpFlavorTag.type === \"dmpoint\") {\r\n      tooltipText = `You have a great idea which will inform future decisions and make you an overall better dm`;\r\n      return tooltipText;\r\n    }\r\n  };\r\n\r\n}\r\n\r\nexport default TagManager;","import { EventEmitter } from 'events';\r\nimport CampaignManager from './campaignManager';\r\nimport PlayerManager from './playerManager';\r\nimport SessionManager from './sessionManager';\r\nimport PartyManager from './partyManager';\r\nimport UiManager from './uiManager';\r\nimport DataManager from './dataManager';\r\nimport { APP_STATE } from \"../consts/states\";\r\nimport CharacterManager from './characterManager';\r\nimport TutorialManager from './tutorialManager';\r\nimport ChatManager from './chatManager';\r\nimport CombatManager from './combatManager';\r\nimport { SESSION_STATE } from '../models';\r\nimport TownManager from './townManager';\r\nimport TagManager from './tagManager';\r\n\r\n\r\n\r\nconst ENABLE_TUTORIAL = false;\r\n\r\n\r\nclass AppManager extends EventEmitter {\r\n\r\n\r\n  private _state: APP_STATE = APP_STATE.MAIN_MENU;\r\n  private lastTime: number = 0;\r\n\r\n  private campaignManager : CampaignManager;\r\n  private playerManager : PlayerManager;\r\n  private sessionManager : SessionManager;\r\n  private dataManager :   DataManager;\r\n  private partyManager :   PartyManager;\r\n  private uiManager : UiManager;\r\n  private characterManager : CharacterManager;\r\n  private tutorialManager : TutorialManager;\r\n  private chatManager : ChatManager;\r\n  private combatManager : CombatManager;\r\n  private townManager : TownManager\r\n  private tagManager : TagManager;\r\n\r\n  constructor() {\r\n    super();\r\n    this.playerManager = new PlayerManager(this);\r\n    this.campaignManager = new CampaignManager(this);\r\n   \r\n    this.characterManager = new CharacterManager(this);\r\n    this.sessionManager = new SessionManager();\r\n    this.dataManager = new DataManager(this);\r\n    this.partyManager = new PartyManager(this);\r\n    this.uiManager = new UiManager(this);\r\n    this.tutorialManager = new TutorialManager(this);\r\n    this.chatManager = new ChatManager(this);\r\n    this.combatManager = new CombatManager(this);\r\n    this.townManager = new TownManager(this);\r\n    this.tagManager = new TagManager(this.campaignManager, this.playerManager, this.chatManager);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.state = APP_STATE.MAIN_MENU;\r\n   \r\n  \r\n    this.playerManager.init();\r\n    this.characterManager.init();\r\n\r\n\r\n    if(ENABLE_TUTORIAL) {\r\n    setTimeout(() => {\r\n      this.tutorialManager.startTutorial('MAIN_MENU');\r\n    }, 100);\r\n\r\n  }\r\n    this.startGameLoop();\r\n    \r\n  }\r\n\r\n\r\n  \r\n  initiateQuickStartSetup() {\r\n\r\n    this.playerManager.initiateQuickStart();\r\n    this.characterManager.initiateQuickStart();\r\n    this.campaignManager.initiateQuickStart();\r\n    this.chatManager.startSessionEvent();\r\n\r\n  }\r\n\r\n\r\n  startGameLoop() {\r\n    const gameLoop = (currentTime: number) => {\r\n      const timeDt = currentTime - this.lastTime;\r\n      this.lastTime = currentTime;\r\n\r\n      this.update(timeDt);\r\n\r\n      requestAnimationFrame(gameLoop);\r\n    };\r\n\r\n    requestAnimationFrame(gameLoop);\r\n  }\r\n\r\n  update(timeDt: number) {\r\n   // console.log(`Updating game state with time delta: ${timeDt}ms`);\r\n    // Update game state and pass timeDt to other controllers\r\n    this.uiManager?.update(timeDt);\r\n  }\r\n\r\n // Getter for state\r\n get state(): APP_STATE {\r\n  return this._state;\r\n}\r\n\r\n// Setter for state\r\nset state(newState: APP_STATE) {\r\n  console.log(\"Changing state from\", this._state, \"to\", newState);\r\n switch(this._state){\r\n\r\n    case APP_STATE.PLAYER_RECRUITMENT:\r\n      this.playerManager.acceptSelectedPlayers();  \r\n    break;\r\n    case APP_STATE.MAIN_MENU:\r\n    case APP_STATE.CHARACTER_CREATION:\r\n    case APP_STATE.CAMPAIGN_SETUP:\r\n      console.log(\"Changing state from \", this._state);\r\n      break;\r\n }\r\n\r\n switch(newState){\r\n  case APP_STATE.MAIN_MENU:\r\n    break;\r\n  case APP_STATE.PLAYER_RECRUITMENT:\r\n    \r\n    this.tutorialManager.startTutorial('PLAYER_RECRUITMENT');\r\n    break;\r\n  case APP_STATE.CHARACTER_CREATION:\r\n    this.tutorialManager.startTutorial('CHARACTER_CREATION');\r\n    break;\r\n  case APP_STATE.CAMPAIGN_SETUP:\r\n    this.tutorialManager.startTutorial('CAMPAIGN_SETUP');\r\n    break;\r\n  case APP_STATE.SESSION_OVERVIEW:\r\n    //this.tutorialManager.startTutorial('SESSION_PREP');\r\n    this.campaignManager.setSessionState(SESSION_STATE.LOCATION_INTRO);\r\n    break;\r\n  case APP_STATE.SESSION:\r\n   // this.tutorialManager.startTutorial('SESSION');\r\n    this.campaignManager.setSessionState(SESSION_STATE.INTRO_EVENTS);\r\n    //this.chatManager.startSessionEvent();\r\n    break;\r\n\r\n}\r\n  this._state = newState;\r\n  this.emit('stateChange');\r\n}\r\n\r\nadvanceState() {\r\n  this.state = this.dataManager?.getStateProps().nextState || APP_STATE.MAIN_MENU;\r\n}\r\n\r\ngetUiManager() {\r\n  return this.uiManager;\r\n}\r\ngetDataManager() {\r\n  return this.dataManager;\r\n}\r\n\r\ngetPlayerManager () {\r\n  return this.playerManager;\r\n}\r\n\r\ngetCharacterManager() {\r\n  return this.characterManager;\r\n}\r\n\r\ngetSessionManager() {\r\n  return this.sessionManager;\r\n};\r\n\r\ngetPartyManager() {\r\n\r\n  return this.partyManager;\r\n};\r\n\r\ngetTagManager() {\r\n  return this.tagManager;\r\n}\r\n\r\ngetCombatManager() {\r\n  return this.combatManager;\r\n}\r\n\r\ngetCampaignManager() {\r\n  return this.campaignManager;\r\n};\r\n\r\ngetTutorialManager() {\r\n  return this.tutorialManager;\r\n}\r\n\r\ngetChatManager() {\r\n  return this.chatManager;\r\n}\r\n\r\ngetTownManager() {\r\n  return this.townManager;\r\n}\r\n\r\n\r\n}\r\n\r\nexport default AppManager;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.scss';\nimport App from './App';\n\nimport AppManager from './managers/appManager';\n\nimport { AppManagerProvider, CampaignManagerProvider, CharacterManagerProvider, DataManagerProvider, PartyManagerProvider, PlayerManagerProvider, SessionManagerProvider, UiManagerProvider } from './components/managerContexts';\n\n// Initialize managers\n\nconst appManager = new AppManager();\n\nconst dataManager = appManager.getDataManager();\nconst campaignManager = appManager.getCampaignManager();\nconst sessionManager = appManager.getSessionManager();\nconst PartyManager = appManager.getPartyManager();\nconst uiManager = appManager.getUiManager();\nconst characterManager = appManager.getCharacterManager();\nconst playerManager = appManager.getPlayerManager();\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <CharacterManagerProvider manager={characterManager}>\n      <PlayerManagerProvider manager={playerManager}>\n        <AppManagerProvider manager={appManager}>\n          <DataManagerProvider manager={dataManager}>\n            <CampaignManagerProvider manager={campaignManager}>\n              <SessionManagerProvider manager={sessionManager}>\n                <PartyManagerProvider manager={PartyManager}>\n                  <UiManagerProvider manager={uiManager}>\n                    <App />\n                  </UiManagerProvider>\n                </PartyManagerProvider>\n              </SessionManagerProvider>\n            </CampaignManagerProvider>\n          </DataManagerProvider>\n        </AppManagerProvider>\n      </PlayerManagerProvider>\n    </CharacterManagerProvider>\n  </React.StrictMode>\n);"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","aa","require","ca","p","a","b","c","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","createElement","ja","hasOwnProperty","ka","la","ma","v","d","e","f","g","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","z","split","forEach","toLowerCase","ra","sa","toUpperCase","ta","pa","qa","test","oa","removeAttribute","setAttribute","setAttributeNS","replace","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","Symbol","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","iterator","Ka","La","A","assign","Ma","stack","trim","match","Na","Oa","prepareStackTrace","construct","l","h","k","displayName","includes","Pa","tag","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","constructor","configurable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","isArray","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","toString","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","Math","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","D","of","has","pf","qf","rf","random","sf","capture","passive","t","J","x","u","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Jf","queueMicrotask","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","ref","_owner","_stringRef","refs","Mg","join","Ng","Og","Pg","Qg","props","Rg","implementation","Sg","Tg","q","r","y","next","done","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","_currentValue","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","callback","nh","K","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","L","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","ReactCurrentDispatcher","Gh","Hh","M","N","O","Ih","Jh","Kh","Lh","P","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","Q","di","lastEffect","stores","ei","fi","gi","hi","ii","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ci","defaultProps","Di","Ei","isMounted","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","Fi","shouldComponentUpdate","isPureReactComponent","Gi","contextType","updater","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","ReactCurrentOwner","Xi","Yi","Zi","$i","aj","compare","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","S","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Gj","Hj","Ij","Jj","U","Kj","WeakSet","V","Lj","W","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","X","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","isReactComponent","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","version","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","__self","__source","Fragment","jsx","jsxs","setState","forceUpdate","escape","_status","_result","default","Children","map","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","obj","prop","Graph","nodes","edges","addNode","addEdge","from","to","weight","_this$edges$get","getNode","PREFERENCE","TAG_TYPE","ATTITUDE","ATTRIBUTE_TYPE","ATTRIBUTE_CONTRIBUTOR","NOTEBOOK_CATEGORY","NAV_ENTRY","CHAT_TYPE","SESSION_STATE","FlavorTagSource","FlavorTagTheme","TAGS_TYPE","PERIL_INDEX","REWARD_TYPE","BUILDING_EFFECT_TYPE","BUILDING_TYPE","TRAVEL_LENGTH","TRAVEL_OPTION","imageMap","player_0","playerIcon0","player_1","playerIcon1","player_2","playerIcon2","player_3","playerIcon3","player_4","playerIcon4","player_5","playerIcon5","player_6","playerIcon6","player_7","playerIcon7","player_8","playerIcon8","player_9","playerIcon9","player_10","playerIcon10","human_1","humanIcon1","human_2","humanIcon2","dwarf_1","dwarfIcon1","dwarf_2","dwarfIcon2","elf_1","elfIcon1","elf_2","elfIcon2","halfOrc_1","halfOrcIcon1","halfOrc_2","halfOrcIcon2","halfElf_1","halfElfIcon1","halfElf_2","halfElfIcon2","halfling_1","halflingIcon1","halfling_2","halflingIcon2","main_menu","mainMenuBG","default_bg","defaultBg","campaign_bg","campaignBg","gameroom_bg","gameroomBg","cult_of_the_deep_1","cultOfTheDeep1","trolls_1","trolls1","millstone_mystery_1","millstoneMystery1","mountain_mystery","mm_l_oldMill","mm_TheOldMill","mm_l_quarry","mm_l_road","mm_l_entrance","mm_l_tunnel","mm_l_bridge","mm_l_beach","mm_l_townville","mm_e_millstone","mm_millstone","mm_e_road","mm_e_quarry","mm_e_tunnels","mm_e_bandits","mm_e_beach","mm_e_shipwreck","mm_e_fire","mm_e_townville","cd_l_underthewell","cd_l_lakeside","cd_l_lakesidebrewery","cd_l_lakesidecliffs","cd_l_sagewoodtavern","cd_l_sagewoodbrewery","cd_e_breweryexploration","cd_e_breweryfight","cd_e_bythelake","cd_e_lakesidecliffs","cd_e_underthewell","cd_e_sagewoodtavern","cd_e_sagewoodbrewery","mm_l_mountain_camp","mm_l_elven_town","mm_e_up_the_mountain","mm_e_pointed","mm_l_witch","mm_e_cabin","mm_l_tunnel23","mm_l_tunnel3","mm_e_dwarves","mm_e_fairlight","mm_l_fairlight","tutorial_mascot","imp","chat_imp","imp_icon","chat_dm","dm_icon","chat_die","number_die_4","number_die_6","number_die_8","number_die_10","number_die_12","number_die_20","number_die_100","combat_human","combat_cultists","combat_dragons","combat_dwarves","combat_elves","combat_goblins","combat_half_orcs","combat_halflings","combat_humans","combat_orcs","combat_undead","combat_half_elves","combat_bandits","combat_beasts","combat_deer","combat_bear","icon_treasure1","icon_dmpoint","icon_playerpoint","event_combat","event_roleplay","event_perception","event_town","event_travel","event_challenge","event_trap","event_exposition","event_exploration","_ref","imageId","path","_jsx","alt","className","RACE","CHARACTER_CLASS","AVAILABILITY_RANGE","ENCOUNTER_EVENT_TYPE","LEVELUP_OPTION","PLAYER_EXP_LEVEL","daysOfWeek","abbreviation","fullName","availabiltyLegend","percentage","getColorFromPercentage","getSymbolForPercentage","dayData","legend","_jsxs","day","getDayPercentage","dayIndex","backgroundColor","legendEntry","classname","AppManagerContext","DataManagerContext","CampaignManagerContext","SessionManagerContext","PartyManagerContext","UiManagerContext","CharacterManagerContext","PlayerManagerContext","CharacterManagerProvider","manager","PlayerManagerProvider","_ref2","AppManagerProvider","_ref3","DataManagerProvider","_ref4","CampaignManagerProvider","_ref5","SessionManagerProvider","_ref6","PartyManagerProvider","_ref7","UiManagerProvider","_ref8","useCharacterManager","usePlayerManager","useAppManager","useCampaignManager","usePartyManager","useUiManager","APP_STATE","DEFAULT_STATE_CONFIG","nextState","MAIN_MENU","showCharacterBar","background_image_id","bg_transition_mode","secondary_bg_image_id","secondary_image_pos","STATE_CONFIG","CAMPAIGN_SETUP","PLAYER_RECRUITMENT","CHARACTER_CREATION","SESSION_OVERVIEW","SESSION","SCORE","GEAR","SWORD_1","attributes","COMBAT","MIRROR_SHIELD","TOOLS","WAND_5","MAGIC","HELPFUL_IMP","STONECUTTER","CLOAK_OF_LEVITATION","WAND_OF_MISSILES","GLOVES_OF_THE_SPIDER","getRaceAttributes","character","race","DWARF","ELF","HUMAN","HALFLING","HALF_ORC","HALF_ELF","NPC","getCombinedAttributes","includeHeroState","raceAttributes","gearAttributes","gear","_gear$attributes$ATTR","_gear$attributes$ATTR2","_gear$attributes$ATTR3","getGearAttributes","classAttributes","getCombinedClassAttributes","combinedAttributes","_character$attributeL","_character$attributeL2","_character$attributeL3","attributeLoss","baseAttribute","level","getClassAttributes","character_class","characterClass","oddLevel","evenLevel","CLERIC","DRUID","FIGHTER","PALADIN","ROGUE","WIZARD","isHeroCombatant","hero","category","collapsed","showAttributeLoss","overviewDisplay","characterManager","combatManager","getCombatManager","npcAttributes","npcTag","getNPCAttributes","generateNPC","combinedattributesWithLoss","lostAttributes","generateIcons","attributeType","icons","symbol","getUFAttributeSymbol","getGenericAttributesDisplay","allIcons","flatMap","getUFAttributeName","getGearAttributesDisplay","getAttributesDisplay","_","ALL","getBackstoryElement","backstory","nbCompleted","filter","bs","completed","placeholdersNeeded","isSelected","onSelect","showAbilities","isAssigned","isAssignedToOther","uiManager","clickedMoreInfo","showBasicNotebook","showInfoOnClick","Cimage","icon","getUFInitials","MoreInfo","getUFRace","getUFClass","AttributeDisplay","abilities","ability","totalSegments","filledSegments","theme","label","buttonWhenFilled","onClickFilled","filledLabel","labelStyle","segments","filled","themeClass","delightColors","delightBorderColors","delightColors2","delightBorderColors2","player","parentUpdate","showCharacters","showSchedule","showPreferences","overlayStyle","showStats","appManager","update","setUpdate","showTooltipLikes","setShowTooltipLikes","showTooltipHates","setShowTooltipHates","showTooltipTraits","setShowTooltipTraits","prevEnjoyment","setPrevEnjoyment","playerStats","enjoyment","isFlashing","setIsFlashing","mainLike","preferences","reduce","prev","mainHate","allLikes","pref","allHates","overlay","playerManager","unassignCharacter","toggleSinglePlayerForCharacter","borderColor","showNotebookForPlayer","Schedule","schedule","traits","onMouseEnter","handleMouseEnterTraits","onMouseLeave","handleMouseLeaveTraits","trait","idx","description","handleMouseEnterLikes","handleMouseLeaveLikes","like","title","handleMouseEnterHates","handleMouseLeaveHates","hate","isFilled","boxShadow","FillBar","involvement","characters","CharacterCard","assignedCharClicked","encounterInfo","campaignManager","encounter","combinedTags","getTagsForEncounter","branches","Cbox","CImage","_characterInfo$charac","_characterInfo$charac2","characterInfo","getPlayer","getPlayerAssignedCharacter","injury","max","story","locationInfo","tags","playerInfo","singleColumn","clickChar","likesList","preference","hatesList","experience","maxEnjoyment","maxInvolvement","stress","stressBuffer","clickCharacter","groupInfo","playerGroup","setPlayerGroup","players","groupAttitudes","setGroupAttitudes","getGroupAttitudes","setDayData","aggregateSchedule","likes","conflicted","hates","GroupSchedule","dayDataToSymbol","tutorialInfo","nextIndex","showNext","prevIndex","showPrev","tutorialManager","getTutorialManager","nextOrClose","closeTutorial","disableTutorial","prevClicked","showTutorialPage","nextClicked","notebookPages","pageIndex","notebookIndex","setNotebookIndex","React","closeNotebook","currentNotebookPage","removePlayerButton","removePlayer","content","notebookTabs","page","NotebookTutorial","getNotebookContent","NotebookEncounter","NotebookCharacter","NotebookLocation","NotebookPlayer","NotebookGroup","buttonList","highlight","navClicked","navEntry","buttonName","highlightClass","renderButton","selectedPlayers","setSelectedPlayers","getSelectedPlayerIds","groupNotebookContent","setGroupNotebookContent","recruitablePlayers","getRecruitablePlayers","numberOfSelectedPlayers","notebookTitle","secondaryEntries","makeGroupNotebookContent","handleRemovePlayer","prevSelectedPlayers","newSelectedPlayers","Notebook","NavBar","PlayerCard","toggleSelectPlayer","playerId","selectedPlayer","setSelectedPlayer","setPlayers","getPlayers","setCharacters","getCharacterReferences","forceRender","isAssignedToOtherPlayer","some","handlePlayerSelect","_selectedPlayer$chara","removeCharacterFromPlayer","assignCharactersToPlayer","assignOrUnassignCharacter","themes","handleClicked","getEventIcon","processedEncounters","encounterRow","rowIndex","encounterIndex","EncounterDisplay","campaign","nbCharacters","nbSessions","iconOnly","onAccept","onCancel","acceptText","_Fragment","CampaignDisplayHeader","CampaignDisplayBody","openCampaign","availableCampaigns","getAvailableCampaigns","selectedCampaign","setSelectedCampaign","CampaignDisplay","setMySelectedCampaign","handleAcceptCampaign","campaignId","startCampaign","readyForGame","TAG","HUMANS","MAIN","friendly","ELVES","DWARVES","ORCS","HALFLINGS","HALF_ORCS","HALF_ELVES","HUNTERS","MONSTERS","GOBLINS","enemy","GNOMES","DRAGONS","UNDEAD","BEASTS","CULTISTS","BANDITS","GAME","EXPOSITION","FIGHTING","PUZZLES","SOCIALIZING","STRATEGY","TOWN","START","EXPLORATION","TREASURE_HUNTING","POLITICS","SCARY","TECHNOLOGY","RELIGION","ECONOMICS","CRAFTING","TRADING","FARMING","TRAVEL","BORING_THINGS","GOSSIP","HEALING","CURSE","ARCHERY","EVIL","MACHINES","TRAPS","MYSTERY","TREASURE","WEAPONS","ARMOR","KNOWLEDGE","SPELLS","GLORY","GOLD","LOCATION","DUNGEON","CITIES","WILDERNESS","UNDERGROUND","MOUNTAINS","FORESTS","DESERTS","SWAMPS","OCEANS","ISLANDS","VILLAGES","RUINS","CASTLES","CAVE","PLAINS","TAVERNS","BEACHES","BRIDGES","BUILDINGS","CAMP","TOWER","CABIN","SHIPS","ROADS","HORSES","PROPS","FURNITURE","attributeDefault","BARRELS","BOOKS","CANDLES","FOOD","DRINKS","BEER","WINE","BELL","COULDRON","ROPE","STATUES","RUNES","EVENTS","FESTIVALS","BATTLES","TOURNAMENTS","QUESTS","MYSTERIES","DISASTERS","CELEBRATIONS","RITUALS","NOBILITY","ELEMENTS","FIRE","DARKNESS","WATER","FOLIAGE","FOG","SMOKE","SCENERY","TREES","RIVERS","LAKES","CAVES","BOULDERS","ANIMALS","CHICKENS","COWS","DEER","BEARS","SOUNDS","CLICKING","THEME","GENERIC_ENCOUNTER_EVENTS","ROLEPLAY","PUZZLE","PERCEPTION","CHALLENGE","TRAP","CHARACTER_BACKSTORY","STORY","CAMPAIGN_TAG","BREWER_KEVIN","KIDNAPPING","OLD_LAKE","CULT_LEADER","CAMPAIGN_BUILDINGS","TEMPLE","nbTags","HEAL","RESURRECT","SHOP","allowMagicItems","REPLENISH_TOOLS","ADD_TENSION","addFriendlyTags","TAVERN","ADD_ENJOYMENT","GUILD_HALL","LEVEL_UP","REPLENISH_MAGIC","CONFRONTATION","LOCATIONS","SAGEWOOD_TAVERN","UNDER_THE_WELL","LAKESIDE_BREWERY","LAKESIDE","LAKESIDE_CLIFFS","ENCOUNTERS","SAGEWOOD","flavorText","combat","nbEnemies","challenge","town","buildings","MARKETPLACE","CONFRONTATION2","nbBuildings","BREWERY_FIGHT","BREWERY_EXPLORATION","BY_THE_LAKE","cultOfTheDeep","startingEncounter","finaleEncounter","encounters","values","plotHooks","tooltipTags","chatTriggers","speaker","PLAYER","CHARACTER","OLD_MILL","STARTING_LOCATION","QUARRY","ROAD","UNDER_THE_MOUNTAIN","TUNNELS","BRIDGE","BEACH","TOWNVILLE","FINALE_LOCATION","INTRO_IN_TOWN","SOCIAL","INTRO_AT_MILL","ROAD_TO_QUARRY","BORING","QUARRY_INVESTIGATION","MOUNTAIN_ENTRANCE","EXPLORING_THE_TUNNELS","BANDITS_ON_THE_BRIDGE","BEACH_TRAVEL","EXPLORE_SHIPWRECK","TOWNVILLE_FIRE","millstoneMystery","VILLAGE_ELDER","DANCING","ELVEN_PRIEST","ADD_INVOLVEMENT","INJURE","FAIRLIGHT","WINDY_MOUNTAIN_PATH","ELVEN_VILLAGE","WITCH_CABIN","DWARVEN_TUNNEL","SMOKEY_CAVE","FAIRLIGHT_FESTIVAL","ELDERS_HOME","SPECIAL_SHOP","UP_THE_MOUNTAIN","BEAR","POINTED_CONVERSATIONS","ELVEN_TEMPLE","ELVEN_SHOP","MASSAGE","GATHERING_AREA","NASTY_FALL","SLUMS","BELL_SMOKE","TUNNEL_23","SMOKEY","FINALE","CAMPAIGNS","DM","EncounterOverview","setEncounter","getCurrentEncounter","expectedEncounterTags","setExpectedEncounterTags","getExpectedEncounterTags","establishedEncounterTags","setEstablishedEncounterTags","getResolvedTagsForBranch","locationTagsEstablished","setLocationTagsEstablished","getWeightedLocationTagsEstablished","locationTags","setLocationTags","getEncounterLocationTags","completedEvents","setCompletedEvents","getCompletedEvents","campaignModalVisible","setCampaignModalVisible","canTakeBreak","setCanTakeBreak","campaignScore","setCampaignScore","getCampaignScore","setSceneTags","sort","updateEncounterState","sortedSetSceneTags","localeCompare","uniqueEventTypes","currentLocationTheme","getEventDescription","eventType","handleExpositionClicked","getEncounterExpositionText","useBreak","getCurrentCampaign","getCampaignProgress","getCollectedLocationTags","encounterEventSelected","clickEvent","branch","advanceEncounter","hackToBranch","getExpectedTagsForBranch","expectedTags","authoredTags","getAuthoredEncounterTags","totalSlots","fillerTags","fill","nbExpectedTags","NB_EXPECTED_ENCOUNTER_TAGS","getEncounterAdvanceReadinessText","_campaignManager$getC","_campaignManager$getC2","locationsTags","dmTricks","getDmTricks","gameElements","getCampaignName","getColorForEncounterByName","setEvents","eventIndex","EncounterEventDisplay","isGrim","leftPosition","baseDie","displayNumber","modifierCallback","side","combatState","usedTags","tagSet","onTagClick","NumberDie","spendDMPoints","combatantCallback","friendlyTags","hostileTags","onFriendlyTagClick","onHostileTagClick","dangerLabels_default","stressLabels_default","engagementBase","combatBarArrayLength","partyManager","getPartyManager","getChatManager","getCampaignManager","getRange","riskCenter","getCollectedThemes","stressLabels","setStressLabels","dangerLabels","setDangerLabels","engagementLabels","setEngagementLabels","setRange","highlightedSegment","setHighlightedSegment","isAnimating","setIsAnimating","combatResultIndex","setCombatResultIndex","randomResult","setRandomResult","applyGrimEffect","grim","labelsRef","danger","engagement","setCombatBarAnimating","round","phase","newRange","modifyCombatRangeCenter","blah","setEngagement","setPeril","newCombatState","pickRandomInRange","enemyStrength","enemyStats","attack","partyStrength","getPartyStrength","dangerCoefficient","perilLabels","risk","calcRisk","setStress","stressArray","getStressForPeril","peril","engagementArray","maxEngagement","basicEngagement","roundedEngagement","result","animateRangePicker","setPerilResult","generateColorsFromLabels","numbers","generateColorFromValue","dangerColors","stressColors","engagementColors","getSegments","segmentColors","labels","initialSetup","finalNumber","direction","currentIndex","animate","_combatManager$getCom","getCombatState","combatModifiersCallback","modifier","flavor","combatant","AddCombatants","CombatModifiers","RangeCard","ENEMIES","defense","magic_defense","health","defaultStats","CombatManager","super","chatManager","getCombatMessage","barAnimating","enemyType","perilResult","DANGER","combatMessage","getCharacterManager","getPlayerManager","getUiManager","generateCombatRewards","rewards","generateCombatState","combatIndex","_this$campaignManager","_this$campaignManager2","_this$campaignManager3","enemies","attacker","currentCharacterIndex","currentEnemyIndex","getHostileCombatantTags","getFriendlyCombatantTags","npcs","heroAttacks","enemyStatsInstance","updateCombatState","GetDefaultCombatState","applyPerilResultsToParty","_this$partyManager","_this$partyManager2","STRESS","score","addPartyTension","addPartyScore","advanceRound","_this$chatManager","_this$partyManager4","generateEnemyAttributeInstance","generateHeroAttacks","combatIntroMessage","_this$partyManager3","_this$uiManager","showRewardModal","perilCheck","exhaustParty","getAttackActionCost","_this$combatState","chanceOfPeril","randomRoll","_this$chatManager2","activatePeril","dmMessage","_this$partyManager5","combatants","generateHeroes","injuredIndex","_this$chatManager3","_this$chatManager4","_this$partyManager6","addInjury","_this$getCombatState","_this$getCombatState2","_this$getCombatState3","attributeIndex","enemyAttributes","_this$partyManager7","_this$combatState2","heroes","generateAttack","heroRethinkAttack","_this$campaignManager4","_this$chatManager5","currentAttack","maxRetries","chatMessage","getHeroAttackDecisionText","_this$combatState3","attackType","allAbilities","_this$characterManage","heroAttack","_this$characterManage2","_hero$character","_this$characterManage3","_this$playerManager","_this$partyManager8","_this$partyManager9","_this$chatManager6","playersTakeAction","stressAction","playerMessage","fullAbilities","actualDamage","damageType","nbIcons","crit","damage","toolsDamage","setAttributeUsed","nbSpells","spellDamage","attackString","reduceEnemies","_this$campaignManager5","increaseEnemies","_this$campaignManager6","_this$chatManager7","sayCombatModifiedMessage","clickedCombatant","setEnemyType","colors","negative","neutral","positive","padStart","ThemedButton","WrappedComponent","handleClick","setTheme","randomTheme","regenerateKey","combinedClassName","themedUiClicked","_encounter$combat$","_combatManager$getCom3","_combatManager$getCom4","_combatManager$getCom5","swapVisible","setSwapVisible","setEnemyAttributes","setNbEnemies","combatBarAnimating","setCombatMessage","setRewards","heroCombatants","setHeroCombatants","heroActed","setHeroActed","getEnemyAttributeInstance","_combatManager$getCom2","modifyEnemies","CombatBar","generateEnemy","getRoundAdvanceLabel","every","heroAttackPressed","newHeroActed","getHeroFirstName","allCharacters","getAllPlayerCharacters","perceptionRevealed","setPerceptionRevealed","perceptionAccepted","setPerceptionAccepted","perceptionTags","setPerceptionTags","revealOrRerollCharacterPerceptions","newPerceptionRevealed","newPerceptionTags","getPerceptionTags","perceptionEventReveal","getPlayerAttitudesStyle","getTooltipMessage","flavorTag","perceptionTagsIndex","tagIndex","messageString","encounterTooltip","getCampaignTooltipForTag","CURRENT_LOCATION","BRANCH_LOCATION","CHARACTER_BACKSTORY_PROGRESS","MAGIC_ITEM","getPerceptionTagTypeDisplay","indexb","Tooltip","expectsMagicItem","isRumor","perceptionTag","PLOT_HOOK","getCampaignIcon","getNextPlotHookPerceptionText","rerollCharacterPerception","acceptCharacterPerception","newPerceptionAccepted","acceptPerceptionTags","perceptionEvent","bandLabels","tagManager","getTagManager","positions","setPositions","flavorTags","setFlavorTags","generateRoleplayEventTags","freeTags","setFreeTags","containerRef","newPositions","bands","isOverlap","pos","abs","parseFloat","overlap","currentTry","bandIndex","band","adjustTooltips","container","containerRect","getBoundingClientRect","tooltip","tooltipText","querySelector","tooltipRect","right","transform","bottom","handleTagClick","topPercentage","getScoreForPosition","roleplayingEvent","selectRoleplayFlavorTag","getCurrentEvent","instructions","getLegend","getPlayerCharacters","_flavorTag$tag","_flavorTag$tag$tag","_flavorTag$character","_flavorTag$character2","getTooltipText","mini","characterId","_building$position","_building$position2","_building$size","_building$size2","building","isSelectable","buildingId","onCharacterClick","getTownManager","renderPositionEffect","effect","isIcon","iconText","iconId","textClass","ADD_DM_POINT","ADD_PLAYER_POINT","ADD_TREASURE","ADD_SCORE","renderEffect","effectString","effectClass","USE_TOOLS","USE_MAGIC","isResolved","resolvedTags","isHighlighted","capacity","currentVisitors","CharacterToken","positionEffects","BARRACKS","LIBRARY","DEFAULT_TOWN_BUILDINGS","townManager","setBuildings","selectedCharacter","setSelectedCharacter","getCharacters","exhaustion","setExhaustion","assignedCharacters","setAssignedCharacters","animatingCharacter","setAnimatingCharacter","autoAssign","setAutoAssign","getPositionEffects","randomEffect","NONE","generatedBuildings","_encounter$town","_encounter$town$","_encounter$town2","_encounter$town2$","_encounter$town3","_encounter$town3$","minBuildings","maxBuildings","numBuildings","cellHeight","usedCells","availableBuildings","randomBuilding","cellX","cellY","getTagsForBuilding","generateTownBuildings","assignCharacterToBuilding","fromRect","buildingRect","slotIndex","toRect","getSlotPosition","requestAnimationFrame","animatingElement","classList","updatedBuildings","buildingElement","townBuildingResolved","startX","DOMRect","handleCharacterClick","elementRect","townBuildingAssigned","townEvent","resolveTownTag","remove","BuildingCard","handleBuildingClick","characterElement","characterRect","barLabels","results","resultsValues","challengeBarArrayLength","segmentWidth","arrowPosition","reward","_l","getAttributesForTag","tools","magic","NAMES","randomElement","someArray","generateName","CHARACTER_NAMES","PLAYER_NAMES","COST","CHALLENGE_PER_HERO","BACKSTORY_ASSIGNED","MAGIC_ITEM_INTRODUCED","MAGIC_ITEM_FOUND","BACKSTORY_FULFILLED","LOCATION_DESCRIBED","FORESHADOWED_ENCOUNTER","ENCOUNTER_TAG_RESOLVED","_challengeTags$curren","challengeAssistTags","challengeHeroes","challengeTags","attemptCallback","sawResultsCallback","heroesEnabledCallback","currentDifficulty","setCurrentDifficulty","currentTagIndex","setCurrentTagIndex","dieResult","setDieResult","showResult","setShowResult","completedChallenges","setCompletedChallenges","resultFailed","setResultFailed","allChallengesCompleted","generateTagIcons","multiplier","isTagEstablished","getEstablishedTags","establishedTag","heros","calculateSuccess","currentTag","difficulty","total","challengeAttributes","assistAttributes","getAllAssistAttributes","heroAttributes","tagAttributes","assistCombat","assistMagic","assistTools","combatChance","magicChance","toolsChance","clickPrev","clickNext","clickDifficultyDown","getDifficultyText","getDifficultyRewardText","clickDifficultyUp","index2","renderLegend","difficultyRating","attemptChallenge","playersInvolved","_playerManager$getPla","dieRoll","calcSuccess","success","newCompletedChallenges","resolveExpectedTagsForBranch","_campaignManager$curr","_campaignManager$curr2","_challenge$","_challenge$2","currentEncounter","collectedLocationTags","getCollectedLocationTagsForChallenge","usedLocationTags","setUsedLocationTags","selectedHeroes","setSelectedHeroes","selectedLocationTags","setSelectedLocationTags","setheroes","playerAssignedTags","setPlayerAssignedTags","challengeResults","setChallengeResults","numFailures","setNumFailures","heroesEnabled","setHeroesEnabled","buttonKeys","setButtonKeys","challengeTitle","challengeDescription","uncollectedLocationTags","collectedTag","showLocationTag","regenerateButton","canSelectLocationTag","assignTagToPlayer","playerIndex","newPlayerAssignedTags","handleSelectAssistTag","newUsedLocationTags","getPlayerUsedLocationTag","_playerAssignedTags$i","delectAssignedLocationTag","selectedTag","used","_collectedLocationTag","assistOrAttempt","toUpper","renderAvailableTags","_campaignManager$curr3","handleClickHeroAssist","assisting","findIndex","locationTag","selectRandomTag","ChallengeDisplay","getChallengeTags","thisEvent","getEncounterTags","campaignChatTrigger","getEncounterChatTrigger","fireNewChatMessage","sawResultCallback","regenerateAllButtons","enable","ChallengeBar","maxWidth","visible","trigger","preservePositioning","showHelpIcon","isVisible","setIsVisible","coordinates","setCoordinates","tooltipRef","timeoutRef","shouldShow","containerStyle","getComputedStyle","visibility","scrollX","scrollY","windowWidth","innerWidth","windowHeight","innerHeight","showTooltip","hideTooltip","toggleTooltip","onFocus","onBlur","travelOption","boredom","travelOptionType","eventTag","getEventTag","hasTravelTag","displayValue","isLocked","TooltipWrapper","EXPLORE_UPCOMING_LOCATION","AMBUSH","TRADERS","SIDE_QUEST","getTagDisplayTooltipContent","_effectData$effects","effectData","object","class","anyFlavorTag","highlighted","tooltipVisible","setTooltipVisible","tagRef","getTagClasses","classes","playerAttitudeStyle","getTooltipContent","_flavorTag$tag$name","campaignTooltip","PLOT","PLAYERS","BACKSTORY","FORESHADOWING","travelLength","setTravelLength","MEDIUM","availableOptions","setAvailableOptions","usedTravelOptionIds","setUsedTravelOptionIds","bigRewardSection","setBigRewardSection","smallRewardSections","setSmallRewardSections","travelOptions","setTravelOptions","getTravelOptions","selectedOption","setSelectedOption","selectedTags","setSelectedTags","journeyLength","setJourneyLength","boredomLevel","setBoredomLevel","travelResultsVisible","setTravelResultsVisible","travelResultConfig","setTravelResultConfig","targetCharacter","setTargetCharacter","nbTagClicks","setNbTagClicks","randomizeRewards","journeySections","bigRewardIndex","bigReward","smallRewards","section","getJourneyDetails","rating","getBoredomLevel","getTensionLevel","handleTravelOption","option","_travelOptionResult$t","repeatable","travelOptionResult","selectTravelOption","travelOptionResultCharacter","travelResults","find","travelTags","info","assignBackstory","exposeTagForEncounter","getFilteredOptions","filtered","shortTravelOptions","mediumTravelOptions","longTravelOptions","mark","EffectDisplay","tagInstructions","tagUsed","FlavorTagPill","TravelOptionDisplay","SHORT","LONG","handleAcceptJourney","multiplyPartyTension","currentRating","dmPoints","addDmExp","backToOverview","TreeShape","borderRadius","SCENERY_THEME_CONFIGS","shapes","minSize","maxSize","rotate","forest","brewery","mountain","cave","dungeon","generateShapes","config","regenKey","themeConfig","shape","showOverview","encounterState","setEncounterState","getEncounterState","showImageForEvent","setShowImageForEvent","eventImageOpacity","setEventImageOpacity","getEventImageOpacity","newState","sessionState","updateEvent","getCurrentEventComponent","GameEncounterCombat","GameEncounterRoleplay","GameEncounterPuzzle","GameEncounterPerception","GameEncounterTown","GameEncounterTravel","GameEncounterChallenge","GameEncounterTrap","GameEncounterStory","GameEncounterExploration","GameEncounterOverview","EncounterScenery","getCurrentEventComponentParent","LOCATION_INTRO","GameEncounterIntro","INTRO_EVENTS","INTRO_MAIN","MAIN_EVENTS","INTRO_EXIT","EXIT_EVENTS","EXIT","REWARD_ITEMS","cost","XP","rewardsAcceptedCallback","setVisible","rewardTotal","setRewardTotal","selectedItems","setSelectedItems","currentTotal","sum","item","currentAvailableRewards","setCurrentAvailableRewards","nextEventOnAccept","setNextEventOnAccept","getPanelState","availableRewards","expectedGear","getExpectedGear","ITEM","handleShowRewards","advanceEvent","handleCloseCallback","getPanelLowText","getPanelHighText","toggleItem","GameTable","GameEncounter","RewardModal","rewardsAccepted","describeArc","radius","startAngle","endAngle","polarToCartesian","largeArcFlag","centerX","centerY","angleInDegrees","angleInRadians","PI","cos","sin","angleRange","currentAngle","needleStyle","transformOrigin","viewBox","preserveAspectRatio","generateArcs","arcs","segmentAngle","pathData","stroke","generateTicks","ticks","angleRad","x1","y1","x2","y2","cx","cy","getStressColors","colorIndex","getTensionDescription","showPlayerTooltip","setShowPlayerTooltip","showCharacterTooltip","setShowCharacterTooltip","setEnjoyment","attention","setAttention","getStatColor","updateStats","playerLikes","playerHates","playerTraits","treasureLevel","treasurePoints","getTreasureThreshold","nextThreshold","nextReward","getTreasureReward","overviewMode","partyExhaustion","setPartyExhaustion","getPartyExhaustion","partyTension","setPartyTension","getPartyTension","partyScore","setPartyScore","getPartyScore","setTreasureLevel","getTreasureLevel","setTreasurePoints","getTreasurePoints","updateGameInfo","PlayerDisplay","TreasureDisplay","StressInfo","NeedleGauge","getTensionDescription2","SessionControlComponent","GameRoom","SYMBOLS","BET_OPTIONS","SYMBOL_PAYOUTS","PAYLINES","row","STORAGE_KEYS","saveToLocalStorage","serializedValue","localStorage","setItem","loadFromLocalStorage","SLOT_MACHINE_SOUNDS","SPIN","WIN_SMALL","WIN_MEDIUM","WIN_BIG","REEL_STOP","BUTTON_CLICK","WILD_COLLECT","WILD_STORM_TRIGGER","WILD_APPLIED","audioCache","onClose","credits","setCredits","wilds","setWilds","currentBet","setCurrentBet","highlightWins","setHighlightWins","winningPositions","setWinningPositions","currentGrid","setCurrentGrid","showDebugPanel","setShowDebugPanel","winAmount","setWinAmount","setMessage","isSpinning","setIsSpinning","bigWinActive","setBigWinActive","isWildStormActive","setIsWildStormActive","wildStormChancePercentage","setWildStormChancePercentage","wildAnimations","setWildAnimations","activePaylineIndex","setActivePaylineIndex","highlightInterval","setHighlightInterval","paylinesToHighlight","setPaylinesToHighlight","clearInterval","startPaylineCycle","paylineGroups","interval","setInterval","getSymbolName","generateRandomGrid","newGrid","specialRoll","premiumSymbols","regularSymbols","s","symbolsWithoutWild","animateWildCollection","anim","checkForWinsDigital","grid","betMultiplier","totalWinnings","winMessages","collectedWildsThisSpin","allWinningPositionsThisSpin","winningPaylineGroups","payline","paylineIndex","currentSymbol","dominantSymbol","currentStreak","paylineWinningPositions","paylineSymbols","payoutSymbolToUse","baseWinningAmount","payoutConfig","winningAmount","symbolNames","spin","async","numAnimationFrames","animationTotalDuration","activeGrid","wildstormHappened","wildStormRoll","currentWildsCount","tempGrid","availableSpots","randomSpot","prevWilds","audio","Audio","load","htmlFor","onChange","parseInt","appearance","MozAppearance","WebkitAppearance","colNum","colIndex","_paylinesToHighlight$","isWinningPosition","isHighlightedPosition","symbolName","symbolClass","line","bet","isOpen","SlotMachine","isSlotMachineOpen","setIsSlotMachineOpen","openSlotMachine","handleQuickStart","initiateQuickStartSetup","SlotMachineModal","closeSlotMachine","newMessage","getMessageIconId","speakerName","getMessageSpeakerName","messages","setMessages","expanded","setExpanded","setNewMessage","muted","setMuted","scrollHeight","handleNewMessage","prevMessages","toggleChat","toggleMute","ChatMessageDisplay","chatmessage","maxSegments","onRedeem","entries","flavorTagThemes","setFlavorTagThemes","updateFlavorTags","Chat","ToneTracker","redeemTheme","changeBG","toggleImageForEvent","DMScreen","collectedTags","setCollectedFlavorTags","rumorTags","setRumorTags","getRumorTags","backstoryTags","setBackstoryTags","getAllExpectedBackstoryTags","setDMPoints","getDMPoints","setDMTricks","dmLevel","setDMLevel","getDmLevel","dmExperience","setDMExperience","getDmExp","updateScreenInfo","newTags","newExpectedEncounterTags","newEstablishedEncounterTags","newCollectedTags","encounterBranches","showPlayerAttitude","transitioning","setTransitioning","transitionComplete","setTransitionComplete","showImage","setShowImage","dataManager","getDataManager","handleStateChange","updateState","getBackgroundClass","getStateProps","backgroundRepeat","MainMenuComponent","PlayerRecruitmentComponent","CharacterCreationComponent","CampaignSetupComponent","getOpenCampaign","SessionPrepComponent","SessionRunComponent","FinalStatsComponent","getModeComponent","BottomBar","Modal","modalConfig","handleOptionSelect","closeModal","useModal","setModalConfig","handleModalStateChanged","optionId","handleModalOptionSelected","travelConfig","GlobalUi","notebookState","setNotebookState","tutorialPage","setTutorialPage","handleSetNotebookState","handleTutorialPage","getStateComponent","ModeContainer","TRAVEL_OPTIONS_SHORT","EXPLORE_CURRENT_LOCATION","TRAVEL_OPTIONS_MEDIUM","TRAVEL_OPTIONS_LONG","CampaignManager","currentCampaign","establishedTags","expectedTagsForBranches","resolvedTagsForBranches","campaignProgress","themeCounts","completedEventIndexes","breaksAvailable","rewardDifference","addPartyEnjoyment","replenishPartyTools","levelUpLowestCharacter","getRandomPlayer","getRandomCharacterForPlayer","assignGear","_reward$tag","advanceCampaignStory","healRandomCharacter","raiseRandomFromDead","replenishPartyMagic","getFormattedSource","formattedSource","isMagicItemRumor","isBackstoryTag","isLocationRumor","isEncounterLocationTag","isCurrentEncounterTag","isUpcomingEncounterTag","COMEDIC","SERIOUS","DRAMATIC","addPartyEngagement","continueTheme","updateFlavorTagThemesTally","addTheme","points","exhaustForRoleplayAction","actionCost","_this$currentEncounte","perceptionTagType","branchTags","getRandomGear","getTheme","curLocationName","nbLocationTags","outstandingBackstoryTags","getNewBackstoryTags","expectedGearTags","gearTag","randomBackstoryTags","exposeEncounterTag","updateAllAttention","exposeCurrentlocationTag","addCampaignScore","newTag","setCampaignProgress","progress","_this$currentEncounte2","upcomingBranches","possibleTags","randomIndex","_this$currentEncounte3","startNewRumor","getCharactersWithBackstoryTag","campaignChatTrigerred","expectedTagResolved","possibleBranchesToAssignRandomTagTo","tagAssigned","couldAssignRandomTagToBranch","FORESHADOWING_RANDOM","triggerAddRandomTagToEncounterConversation","establishOrStartRumor","rpFlavorTag","addTreasurePoints","rumorTag","outstandingTags","outstandingTag","consoleThing","accumulatedTags","allLocationTags","allRumoredTagsToAdd","allExpectedEncounterTags","allPlayerTags","getAllPlayerPreferences","allBackstoryTags","allAllTags","upcomingEncounterTags","alreadyExpectedTags","upcomingEncounterTagsToAdd","getRandomTags","rumoredTagsToAdd","getTagsForUpcomingEncounters","playerPreferenceTags","backstoryTag","totalPossibleTagsNb","extraTags","EncounterFlavorTags","ForeshadowingFlavorTags","randomRpTags","RUMOR","couldAssignRandomTag","includeCharacter","allTags","flavortag","charTag","treasureTag","dmpointTag","setDefaultTravelOptions","getEstablishedCombatantTags","getPotentialCombatantsTags","getEstablishedFriendlyTags","getRandomFriendlyTags","getResultTags","randomPlayer","randomCharacter","getUpcomingEncounterTags","addResult","existingResult","boredomRisk","travelResultCharacter","getRandomCharacter","injuryResult","getRemainingAttributes","magicReduced","useHalfRemainingAttributes","gearReduced","updateAttention","addEnjoyment","tensionAmount","_this$currentEncounte4","_campaign$tooltipTags","_this$currentEncounte5","_campaign$tooltipTags2","_this$currentEncounte6","getThemePostFix","totalNbRandomTagsAllowed","upcomingTags","couldAssignRandomTagToAnyBranch","getActiveThemes","branchName","getOutstandingBackstoryTags","_CAMPAIGNS$processedE","flat","_CAMPAIGNS$plotHooks","plotHookIndex","_CAMPAIGNS$processedE2","getNextEncounters","_this$currentEncounte7","getEncounterEvents","_this$currentEncounte8","_this$currentEncounte9","getOutstandingLocationTags","_this$currentEncounte10","_this$currentEncounte11","_this$currentEncounte12","themeRoll","combatantTags","getRandomMagicItemTag","filteredName","getCampaignChatTriggers","getEncounterChatTriggers","campaignTriggers","encounterTriggers","tagList","omittedTags","omittedNames","takeBreak","initiateQuickStart","_CAMPAIGNS$index","_this$currentEncounte13","_this$currentEncounte14","_this$currentEncounte15","_CAMPAIGNS$index$proc","currentEncounterBranches","currentTagsForBranch","validateTags","displayNewEncounter","tagsForBranches","setSessionState","_this$currentEncounte16","currentBranchName","j","amount","_this$currentEncounte17","currentEncounterEstablished","someBranchesReady","allBranchesReady","_this$currentEncounte18","_this$currentEncounte19","_this$currentEncounte20","_this$currentEncounte21","_this$currentEncounte22","potentialBranches","branchWithMoreExpectedTags","PLAYER_TRAITS","TEAM_PLAYER","GRUMPY","FORMER_DM","MIN_MAXER","ROLE_PLAYER","LOGICIAN","WEALTHY","BLOODTHIRSTY","QUICKSTART_CHARACTERS","QUICKSTART_PLAYERS","LIKE","HATE","uniqueID","_currentPlayerIndex","getCurrentPlayer","isCurrentPlayerLast","generateAvailablePlayers","stressPlayers","updateParty","getSelectedPlayers","getPlayerById","generateIcon","generateSchedule","nbPlayer","newPlayer","generatePreferences","generatePlayerTraits","getMaxCharactersPerPlayer","acceptSelectedPlayers","getPlayerWithAttitudeForTag","attitude","playersWithAttitude","allTraits","startTags","mainTags","getRandomPreferences","selectedPreferences","randomTag","randomValue","randomLikesCount","randomHatesCount","randomLikes","randomHates","_this$uiManager2","thePlayer","isCharacterAssigned","dayValue","feel","CONFLICTED","getGroupAttitudeForTag","NEUTRAL","getPartyAttitudeForTag","allPlayersHaveCharacter","addPlayerExp","_this$uiManager3","expNeededForLevel","handleLevelUp","allPreferences","allowDead","aliveCharacters","refreshPlayer","_this$uiManager4","getPlayerLevelUpOption","levelUpOption","randomStat","rand","MAX_HAPPINESS","_this$uiManager5","MAX_ATTENTION","_this$uiManager6","STRESS_BUFFER","_this$uiManager7","getFancyLevelUpOption","generateRandomCharacter","_this$uiManager8","_this$uiManager9","levelUpOptions","REFRESH","showModal","startSession","PartyManager","tensionDescriptions","scoreMultiplier","stressIncrease","_this$playerManager2","strength","playersAttended","_this$playerManager3","reduceAllOthers","addAmount","_this$playerManager4","_this$playerManager5","_this$playerManager6","_this$uiManager10","getTensionScoreMultiplier","_this$playerManager7","_this$uiManager11","_this$uiManager12","_this$uiManager13","treasureLevelUp","_this$playerManager8","_this$playerManager9","_this$uiManager14","replenishTools","_this$playerManager10","_this$uiManager15","_this$playerManager11","injuredCharacters","healParty","_this$playerManager12","_this$uiManager16","healCharacter","_this$uiManager17","_this$playerManager13","deadCharacters","_this$playerManager14","_this$uiManager18","replenishMagic","_this$uiManager19","_this$playerManager15","lowestCharacter","lowestLevel","levelUp","affectedPlayers","_this$playerManager16","_this$uiManager20","getStressIncrease","npc","heroCombatant","tension","mult","getScoreMultiplier","UiManager","renderImageForEvent","activeModal","_this$activeModal","_this$activeModal2","opt","showNotebook","newNotebookStateArray","changeEventTimer","getCharacterById","HELPER","getShortenedName","charName","showTutorialMessage","tutorialStep","showAcceptCampaignModal","campaignID","timeDt","getPlayerEmail","playerName","seed","hashString","seededRandom","randomDigit","getPlayerPhone","str","hash","charCodeAt","getGraph","campaignGraph","stateConfigs","initStates","_this$stateConfigs$ge","selectedCharacters","classId","raceId","attributeId","generateRandomCharacters","setSelectedCharacters","getCharacterByIndex","remainingAttributes","reductionAmount","getSelectedCharacters","getRandomRace","races","getRandomClass","getRandomIconNumber","getRandomIcon","characterRace","generateStartingGear","gearNames","gearName","existingBackstory","newBackstory","generateSingleCharacter","cclass","crace","nbChars","TUTORIALS","withHTML","TutorialManager","seenTutorials","turnOffTutorials","startTutorial","tutorialId","force","ChatManager","conversations","WELCOME_CONVERSATION","launchNewConversation","triggerConversation","convoid","percentChance","launchNewConversationById","pacing","conversation","startSessionEvent","chance","chatSpeaker","magicItemConversation","themeConversation","_player$id","_player","_player2$id","player2","player2Id","conflictedConversation","randomTagConversations","randomTagConversation1","magicItem","newChat","playerAttitude","playerToSpeak","magicTags","encounterTags","nbRandomTags","randomTagSet","applyBuildingEffect","ADD_REWARDS","AppManager","_state","lastTime","sessionManager","PlayerManager","CharacterManager","SessionManager","DataManager","TownManager","TagManager","startGameLoop","gameLoop","currentTime","advanceState","_this$dataManager","getSessionManager","ReactDOM","getElementById","App"],"sourceRoot":""}